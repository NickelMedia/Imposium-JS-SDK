// [IMPOSIUM-JS-SDK]  Version: 2.2.3  
 !function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Imposium",[],t):"object"==typeof exports?exports.Imposium=t():e.Imposium=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=82)}([function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}},function(e,t,n){"use strict";(function(e,r){n.d(t,"d",function(){return i}),n.d(t,"j",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"n",function(){return u}),n.d(t,"l",function(){return l}),n.d(t,"e",function(){return f}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return h}),n.d(t,"h",function(){return v}),n.d(t,"i",function(){return y}),n.d(t,"m",function(){return m}),n.d(t,"k",function(){return b}),n.d(t,"f",function(){return O});var o=n(4);n(17);function i(e,t){return e.require(t)}function a(){return"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}var s={};function c(){return a()?r:"undefined"!=typeof window?window:"undefined"!=typeof self?self:s}function u(){var e=c(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function l(e){if(!e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function f(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function p(e){var t=c();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach(function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)});var o=e();return Object.keys(r).forEach(function(e){n[e]=r[e]}),o}function d(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function h(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach(function(n){e.exception.values[0].mechanism[n]=t[n]})}catch(e){}}function v(){try{return document.location.href}catch(e){return""}}function y(e){try{for(var t=e,n=[],r=0,o=0,i=" > ".length,a=void 0;t&&r++<5&&!("html"===(a=g(t))||r>1&&o+n.length*i+a.length>=80);)n.push(a),o+=a.length,t=t.parentNode;return n.reverse().join(" > ")}catch(e){return"<unknown>"}}function g(e){var t,n,r,i,a,s=e,c=[];if(!s||!s.tagName)return"";if(c.push(s.tagName.toLowerCase()),s.id&&c.push("#"+s.id),(t=s.className)&&Object(o.k)(t))for(n=t.split(/\s+/),a=0;a<n.length;a++)c.push("."+n[a]);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)r=u[a],(i=s.getAttribute(r))&&c.push("["+r+'="'+i+'"]');return c.join("")}function m(){return(new Date).getTime()/1e3}var _=6e4;function b(e,t){if(!t)return _;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?_:r-e}var E="<anonymous>";function O(e){try{return e&&"function"==typeof e&&e.name||E}catch(e){return E}}}).call(this,n(74),n(40))},,function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"a",function(){return v});var r=n(4),o=n(81),i=n(1),a=n(17);function s(e,t,n){if(t in e){var r=e[t],o=n(r);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:r}})}catch(e){}e[t]=o}}function c(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function u(e){if(Object(r.d)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}if(Object(r.f)(e)){var a=e,s={};s.type=a.type;try{s.target=Object(r.c)(a.target)?Object(i.i)(a.target):Object.prototype.toString.call(a.target)}catch(e){s.target="<unknown>"}try{s.currentTarget=Object(r.c)(a.currentTarget)?Object(i.i)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(e){s.currentTarget="<unknown>"}for(var o in"undefined"!=typeof CustomEvent&&Object(r.g)(e,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a);return s}return e}function l(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function f(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r=h(e,t);return l(r)>n?f(e,t-1,n):r}function p(t,n){return"domain"===n&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":void 0!==e&&t===e?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":Object(r.l)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+Object(i.f)(t)+"]":t}function d(e,t,n,i){if(void 0===n&&(n=1/0),void 0===i&&(i=new o.a),0===n)return function(e){var t=Object.prototype.toString.call(e);if("string"==typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=p(e);return Object(r.i)(n)?n:t}(t);if(null!==t&&void 0!==t&&"function"==typeof t.toJSON)return t.toJSON();var a=p(t,e);if(Object(r.i)(a))return a;var s=u(t),c=Array.isArray(t)?[]:{};if(i.memoize(t))return"[Circular ~]";for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(c[l]=d(l,s[l],n-1,i));return i.unmemoize(t),c}function h(e,t){try{return JSON.parse(JSON.stringify(e,function(e,n){return d(e,n,t)}))}catch(e){return"**non-serializable**"}}function v(e,t){void 0===t&&(t=40);var n=Object.keys(u(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Object(a.d)(n[0],t);for(var r=n.length;r>0;r--){var o=n.slice(0,r).join(", ");if(!(o.length>t))return r===n.length?o:Object(a.d)(o,t)}return""}}).call(this,n(40))},function(e,t,n){"use strict";function r(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return v(e,Error)}}function o(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function i(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function u(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e){return"undefined"!=typeof Event&&v(e,Event)}function f(e){return"undefined"!=typeof Element&&v(e,Element)}function p(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function d(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function h(e){return u(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e,t){try{return e instanceof t}catch(e){return!1}}n.d(t,"d",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"k",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return f}),n.d(t,"j",function(){return p}),n.d(t,"m",function(){return d}),n.d(t,"l",function(){return h}),n.d(t,"g",function(){return v})},function(e,t,n){var r=n(35)("wks"),o=n(27),i=n(6).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var r=n(73),o=n(134),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(8);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(10),o=n(59),i=n(43),a=Object.defineProperty;t.f=n(11)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e){e.exports=JSON.parse('{"client":{"defaultConfig":{"accessToken":"","storyId":"","actId":"","sceneId":"","environment":"production","gaPlacement":"web","deliveryMode":"ws","pollRate":5000},"emptyHistory":{"prevExperienceId":"","prevMessage":""},"clientEmits":{"adding":"Adding job to queue...","added":"Added job to queue...","finishedPolling":"Video ready for viewing."},"eventNames":{"EXPERIENCE_CREATED":"EXPERIENCE_CREATED","UPLOAD_PROGRESS":"UPLOAD_PROGRESS","GOT_EXPERIENCE":"GOT_EXPERIENCE","STATUS_UPDATE":"STATUS_UPDATE","ERROR":"ERROR"}},"api":{"production":"https://api.imposium.com","staging":"https://api.staging.imposium.com","local":"https://api","currentVersion":"2.0.0","version":"X-Imposium-Api-Version","hmac":"X-Imposium-Access-Key","jwt":"Authorization"},"stomp":{"production":"wss://stomp.prod.k8s.nickel.media/ws","staging":"wss://stomp.staging.k8s.nickel.media/ws","local":"ws://127.0.0.1:15674/ws","exchange":"/exchange/imposium/","username":"imposium_stomp","password":"Teehe1ceeMe7Pe1d","maxRetries":2},"sentry":{"dsn":"https://17ffe982179e4d60a1df2062198d7ade@sentry.io/1411258","projectName":"imposium-js-sdk"},"messageConsumer":{"errorOverTcp":"Server failure.","videoSceneKey":"VideoScene01","emitTypes":{"scene":"gotScene","message":"gotMessage","complete":"actComplete"}},"analytics":{"exceptionProp":"UA-123315989-1","baseUrl":"https://ssl.google-analytics.com/collect","lsLookup":"imposium_js_ga_cid","gaPropPlaceholder":"[id_placeholder]","cidPlaceholder":"[cid_placeholder]"},"videoPlayer":{"defaultConfig":{"volume":1,"preload":"auto","loop":false,"muted":false,"autoLoad":true,"autoPlay":true,"controls":true,"crossOrigin":"anonymous","qualityOverride":null},"testImage":"https://cdn.imposium.com/SampleJPGImage_1mb.jpg","playbackEvents":[0,0.25,0.5,0.75],"checkPlaybackRateMs":100,"volumeMin":0,"volumeMax":1,"bandwidth":{"low":2.4,"mid":8},"compression":{"stream":"m3u8","low":"mp4_480","mid":"mp4_720","high":"mp4_1080"},"bandwidthSamples":5,"hlsSupportLevels":{"native":"native","hlsjs":"hls-js"},"streamType":"application/vnd.apple.mpegurl"}}')},function(e,t,n){var r=n(6),o=n(15),i=n(16),a=n(27)("src"),s=n(87),c=(""+s).split("toString");n(9).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(i(n,a)||o(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var r=n(12),o=n(36);e.exports=n(11)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n(4);function o(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"..."}function i(e,t){var n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);var o=Math.max(t-60,0);o<5&&(o=0);var i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n="'{snip} "+n),i<r&&(n+=" {snip}"),n}function a(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var o=e[r];try{n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function s(e,t){return Object(r.j)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(1),o=Object(r.g)(),i="Sentry Logger ",a=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)(function(){o.console.log(i+"[Log]: "+e.join(" "))})},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)(function(){o.console.warn(i+"[Warn]: "+e.join(" "))})},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)(function(){o.console.error(i+"[Error]: "+e.join(" "))})},e}();o.__SENTRY__=o.__SENTRY__||{};var s=o.__SENTRY__.logger||(o.__SENTRY__.logger=new a)},,function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(6),o=n(9),i=n(15),a=n(14),s=n(22),c=function(e,t,n){var u,l,f,p,d=e&c.F,h=e&c.G,v=e&c.S,y=e&c.P,g=e&c.B,m=h?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,_=h?o:o[t]||(o[t]={}),b=_.prototype||(_.prototype={});for(u in h&&(n=t),n)f=((l=!d&&m&&void 0!==m[u])?m:n)[u],p=g&&l?s(f,r):y&&"function"==typeof f?s(Function.call,f):f,m&&a(m,u,f,e&c.U),_[u]!=f&&i(_,u,p),y&&b[u]!=f&&(b[u]=f)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(37);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(61),o=n(45);e.exports=function(e){return r(o(e))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(58),a=o(n(152),[]),s={ENV:"environment",MODERATION:"moderation",CLIENT_CONFIG:"clientConfiguration",PLAYER_CONFIG:"playerConfiguration",NETWORK:"network",UNCAUGHT:"uncaught"},c=function(e){function t(n,r){var o=e.call(this,n)||this;return o.type="",o.version=i.version,o.storyId="<not_set>",o.logHeader="[IMPOSIUM ERROR]",o.setStoryId=function(e){o.storyId=e},Error.captureStackTrace&&Error.captureStackTrace(o,t),o.type=r,o}return r(t,e),t}(Error);t.ImposiumError=c;var u=function(e){function t(n,r){var o=e.call(this,a[s.MODERATION][n],s.MODERATION)||this;return o.experienceId=null,o.log=function(){console.error(o.logHeader+"\n            \nReason: Failed to pass moderation\n            \nExperience ID: "+o.experienceId+"\n            \nMessage: "+o.message)},Error.captureStackTrace&&Error.captureStackTrace(o,t),o.experienceId=r||"<not_set>",o}return r(t,e),t}(c);t.ModerationError=u;var l=function(e){function t(n,r){var o=e.call(this,a[s.CLIENT_CONFIG][n],s.CLIENT_CONFIG)||this;return o.eventName="",o.log=function(){console.error(o.logHeader+"\n            \nReason: Invalid client configuration\n            \nMessage: "+o.message+"\n            \nEvent name: "+o.eventName)},Error.captureStackTrace&&Error.captureStackTrace(o,t),o.eventName=r||"<not_set>",o}return r(t,e),t}(c);t.ClientConfigurationError=l;var f=function(e){function t(n,r){var o=e.call(this,a[s.PLAYER_CONFIG][n],s.PLAYER_CONFIG)||this;return o.eventName="",o.log=function(){console.error(o.logHeader+"\n            \nReason: Invalid player configuration\n            \nMessage: "+o.message+"\n            \nEvent name: "+o.eventName)},Error.captureStackTrace&&Error.captureStackTrace(o,t),o.eventName=r||"<not_set>",o}return r(t,e),t}(c);t.PlayerConfigurationError=f;var p=function(e){function t(n,r,o){var i=e.call(this,a[s.NETWORK][n],s.NETWORK)||this;return i.experienceId=null,i.axiosError=null,i.log=function(){console.error(i.logHeader+"\n            \nReason: HTTP error\n            \nMessage: "+i.message+"\n            \nExperience ID: "+i.experienceId+"\n            \nNetwork Error: ",i.axiosError)},Error.captureStackTrace&&Error.captureStackTrace(i,t),i.experienceId=r||"<not_set>",i.axiosError=o,i}return r(t,e),t}(c);t.HTTPError=p;var d=function(e){function t(n,r,o){var i=e.call(this,a[s.NETWORK][n],s.NETWORK)||this;return i.experienceId=null,i.closeEvent=null,i.log=function(){console.error(i.logHeader+"\n            \nReason: WebSocket error\n            \nMessage: "+i.message+"\n            \nExperience ID: "+i.experienceId+"\n            \nClose event: ",i.closeEvent)},Error.captureStackTrace&&Error.captureStackTrace(i,t),i.experienceId=r||"<not_set>",i.closeEvent=o,i}return r(t,e),t}(c);t.SocketError=d;var h=function(e){function t(n,r){var o=e.call(this,a[s.UNCAUGHT][n],s.UNCAUGHT)||this;return o.uncaughtError=null,o.log=function(){console.error(o.logHeader+"\n            \nReason: Unknown\n            \nMessage: "+o.message+"\n            \nError: ",o.uncaughtError)},Error.captureStackTrace&&Error.captureStackTrace(o,t),o.uncaughtError=r,o}return r(t,e),t}(c);t.UncaughtError=h},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports={}},function(e,t,n){var r=n(60),o=n(49);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(12).f,o=n(16),i=n(5)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prepConfig=function(e,t){var n=Object.keys(t);for(var r in e)-1===n.indexOf(r)&&delete e[r]},t.inRangeNumeric=function(e,t,n){return(e-t)*(e-n)<=0},t.isFunc=function(e){return"[object Function]"===Object.prototype.toString.call(e)},t.keyExists=function(e,t){return~Object.keys(e).map(function(t){return e[t]}).indexOf(t)},t.cloneWithKeys=function(e){return Object.keys(e).reduce(function(e,t){return e[t]=null,e},{})},t.calculateMbps=function(e,t){return 8*t/(((new Date).getTime()-e)/1e3)/Math.pow(1024,2)},t.calculateAverageMbps=function(e){var t=e.reduce(function(e,t){return e+t});return parseFloat((t/e.length).toFixed(2))},t.generateUUID=function(){var e=window.performance,t=(new Date).getTime();return void 0!==e&&"function"==typeof e.now&&(t+=e.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:7&n|8).toString(16)})},t.inventoryToFormData=function(e,t){var n=new FormData;for(var r in n.append("story_id",e),t)if(t[r]){var o=t[r];if(o&&"file"===o.type){var i=o.files;i.length>0?(t[r]="",n.append(r,i[0])):t[r]=""}else(o&&o instanceof Blob||o instanceof File)&&(t[r]="",n.append(r,o,"inventory.png"));n.append("inventory["+r+"]",t[r])}return n}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(159),i=n(24),a=n(58),s=r(n(153),[]),c=n(13).sentry,u=function(){function e(){}return e.logWarning=function(e,t){console.warn("IMPOSIUM\n"+s[e][t])},e.trapError=function(t,n,r){void 0===r&&(r=null),t=t.log?t:new i.UncaughtError("generic",t),n&&t.setStoryId(n),r&&r(t),t.log(),e.hub.run(function(e){e.configureScope(function(r){r.setTag("type",t.type),r.setTag("version",t.version),r.setTag("storyId",n||"<not_set>"),t.experienceId&&r.setTag("experienceId",t.experienceId),t.axiosError&&("object"==typeof t.axiosError.response?r.setExtra("response",t.axiosError.response):"object"==typeof t.axiosError.request?(r.setExtra("request",t.axiosError.request),r.setExtra("reuqestConfig",t.axiosError.config)):(r.setExtra("axiosErrorMessage",t.axiosError.message),r.setExtra("reuqestConfig",t.axiosError.config))),t.closeEvent&&r.setExtra("socketCloseEvent",{code:t.closeEvent.code,type:t.closeEvent.type,timestamp:t.closeEvent.timeStamp,wsUrl:t.closeEvent.target.url,wsBufferedAmount:t.closeEvent.target.bufferedAmount}),e.captureException(t)})})},e.sentryClient=new o.BrowserClient({debug:!1,dsn:c.dsn,integrations:[new o.Integrations.UserAgent],beforeSend:function(t){return e.cleanDucktype(t)},release:c.projectName+"@"+a.version}),e.hub=new o.Hub(e.sentryClient),e.cleanDucktype=function(e){return void 0===e.extra?e:(e.extra.Error&&(delete e.extra.Error.log,delete e.extra.Error.logHeader,delete e.extra.Error.setStoryId,e.extra.Error.axiosError&&delete e.extra.Error.axiosError,e.extra.Error.closeEvent&&delete e.extra.Error.closeEvent),e)},e}();t.default=u},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r,o=n(4);!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(r||(r={}));var i=function(){function e(e){var t=this;this._state=r.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(r.RESOLVED,e)},this._reject=function(e){t._setResult(r.REJECTED,e)},this._setResult=function(e,n){t._state===r.PENDING&&(Object(o.m)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){t._state!==r.PENDING&&(t._state===r.REJECTED?t._handlers.forEach(function(e){e.onrejected&&e.onrejected(t._value)}):t._handlers.forEach(function(e){e.onfulfilled&&e.onfulfilled(t._value)}),t._handlers=[])};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.prototype.toString=function(){return"[object SyncPromise]"},e.resolve=function(t){return new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.all=function(t){return new e(function(n,r){if(Array.isArray(t))if(0!==t.length){var o=t.length,i=[];t.forEach(function(t,a){e.resolve(t).then(function(e){i[a]=e,0===(o-=1)&&n(i)}).then(null,r)})}else n([]);else r(new TypeError("Promise.all requires an array as input."))})},e.prototype.then=function(t,n){var r=this;return new e(function(e,o){r._attachHandler({onfulfilled:function(n){if(t)try{return void e(t(n))}catch(e){return void o(e)}else e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(e){return void o(e)}else o(t)}})})},e.prototype.catch=function(e){return this.then(function(e){return e},e)},e.prototype.finally=function(t){var n=this;return new e(function(e,r){var o,i;return n.then(function(e){i=!1,o=e,t&&t()},function(e){i=!0,o=e,t&&t()}).then(function(){i?r(o):e(o)})})},e}()},,function(e,t,n){var r=n(9),o=n(6),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(26)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n(0),o=n(33),i=n(4),a=n(3),s=n(1),c=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}return e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout(function(){e._scopeListeners.forEach(function(t){t(e)}),e._notifyingListeners=!1}))},e.prototype._notifyEventProcessors=function(e,t,n,a){var s=this;return void 0===a&&(a=0),new o.a(function(o,c){var u=e[a];if(null===t||"function"!=typeof u)o(t);else{var l=u(r.a({},t),n);Object(i.m)(l)?l.then(function(t){return s._notifyEventProcessors(e,t,n,a+1).then(o)}).then(null,c):s._notifyEventProcessors(e,l,n,a+1).then(o).then(null,c)}})},e.prototype.setUser=function(e){return this._user=Object(a.c)(e),this._notifyScopeListeners(),this},e.prototype.setTags=function(e){return this._tags=r.a({},this._tags,Object(a.c)(e)),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=r.a({},this._tags,((n={})[e]=Object(a.c)(t),n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=r.a({},this._extra,Object(a.c)(e)),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=r.a({},this._extra,((n={})[e]=Object(a.c)(t),n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=Object(a.c)(e),this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=Object(a.c)(e),this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this._transaction=e,this._notifyScopeListeners(),this},e.prototype.setContext=function(e,t){return this._context[e]=t?Object(a.c)(t):void 0,this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=r.d(t._breadcrumbs),n._tags=r.a({},t._tags),n._extra=r.a({},t._extra),n._context=r.a({},t._context),n._user=t._user,n._level=t._level,n._span=t._span,n._transaction=t._transaction,n._fingerprint=t._fingerprint,n._eventProcessors=r.d(t._eventProcessors)),n},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n=Object(s.m)(),o=r.a({timestamp:n},e);return this._breadcrumbs=void 0!==t&&t>=0?r.d(this._breadcrumbs,[Object(a.c)(o)]).slice(-t):r.d(this._breadcrumbs,[Object(a.c)(o)]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e.prototype.applyToEvent=function(e,t){return this._extra&&Object.keys(this._extra).length&&(e.extra=r.a({},this._extra,e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=r.a({},this._tags,e.tags)),this._user&&Object.keys(this._user).length&&(e.user=r.a({},this._user,e.user)),this._context&&Object.keys(this._context).length&&(e.contexts=r.a({},this._context,e.contexts)),this._level&&(e.level=this._level),this._transaction&&(e.transaction=this._transaction),this._applyFingerprint(e),e.breadcrumbs=r.d(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(r.d(u(),this._eventProcessors),e,t)},e}();function u(){var e=Object(s.g)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function l(e){u().push(e)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(25),o=n(5)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(8),o=n(6).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(26),o=n(21),i=n(14),a=n(15),s=n(28),c=n(90),u=n(30),l=n(94),f=n(5)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,h,v,y,g){c(n,t,h);var m,_,b,E=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},O=t+" Iterator",w="values"==v,x=!1,S=e.prototype,j=S[f]||S["@@iterator"]||v&&S[v],T=j||E(v),k=v?w?E("entries"):T:void 0,R="Array"==t&&S.entries||j;if(R&&(b=l(R.call(new e)))!==Object.prototype&&b.next&&(u(b,O,!0),r||"function"==typeof b[f]||a(b,f,d)),w&&j&&"values"!==j.name&&(x=!0,T=function(){return j.call(this)}),r&&!g||!p&&!x&&S[f]||a(S,f,T),s[t]=T,s[O]=d,v)if(m={values:w?T:E("values"),keys:y?T:E("keys"),entries:k},g)for(_ in m)_ in S||i(S,_,m[_]);else o(o.P+o.F*(p||x),t,m);return m}},function(e,t,n){var r=n(10),o=n(91),i=n(49),a=n(48)("IE_PROTO"),s=function(){},c=function(){var e,t=n(42)("iframe"),r=i.length;for(t.style.display="none",n(63).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(35)("keys"),o=n(27);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(45);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(22),o=n(99),i=n(100),a=n(10),s=n(62),c=n(101),u={},l={};(t=e.exports=function(e,t,n,f,p){var d,h,v,y,g=p?function(){return e}:c(e),m=r(n,f,t?2:1),_=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(d=s(e.length);d>_;_++)if((y=t?m(a(h=e[_])[0],h[1]):m(e[_]))===u||y===l)return y}else for(v=g.call(e);!(h=v.next()).done;)if((y=o(v,m,h.value,t))===u||y===l)return y}).BREAK=u,t.RETURN=l},function(e,t,n){var r=n(14);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){var r=n(27)("meta"),o=n(8),i=n(16),a=n(12).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(20)(function(){return c(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return u&&f.NEED&&c(e)&&!i(e,r)&&l(e),e}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){e.exports=n(133)},function(e,t,n){"use strict";(function(t){var r=n(7),o=n(136),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(75):void 0!==t&&(e=n(75)),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){s.headers[e]={}}),r.forEach(["post","put","patch"],function(e){s.headers[e]=r.merge(i)}),e.exports=s}).call(this,n(74))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="2.2.3",t.printVersion=function(){console.log("%cPowered By%c Imposium%c v"+t.version+"%c https://imposium.com","text-transform: uppercase; padding: 5px 0px 5px 5px; background-color: black; color: white;","text-transform: uppercase; padding: 5px 0px 5px 0px; background-color: black; color: #a1b83a;","padding: 5px 5px 5px 0px; background-color: black; color: white;","padding: 5px 5px 5px 0px;")}},function(e,t,n){e.exports=!n(11)&&!n(20)(function(){return 7!=Object.defineProperty(n(42)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(16),o=n(23),i=n(92)(!1),a=n(48)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(25);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(44),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(6).document;e.exports=r&&r.documentElement},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r,o,i,a=n(22),s=n(103),c=n(63),u=n(42),l=n(6),f=l.process,p=l.setImmediate,d=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,y=0,g={},m=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},_=function(e){m.call(e.data)};p&&d||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++y]=function(){s("function"==typeof e?e:Function(e),t)},r(y),y},d=function(e){delete g[e]},"process"==n(25)(f)?r=function(e){f.nextTick(a(m,e,1))}:v&&v.now?r=function(e){v.now(a(m,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=_,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",_,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),e.exports={set:p,clear:d}},function(e,t,n){"use strict";var r=n(37);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){"use strict";var r=n(6),o=n(12),i=n(11),a=n(5)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(5)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){t.f=n(5)},function(e,t,n){var r=n(60),o=n(49).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(38),o=n(36),i=n(23),a=n(43),s=n(16),c=n(59),u=Object.getOwnPropertyDescriptor;t.f=n(11)?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&d())}function d(){if(!l){var e=s(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(7),o=n(137),i=n(139),a=n(140),s=n(141),c=n(76);e.exports=function(e){return new Promise(function(t,u){var l=e.data,f=e.headers;r.isFormData(l)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",h=e.auth.password||"";f.Authorization="Basic "+btoa(d+":"+h)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};o(t,u,r),p=null}},p.onerror=function(){u(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){u(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var v=n(142),y=(e.withCredentials||s(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;y&&(f[e.xsrfHeaderName]=y)}if("setRequestHeader"in p&&r.forEach(f,function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),u(e),p=null)}),void 0===l&&(l=null),p.send(l)})}},function(e,t,n){"use strict";var r=n(138);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(32),a=n(80),s=n(24),c=n(13).videoPlayer,u=function(){function e(t){var n,c,u=this;this.node=null,this.storyId="",this.playbackHandlers=new Map([["play",function(){return u.onPlay()}],["pause",function(){return u.onPause()}],["ended",function(){return u.onEnded()}],["loaded",function(){return u.onLoad()}],["volumechange",function(){return u.onVolumeChange()}]]),this.queuedGACalls=[],this.gaProperty="",this.experienceId="",this.prevPlaybackEvent=0,this.playbackInterval=-1,this.muted=!1,this.remove=function(){var e,t;try{for(var n=r(u.playbackHandlers.entries()),i=n.next();!i.done;i=n.next()){var a=o(i.value,2),s=a[0],c=a[1];u.node.removeEventListener(s,c)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},this.setGaProperty=function(e){for(u.gaProperty&&u.gaProperty!==e&&u.queuedGACalls.length>0&&(u.queuedGACalls=[]),u.gaProperty=e;u.queuedGACalls.length;)a.default.send(u.queuedGACalls.pop())},this.setStoryId=function(e){u.storyId=e},this.setExperienceId=function(e){u.experienceId=e},this.emitGAEventAction=function(t){var n=e.GA_EMIT_TYPE,r=e.GA_EMIT_CATEGORY,o=u,i={t:n,tid:o.gaProperty,ec:r,el:o.experienceId,ea:t};u.gaProperty?a.default.send(i):u.queuedGACalls.push(i)},this.onLoad=function(){u.emitGAEventAction("loaded")},this.onVolumeChange=function(){!u.muted&&u.node.muted&&(u.emitGAEventAction("muted"),u.muted=!0),u.muted&&!u.node.muted&&(u.emitGAEventAction("unmuted"),u.muted=!1)},this.onPlay=function(){var t=window.setInterval;clearInterval(u.playbackInterval),u.playbackInterval=t(function(){return u.checkPlayback()},e.INTERVAL_RATE),u.emitGAEventAction("play")},this.onPause=function(){clearInterval(u.playbackInterval),u.node.duration!==u.node.currentTime&&u.emitGAEventAction("pause")},this.onEnded=function(){clearInterval(u.playbackInterval),u.emitGAEventAction("playback_1"),u.prevPlaybackEvent=0},this.checkPlayback=function(){if(u.node){var t=u.node,n=t.currentTime/t.duration,r=e.PLAYBACK_EVENTS[u.prevPlaybackEvent];n>r&&(u.emitGAEventAction("playback_"+r),u.prevPlaybackEvent++)}else clearInterval(u.playbackInterval)};try{if(!(t instanceof HTMLVideoElement))throw new s.PlayerConfigurationError("invalidPlayerRef",null);try{for(var l=r(this.playbackHandlers.entries()),f=l.next();!f.done;f=l.next()){var p=o(f.value,2),d=p[0],h=p[1];t.addEventListener(d,h)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(c=l.return)&&c.call(l)}finally{if(n)throw n.error}}this.node=t,this.muted=t.muted}catch(e){i.default.trapError(e,this.storyId)}}return e.INTERVAL_RATE=c.checkPlaybackRateMs,e.PLAYBACK_EVENTS=c.playbackEvents,e.GA_EMIT_TYPE="event",e.GA_EMIT_CATEGORY="video_player",e}();t.default=u},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(32),s=n(56),c=n(31),u=o(n(13).analytics,[]),l=function(){function e(){}return e.gaPlacement="",e.initialize=function(t){try{var n=new Date,r=JSON.parse(localStorage.getItem(e.CACHE_KEY))||{};if(e.gaPlacement=t,r.uuid&&r.expiry>=(new Date).valueOf())return void(e.CLIENT_ID=r.uuid);r.uuid=c.generateUUID(),r.expiry=n.setFullYear(n.getFullYear()+2),localStorage.setItem(e.CACHE_KEY,JSON.stringify(r)),e.CLIENT_ID=r.uuid}catch(t){e.CLIENT_ID=c.generateUUID()}},e.send=function(t){var n,o,c=e.BASE_URL,u=document.referrer;t=r({v:"1",ds:e.gaPlacement,cid:e.CLIENT_ID,z:""+Math.round((new Date).getTime()/1e3)},t),""!==u&&(t.dr=u);try{for(var l=i(Object.keys(t)),f=l.next();!f.done;f=l.next()){var p=f.value;c+=""+(c===e.BASE_URL?"?":"&")+p+"="+encodeURIComponent(t[p])}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}s.default.get(c).catch(function(e){a.default.logWarning("analytics","requestFailed")})},e.BASE_URL=u.baseUrl,e.CACHE_KEY=u.cacheKey,e.CLIENT_ID=u.cidPlaceholder,e}();t.default=l},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++){if(this._inner[t]===e)return!0}return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}()},function(e,t,n){n(83),e.exports=n(84)},function(e,t,n){(function(e){("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"398b4e2748d93f2d52ccb9e6eb8ce451cef3972f"}}).call(this,n(40))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),n(85),n(108),n(114),n(122);var i=n(125);t.Client=i.default;var a=n(158);t.Player=a.default,n(58).printVersion();var s=o([r({},i.default.eventNames),r({},a.default.events)],2),c=s[0],u=s[1];t.Events=c,t.PlayerEvents=u},function(e,t,n){n(86),n(88),n(95),n(98),e.exports=n(9).Promise},function(e,t,n){"use strict";var r=n(41),o={};o[n(5)("toStringTag")]="z",o+""!="[object z]"&&n(14)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){e.exports=n(35)("native-function-to-string",Function.toString)},function(e,t,n){"use strict";var r=n(89)(!0);n(46)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(44),o=n(45);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(47),o=n(36),i=n(30),a={};n(15)(a,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(12),o=n(10),i=n(29);e.exports=n(11)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(23),o=n(62),i=n(93);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=o(c.length),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(44),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(16),o=n(50),i=n(48)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){for(var r=n(96),o=n(29),i=n(14),a=n(6),s=n(15),c=n(28),u=n(5),l=u("iterator"),f=u("toStringTag"),p=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(d),v=0;v<h.length;v++){var y,g=h[v],m=d[g],_=a[g],b=_&&_.prototype;if(b&&(b[l]||s(b,l,p),b[f]||s(b,f,g),c[g]=p,m))for(y in r)b[y]||i(b,y,r[y],!0)}},function(e,t,n){"use strict";var r=n(97),o=n(64),i=n(28),a=n(23);e.exports=n(46)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(5)("unscopables"),o=Array.prototype;void 0==o[r]&&n(15)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){"use strict";var r,o,i,a,s=n(26),c=n(6),u=n(22),l=n(41),f=n(21),p=n(8),d=n(37),h=n(51),v=n(52),y=n(102),g=n(65).set,m=n(104)(),_=n(66),b=n(105),E=n(106),O=n(107),w=c.TypeError,x=c.process,S=x&&x.versions,j=S&&S.v8||"",T=c.Promise,k="process"==l(x),R=function(){},P=o=_.f,C=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(R,R)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(R)instanceof t&&0!==j.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(e){}}(),I=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,s=o?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(o||(2==e._h&&L(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?u(w("Promise-chain cycle")):(i=I(n))?i.call(n,c,u):c(n)):u(r)}catch(e){l&&!a&&l.exit(),u(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&A(e)})}},A=function(e){g.call(c,function(){var t,n,r,o=e._v,i=D(e);if(i&&(t=b(function(){k?x.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=k||D(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){g.call(c,function(){var t;k?x.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},M=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(t=I(e))?m(function(){var r={_w:n,_d:!1};try{t.call(e,u(U,r,1),u(M,r,1))}catch(e){M.call(r,e)}}):(n._v=e,n._s=1,N(n,!1))}catch(e){M.call({_w:n,_d:!1},e)}}};C||(T=function(e){h(this,T,"Promise","_h"),d(e),r.call(this);try{e(u(U,this,1),u(M,this,1))}catch(e){M.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(53)(T.prototype,{then:function(e,t){var n=P(y(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=u(U,e,1),this.reject=u(M,e,1)},_.f=P=function(e){return e===T||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!C,{Promise:T}),n(30)(T,"Promise"),n(67)("Promise"),a=n(9).Promise,f(f.S+f.F*!C,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!C),"Promise",{resolve:function(e){return O(s&&this===a?T:this,e)}}),f(f.S+f.F*!(C&&n(68)(function(e){T.all(e).catch(R)})),"Promise",{all:function(e){var t=this,n=P(t),r=n.resolve,o=n.reject,i=b(function(){var n=[],i=0,a=1;v(e,!1,function(e){var s=i++,c=!1;n.push(void 0),a++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,o=b(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,n){var r=n(10);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(28),o=n(5)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(41),o=n(5)("iterator"),i=n(28);e.exports=n(9).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(10),o=n(37),i=n(5)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(6),o=n(65).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(25)(a);e.exports=function(){var e,t,n,u=function(){var r,o;for(c&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){o.call(r,u)};else{var f=!0,p=document.createTextNode("");new i(u).observe(p,{characterData:!0}),n=function(){p.data=f=!f}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(6).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(10),o=n(8),i=n(66);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){n(109),e.exports=n(9).Symbol.keyFor},function(e,t,n){"use strict";var r=n(6),o=n(16),i=n(11),a=n(21),s=n(14),c=n(54).KEY,u=n(20),l=n(35),f=n(30),p=n(27),d=n(5),h=n(69),v=n(110),y=n(111),g=n(112),m=n(10),_=n(8),b=n(50),E=n(23),O=n(43),w=n(36),x=n(47),S=n(113),j=n(71),T=n(55),k=n(12),R=n(29),P=j.f,C=k.f,I=S.f,N=r.Symbol,A=r.JSON,D=A&&A.stringify,L=d("_hidden"),M=d("toPrimitive"),U={}.propertyIsEnumerable,F=l("symbol-registry"),H=l("symbols"),B=l("op-symbols"),G=Object.prototype,q="function"==typeof N&&!!T.f,W=r.QObject,V=!W||!W.prototype||!W.prototype.findChild,Y=i&&u(function(){return 7!=x(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=P(G,t);r&&delete G[t],C(e,t,n),r&&e!==G&&C(G,t,r)}:C,X=function(e){var t=H[e]=x(N.prototype);return t._k=e,t},J=q&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},K=function(e,t,n){return e===G&&K(B,t,n),m(e),t=O(t,!0),m(n),o(H,t)?(n.enumerable?(o(e,L)&&e[L][t]&&(e[L][t]=!1),n=x(n,{enumerable:w(0,!1)})):(o(e,L)||C(e,L,w(1,{})),e[L][t]=!0),Y(e,t,n)):C(e,t,n)},z=function(e,t){m(e);for(var n,r=y(t=E(t)),o=0,i=r.length;i>o;)K(e,n=r[o++],t[n]);return e},$=function(e){var t=U.call(this,e=O(e,!0));return!(this===G&&o(H,e)&&!o(B,e))&&(!(t||!o(this,e)||!o(H,e)||o(this,L)&&this[L][e])||t)},Q=function(e,t){if(e=E(e),t=O(t,!0),e!==G||!o(H,t)||o(B,t)){var n=P(e,t);return!n||!o(H,t)||o(e,L)&&e[L][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=I(E(e)),r=[],i=0;n.length>i;)o(H,t=n[i++])||t==L||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===G,r=I(n?B:E(e)),i=[],a=0;r.length>a;)!o(H,t=r[a++])||n&&!o(G,t)||i.push(H[t]);return i};q||(s((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===G&&t.call(B,n),o(this,L)&&o(this[L],e)&&(this[L][e]=!1),Y(this,e,w(1,n))};return i&&V&&Y(G,e,{configurable:!0,set:t}),X(e)}).prototype,"toString",function(){return this._k}),j.f=Q,k.f=K,n(70).f=S.f=Z,n(38).f=$,T.f=ee,i&&!n(26)&&s(G,"propertyIsEnumerable",$,!0),h.f=function(e){return X(d(e))}),a(a.G+a.W+a.F*!q,{Symbol:N});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)d(te[ne++]);for(var re=R(d.store),oe=0;re.length>oe;)v(re[oe++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=N(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!q,"Object",{create:function(e,t){return void 0===t?x(e):z(x(e),t)},defineProperty:K,defineProperties:z,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ie=u(function(){T.f(1)});a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return T.f(b(e))}}),A&&a(a.S+a.F*(!q||u(function(){var e=N();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(_(t)||void 0!==e)&&!J(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!J(t))return t}),r[1]=t,D.apply(A,r)}}),N.prototype[M]||n(15)(N.prototype,M,N.prototype.valueOf),f(N,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(6),o=n(9),i=n(26),a=n(69),s=n(12).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(29),o=n(55),i=n(38);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),c=i.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(25);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(23),o=n(70).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){"use strict";n(115),n(120);var r=n(9).Map,o=r.of;e.exports=function(){return o.apply("function"==typeof this?this:r,arguments)}},function(e,t,n){"use strict";var r=n(116),o=n(72);e.exports=n(117)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(12).f,o=n(47),i=n(53),a=n(22),s=n(51),c=n(52),u=n(46),l=n(64),f=n(67),p=n(11),d=n(54).fastKey,h=n(72),v=p?"_s":"size",y=function(e,t){var n,r=d(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&c(r,n,e[u],e)});return i(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=h(this,t),r=y(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[v]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!y(h(this,t),e)}}),p&&r(l.prototype,"size",{get:function(){return h(this,t)[v]}}),l},def:function(e,t,n){var r,o,i=y(e,t);return i?i.v=n:(e._l=i={i:o=d(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[v]++,"F"!==o&&(e._i[o]=i)),e},getEntry:y,setStrong:function(e,t,n){u(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var r=n(6),o=n(21),i=n(14),a=n(53),s=n(54),c=n(52),u=n(51),l=n(8),f=n(20),p=n(68),d=n(30),h=n(118);e.exports=function(e,t,n,v,y,g){var m=r[e],_=m,b=y?"set":"add",E=_&&_.prototype,O={},w=function(e){var t=E[e];i(E,e,"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof _&&(g||E.forEach&&!f(function(){(new _).entries().next()}))){var x=new _,S=x[b](g?{}:-0,1)!=x,j=f(function(){x.has(1)}),T=p(function(e){new _(e)}),k=!g&&f(function(){for(var e=new _,t=5;t--;)e[b](t,t);return!e.has(-0)});T||((_=t(function(t,n){u(t,_,e);var r=h(new m,t,_);return void 0!=n&&c(n,y,r[b],r),r})).prototype=E,E.constructor=_),(j||k)&&(w("delete"),w("has"),y&&w("get")),(k||S)&&w(b),g&&E.clear&&delete E.clear}else _=v.getConstructor(t,e,y,b),a(_.prototype,n),s.NEED=!0;return d(_,e),O[e]=_,o(o.G+o.W+o.F*(_!=m),O),g||v.setStrong(_,e,y),_}},function(e,t,n){var r=n(8),o=n(119).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){var r=n(8),o=n(10),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(22)(Function.call,n(71).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){n(121)("Map")},function(e,t,n){"use strict";var r=n(21);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(123),e.exports=n(9).Object.assign},function(e,t,n){var r=n(21);r(r.S+r.F,"Object",{assign:n(124)})},function(e,t,n){"use strict";var r=n(11),o=n(29),i=n(55),a=n(38),s=n(50),c=n(61),u=Object.assign;e.exports=!u||n(20)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=s(e),u=arguments.length,l=1,f=i.f,p=a.f;u>l;)for(var d,h=c(arguments[l++]),v=f?o(h).concat(f(h)):o(h),y=v.length,g=0;y>g;)d=v[g++],r&&!p.call(h,d)||(n[d]=h[d]);return n}:u},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(126),a=n(150),s=n(80),c=n(32),u=n(154),l=n(24),f=n(31),p=o(n(13).client,[]),d=function(){function e(t){var n=this;this.clientConfig=void 0,this.deliveryPipe=void 0,this.player=void 0,this.renderHistory=p.emptyHistory,this.emits=p.clientEmits,this.eventDelegateRefs=f.cloneWithKeys(e.eventNames),this.playerIsFallback=!1,this.setup=function(e){var t=p.defaultConfig,o=n.clientConfig||p.defaultConfig,a=new Map,d=null;try{if("object"!=typeof e)throw new l.ClientConfigurationError("badConfig",null);if(!e.hasOwnProperty("storyId")||"string"!=typeof e.storyId)throw new l.ClientConfigurationError("storyId",null);if(!e.hasOwnProperty("accessToken")||"string"!=typeof e.accessToken)throw new l.ClientConfigurationError("accessToken",null);f.prepConfig(e,t),n.clientConfig=r(r({},o),e),d=new i.default(n.clientConfig.accessToken,n.clientConfig.environment,n.clientConfig.storyId),a.set("experienceCreated",function(e){return n.experienceCreated(e)}),a.set("gotExperience",function(e){return n.gotExperience(e)}),a.set("gotMessage",function(e){return n.gotMessage(e)}),a.set("internalError",function(e){return n.internalError(e)}),n.deliveryPipe=new u.default({api:d,clientDelegates:a,environment:n.clientConfig.environment}),n.deliveryPipe.setMode(n.clientConfig.deliveryMode),n.deliveryPipe.setTimeoutInterval(n.clientConfig.pollRate),d.getGAProperty().then(function(e){var t=e.gaTrackingId;"string"==typeof t&&t.length>0&&(s.default.initialize(n.clientConfig.gaPlacement),void 0!==n.player&&n.player.setGaProperty(t))}).catch(function(e){var t=new l.HTTPError("httpFailure",null,e);c.default.trapError(t,n.clientConfig.storyId,null)})}catch(t){var h=e&&e.storyId?e.storyId:"";c.default.trapError(t,h)}},this.bindPlayer=function(e,t){if(void 0===t&&(t=!1),n.clientConfig){var r=n.clientConfig.storyId;n.playerIsFallback=t,n.player=e,e.setStoryId(r)}},this.on=function(t,r){var o=n,i=o.eventDelegateRefs,a=o.eventDelegateRefs.ERROR;if(n.clientConfig){var s=n.clientConfig.storyId;try{if(!f.isFunc(r))throw new l.ClientConfigurationError("invalidCallbackType",t);if(!f.keyExists(e.eventNames,t))throw new l.ClientConfigurationError("invalidEventName",t);i[t]=r}catch(e){c.default.trapError(e,s,a)}}},this.off=function(t){void 0===t&&(t="");var r=n,o=r.eventDelegateRefs,i=r.eventDelegateRefs.ERROR;if(n.clientConfig){var a=n.clientConfig.storyId;try{if(t){if(!f.keyExists(e.eventNames,t))throw new l.ClientConfigurationError("invalidEventName",t);o[t]=null}else Object.keys(e.eventNames).forEach(function(e){o[e]=null})}catch(e){c.default.trapError(e,a,i)}}},this.captureAnalytics=function(e){void 0===e&&(e=null);var t=n.eventDelegateRefs.ERROR;if(n.clientConfig){var r=n.clientConfig.storyId;try{if(!(e instanceof HTMLVideoElement))throw new l.PlayerConfigurationError("invalidPlayerRef",null);n.bindPlayer(new a.default(e),!0)}catch(e){c.default.trapError(e,r,t)}}},this.getExperience=function(t){if(n.clientConfig){var r=n,o=r.player,i=r.clientConfig.storyId,a=r.eventDelegateRefs,s=a.GOT_EXPERIENCE,u=a.ERROR;try{if(null===o&&!f.isFunc(s))throw new l.ClientConfigurationError("badConfigOnGet",e.eventNames.GOT_EXPERIENCE);n.deliveryPipe.doGetExperience(t)}catch(e){c.default.trapError(e,i,u)}}},this.createExperience=function(t,r){if(void 0===r&&(r=!0),n.clientConfig){var o=n,i=o.player,a=o.playerIsFallback,s=o.clientConfig.storyId,u=o.emits.adding,p=o.eventDelegateRefs,d=p.GOT_EXPERIENCE,h=p.EXPERIENCE_CREATED,v=p.UPLOAD_PROGRESS,y=p.ERROR;try{if(!r&&!f.isFunc(h))throw new l.ClientConfigurationError("badConfigOnPostNoRender",e.eventNames.EXPERIENCE_CREATED);if(r&&(null===i||a)&&!f.isFunc(d))throw new l.ClientConfigurationError("bagConfigOnPostRender",e.eventNames.GOT_EXPERIENCE);r&&n.gotMessage({id:void 0,status:u}),n.deliveryPipe.createPrestep(t,r,v)}catch(e){c.default.trapError(e,s,y)}}},this.updateHistory=function(e,t){n.renderHistory[e]!==t&&(n.renderHistory[e]=t)},this.experienceCreated=function(e){var t=n,r=t.emits,o=r.adding,i=r.added,a=t.renderHistory.prevMessage,s=t.eventDelegateRefs,c=s.EXPERIENCE_CREATED,u=(s.STATUS_UPDATE,e.id);f.isFunc(c)&&c(e),a!==o&&a||n.gotMessage({id:u,status:i}),n.updateHistory("prevExperienceId",u)},this.gotExperience=function(e){var t=n,r=t.player,o=t.clientConfig.storyId,i=t.eventDelegateRefs,a=i.GOT_EXPERIENCE,s=i.ERROR,u=t.emits,p=u.added,d=u.finishedPolling,h=t.renderHistory.prevMessage,v=e.id,y=(e.output,e.rendering,e.moderation_status);try{if("rejected"===y)throw new l.ModerationError("rejection",v);h===p&&n.gotMessage({id:v,status:d}),f.isFunc(a)&&a(e),void 0!==r&&r.experienceGenerated(e),n.updateHistory("prevExperienceId",v),n.updateHistory("prevMessage","")}catch(e){c.default.trapError(e,o,s)}},this.gotMessage=function(e){var t=n.eventDelegateRefs.STATUS_UPDATE;f.isFunc(t)&&(t(e),n.updateHistory("prevMessage",e.status))},this.internalError=function(e){var t=n,r=t.clientConfig.storyId,o=t.eventDelegateRefs.ERROR;c.default.trapError(e,r,o)},this.setup(t)}return e.eventNames=p.eventNames,e}();t.default=d},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(127),a=n(130),s=n(56),c=n(31),u=o(n(13).api,[]),l=function(){function e(t,n,o){var a,l=this;this.http=null,this.storyId="",this.getGAProperty=function(){return new Promise(function(e,t){l.http.get("/story/"+l.storyId+"/ga").then(function(t){e(t.data)}).catch(function(e){t(e)})})},this.get=function(e){return new Promise(function(t,n){l.http.get("/experience/"+e+"?r="+Math.random()).then(function(e){t(e.data)}).catch(function(e){n(e)})})},this.create=function(e,t,n,r){void 0===r&&(r=null);var o=t?"/experience/render":"/experience",i=c.inventoryToFormData(l.storyId,e),a={onUploadProgress:function(e){return l.uploadProgress(e,r)}};return i.append("id",n),new Promise(function(e,t){l.http.post(o,i,a).then(function(t){e(t.data)}).catch(function(e){t(e)})})},this.triggerRender=function(e){var t=l.http.post;return new Promise(function(n,r){t("/experience/"+e+"/trigger-event").then(function(e){var t=e.data.job_id;n(t)}).catch(function(e){r(e)})})},this.getAuthHeader=function(e){var t,n,r=u.jwt,o=u.hmac;try{return i(e),(t={})[r]=e,t}catch(t){return(n={})[o]=e,n}},this.uploadProgress=function(e,t){if(void 0===t&&(t=null),t){var n=e.loaded,r=e.total;t(Math.round(n/r*100))}};var f=u.version,p=u.currentVersion;this.http=s.default.create({baseURL:u[n],headers:r(r({},this.getAuthHeader(t)),(a={},a[f]=p,a))}),this.storyId=o,e.retry(this.http,{retryDelay:e.retry.exponentialDelay})}return e.retry=a,e}();t.default=l},function(e,t,n){"use strict";var r=n(128);function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[n]))}catch(e){throw new o("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=o},function(e,t,n){var r=n(129);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(t)}catch(e){return r(t)}}},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,a=0,s=0,c="";i=t.charAt(s++);~i&&(o=a%4?64*o+i:i,a++%4)?c+=String.fromCharCode(255&o>>(-2*a&6)):0)i=n.indexOf(i);return c}},function(e,t,n){e.exports=n(131).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNetworkError=i,t.isRetryableError=c,t.isSafeRequestError=u,t.isIdempotentRequestError=l,t.isNetworkOrIdempotentRequestError=f,t.exponentialDelay=d,t.default=v;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(132));var o="axios-retry";function i(e){return!e.response&&Boolean(e.code)&&"ECONNABORTED"!==e.code&&(0,r.default)(e)}var a=["get","head","options"],s=a.concat(["put","delete"]);function c(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}function u(e){return!!e.config&&(c(e)&&-1!==a.indexOf(e.config.method))}function l(e){return!!e.config&&(c(e)&&-1!==s.indexOf(e.config.method))}function f(e){return i(e)||l(e)}function p(){return 0}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=100*Math.pow(2,e);return t+.2*t*Math.random()}function h(e){var t=e[o]||{};return t.retryCount=t.retryCount||0,e[o]=t,t}function v(e,t){e.interceptors.request.use(function(e){return h(e).lastRequestTime=Date.now(),e}),e.interceptors.response.use(null,function(n){var r=n.config;if(!r)return Promise.reject(n);var i=function(e,t){return Object.assign({},t,e[o])}(r,t),a=i.retries,s=void 0===a?3:a,c=i.retryCondition,u=void 0===c?f:c,l=i.retryDelay,d=void 0===l?p:l,v=i.shouldResetTimeout,y=void 0!==v&&v,g=h(r);if(u(n)&&g.retryCount<s){g.retryCount+=1;var m=d(g.retryCount,n);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(e,r),!y&&r.timeout&&g.lastRequestTime){var _=Date.now()-g.lastRequestTime;r.timeout=Math.max(r.timeout-_-m,1)}return r.transformRequest=[function(e){return e}],new Promise(function(t){return setTimeout(function(){return t(e(r))},m)})}return Promise.reject(n)})}v.isNetworkError=i,v.isSafeRequestError=u,v.isIdempotentRequestError=l,v.isNetworkOrIdempotentRequestError=f,v.exponentialDelay=d,v.isRetryableError=c},function(e,t,n){"use strict";var r=["ETIMEDOUT","ECONNRESET","EADDRINUSE","ESOCKETTIMEDOUT","ECONNREFUSED","EPIPE"],o=["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED"];e.exports=function(e){return!e||!e.code||(-1!==r.indexOf(e.code)||-1===o.indexOf(e.code))}},function(e,t,n){"use strict";var r=n(7),o=n(73),i=n(135),a=n(57);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var c=s(a);c.Axios=i,c.create=function(e){return s(r.merge(a,e))},c.Cancel=n(78),c.CancelToken=n(148),c.isCancel=n(77),c.all=function(e){return Promise.all(e)},c.spread=n(149),e.exports=c,e.exports.default=c},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(57),o=n(7),i=n(143),a=n(144);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=s},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(76);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(7);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";var r=n(7),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(7);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(7);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(7);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(7),o=n(145),i=n(77),a=n(57),s=n(146),c=n(147);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return u(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(u(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(78);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this,t)||this;return n.experienceGenerated=function(e){var t=e.id;n.setExperienceId(t)},n}return r(t,e),t}(n(79).default);t.default=o},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e){e.exports=JSON.parse('{"moderation":{"rejection":"This experience was rejected."},"clientConfiguration":{"badConfig":"Your Imposium configuration is an invalid type.","storyId":"An undefined or invalid storyId was set in your Imposium configuration.","accessToken":"An undefined or invalid accessToken was set in your Imposium configuration.","invalidEventName":"Invalid client event name.","invalidCallbackType":"The callback reference set for this client event is not of type function.","badConfigOnGet":"You cannot call client.getExperience(...) without using the Imposium player or setting the GOT_EXPERIENCE event.","bagConfigOnPostRender":"You cannot call client.createExperience({...}) without using the Imposium player or setting the GOT_EXPERIENCE event.","badConfigOnPostNoRender":"You cannot call client.createExperience({...}, false) without setting the EXPERIENCE_CREATED event."},"playerConfiguration":{"badClient":"You must provide a valid Imposium client reference to the player.","invalidPlayerRef":"No reference to an HTML5 video element was detected.","invalidEventName":"Invalid player event name.","invalidCallbackType":"The callback reference set for this player event is not of type function.","eventNotConfigured":"You cannot invoke this player event without a callback set.","badQualityOverride":"The quality specified does not exist for this experience."},"network":{"httpFailure":"Unable to process request to the Imposium API.","tcpFailure":"Socket connection failed while processing the experience.","errorOverTcp":"An error occured on the Imposium web servers while processing the experience.","messageParseFailure":"Message data from Imposium was malformed."},"uncaught":{"generic":"Something unexpected went wrong."}}')},function(e){e.exports=JSON.parse('{"client":{"nodeAnalytics":"Sorry, analytics are not currently available in NodeJS."},"network":{"tcpFailure":"Unable to reach Imposium while processing this experience, retrying..."},"playerFailure":{"seekNotReady":"Seek can\'t be called until the video metadata has loaded, please try again shortly.","invalidSeekTime":"Could not seek to time outside of current video duration.","invalidVolume":"Could not set volume outside of range (double) 0.0 - 1.0."},"analytics":{"requestFailed":"Failed to record Imposium metric."}}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(155),o=n(31),i=n(24),a=function(){function e(t){var n=this;this.mode="",this.environment="",this.shortPollTimeout=-1,this.pollInterval=5e3,this.api=null,this.consumer=null,this.clientDelegates=null,this.configCache=new Map,this.setMode=function(e){n.mode=e},this.setTimeoutInterval=function(e){n.pollInterval=e},this.doGetExperience=function(e){n.api.get(e).then(function(t){var r=t.output,o=t.rendering,i=void 0!==r&&Object.keys(r).length>0;i&&(clearTimeout(n.shortPollTimeout),n.clientDelegates.get("gotExperience")(t)),i||o||n.startRender(e),!i&&o&&n.consumeOnRefresh(e)}).catch(function(t){var r=new i.HTTPError("httpFailure",e,t);n.clientDelegates.get("internalError")(r)})},this.createPrestep=function(t,r,i,a){void 0===a&&(a=0);var s=o.generateUUID(),c={inventory:t,render:r,uuid:s,uploadProgress:i};clearTimeout(n.shortPollTimeout),r||n.doCreate(c,!1,a),r&&n.mode===e.POLL_MODE&&n.doCreate(c,!0,a),r&&n.mode===e.WS_MODE&&(n.configCache.set(s,c),n.startConsumer(s).then(function(){n.doCreate(c,!1,a)}))},this.startRender=function(t){n.mode===e.WS_MODE?n.startConsumer(t).then(function(){n.api.triggerRender(t).catch(function(e){var r=new i.HTTPError("httpFailure",t,e);n.killConsumer(),n.clientDelegates.get("internalError")(r)})}):n.api.triggerRender(t).then(function(){n.doGetExperience(t)}).catch(function(e){var r=new i.HTTPError("httpFailure",t,e);n.clientDelegates.get("internalError")(r)})},this.consumeOnRefresh=function(t){n.mode===e.WS_MODE?n.startConsumer(t):(clearTimeout(n.shortPollTimeout),n.shortPollTimeout=window.setTimeout(function(){return n.doGetExperience(t)},n.pollInterval))},this.doCreate=function(e,t,r){void 0===t&&(t=!1);var o=e.inventory,a=e.render,s=e.uuid,c=e.uploadProgress;n.api.create(o,a,s,c).then(function(e){n.configCache.delete(s),t&&n.doGetExperience(e.id),n.clientDelegates.get("experienceCreated")(e)}).catch(function(t){if(t.response&&400===t.response.status&&r<3)n.configCache.delete(s),r+=1,n.killConsumer().then(function(){n.createPrestep(e.inventory,e.render,e.uploadProgress,r)});else{var o=new i.HTTPError("httpFailure",s,t);n.clientDelegates.get("internalError")(o)}})},this.startConsumer=function(e){var t=n,o=t.clientDelegates,i=t.environment,a=new Map;return a.set("gotExperience",function(e){return o.get("gotExperience")(e)}),a.set("gotMessage",function(e){return o.get("gotMessage")(e)}),a.set("internalError",function(e){return o.get("internalError")(e)}),a.set("consumerFailure",function(e,t){return n.consumerFailure(e,t)}),new Promise(function(t){n.killConsumer().then(function(){n.consumer=new r.default({experienceId:e,environment:i,deliveryDelegates:a}),n.consumer.connect().then(function(){t()})})})},this.killConsumer=function(){return new Promise(function(e){if(!n.consumer)return e();n.consumer.destroy().then(function(){return n.consumer=null,e()})})},this.consumerFailure=function(t,r){var o=n.configCache.get(t);n.setMode(e.POLL_MODE),n.clientDelegates.get("internalError")(r),void 0!==o?(n.configCache.delete(t),n.createPrestep(o.inventory,o.render,o.uploadProgress)):n.doGetExperience(t)},this.api=t.api,this.clientDelegates=t.clientDelegates,this.environment=t.environment}return e.WS_MODE="ws",e.POLL_MODE="poll",e}();t.default=a},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(156),i=n(24),a=r(n(13).messageConsumer,[]),s=function(){function e(t){var n=this;this.environment="",this.experienceId=null,this.deliveryDelegates=null,this.stomp=null,this.connect=function(){var e=n,t=e.experienceId,r=e.environment,i=new Map;return i.set("validateFrameData",function(e){return n.validateFrameData(e)}),i.set("socketFailure",function(e){return n.socketFailure(e)}),n.stomp=new o.default({experienceId:t,consumerDelegates:i}),new Promise(function(e){n.stomp.init(r).then(function(){e()})})},this.destroy=function(){return new Promise(function(e){if(!n.stomp)return e();n.stomp.forceClose().then(function(){e()})})},this.validateFrameData=function(t){var r=e.EMITS,o=r.scene,a=r.message,s=r.complete,c=n,u=(c.stomp,c.experienceId),l=c.deliveryDelegates,f=t.body;try{var p=JSON.parse(f);switch(p.event){case s:n.destroy();break;case a:n.emitMessageData(p);break;case o:delete p.event,n.emitSceneData(p)}}catch(e){var d=new i.SocketError("messageParseFailed",u,e);l.get("internalError")(d)}},this.emitMessageData=function(e){var t=n.deliveryDelegates,r=e.status,o=e.id;try{if(r===a.errorOverTcp)throw new i.SocketError("errorOverTcp",o,null);t.get("gotMessage")(e)}catch(e){t.get("internalError")(e)}},this.emitSceneData=function(e){var t=n.deliveryDelegates,r=e.id;if("rejected"===e.moderation_status){var o=new i.ModerationError("rejection",r);t.get("internalError")(o)}else t.get("gotExperience")(e)},this.socketFailure=function(e){var t=n,r=t.experienceId,o=t.deliveryDelegates,a=new i.SocketError("tcpFailure",r,e);n.stomp=null,o.get("consumerFailure")(r,a)},this.experienceId=t.experienceId,this.environment=t.environment,this.deliveryDelegates=t.deliveryDelegates}return e.EMITS=a.emitTypes,e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(157),i=n(32),a=r(n(13).stomp,[]),s=function(){function e(t){var n=this;this.socket=null,this.client=null,this.subscription=null,this.currRetry=0,this.init=function(t){return n.socket=new WebSocket(a[t]),n.client=o.over(n.socket),n.client.debug=e.DEBUG_OFF,new Promise(function(r){n.client.connect(e.USERNAME,e.PASSWORD,function(){return n.doSubscribe(r)},function(e){return n.onError(t,e)})})},this.forceClose=function(){var t=e.OPEN_STATE,r=n,o=r.client,i=(r.client.connected,r.subscription);return new Promise(function(e){if(o.ws.readyState>t)return e();i&&i.unsubscribe(),o.disconnect(function(){n.socket=null,e()})})},this.doSubscribe=function(t){var r=e.EXCHANGE,o=n,i=o.experienceId,a=o.client,s=o.consumerDelegates,c=""+r+i;n.subscription=a.subscribe(c,s.get("validateFrameData")),t()},this.onError=function(t,r){var o=n,a=o.currRetry,s=o.consumerDelegates;a<e.MAX_RETRIES?(i.default.logWarning("network","tcpFailure"),n.currRetry++,n.forceClose().then(function(){n.init(t)})):s.get("socketFailure")(r)},this.experienceId=t.experienceId,this.consumerDelegates=t.consumerDelegates}return e.EXCHANGE=a.exchange,e.USERNAME=a.username,e.PASSWORD=a.password,e.OPEN_STATE=1,e.MAX_RETRIES=a.maxRetries,e.DEBUG_OFF=function(){},e}();t.default=s},function(e,t,n){e.exports=function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},o={V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.2,1.1,1.0"},supportedProtocols:function(){return["v10.stomp","v11.stomp","v12.stomp"]}},i={"v10.stomp":o.V1_0,"v11.stomp":o.V1_1,"v12.stomp":o.V1_2},a={LF:"\n",NULL:"\0"},s=function(e){return e.replace(/^\s+|\s+$/g,"")};function c(){var e=(new Date).getTime(),t=Math.floor(1e3*Math.random());return e+"-"+t}var u=function(){function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e(this,n),this.command=t,this.headers=r,this.body=o}return t(n,[{key:"toString",value:function(){var e=this,t=[this.command],n=!1===this.headers["content-length"];return n&&delete this.headers["content-length"],Object.keys(this.headers).forEach(function(n){var r=e.headers[n];t.push(n+":"+r)}),this.body&&!n&&t.push("content-length:"+function(e){return e?encodeURIComponent(e).match(/%..|./g).length:0}(this.body)),t.push(a.LF+this.body),t.join(a.LF)}}],[{key:"unmarshallSingle",value:function(e){var t=e.search(new RegExp(a.LF+a.LF)),r=e.substring(0,t).split(a.LF),o=r.shift(),i={},c="",u=t+2,l=!0,f=!1,p=void 0;try{for(var d,h=r.reverse()[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var v=d.value,y=v.indexOf(":");i[s(v.substring(0,y))]=s(v.substring(y+1))}}catch(e){f=!0,p=e}finally{try{!l&&h.return&&h.return()}finally{if(f)throw p}}if(i["content-length"]){var g=parseInt(i["content-length"],10);c=(""+e).substring(u,u+g)}else for(var m=null,_=u;_<e.length&&(m=e.charAt(_))!==a.NULL;_++)c+=m;return new n(o,i,c)}},{key:"unmarshall",value:function(e){var t=e.split(new RegExp(a.NULL+a.LF+"*")),r=t.slice(0,-1),o=t.slice(-1)[0],i={frames:r.map(function(e){return n.unmarshallSingle(e)}),partial:""};return o===a.LF||-1!==o.search(RegExp(a.NULL+a.LF+"*$"))?i.frames.push(n.unmarshallSingle(o)):i.partial=o,i}},{key:"marshall",value:function(e,t,r){var o=new n(e,t,r);return o.toString()+a.NULL}}]),n}(),l=function(){function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,s);var r=n.binary,o=void 0!==r&&r,i=n.heartbeat,a=void 0===i?{outgoing:1e4,incoming:1e4}:i,c=n.debug,u=void 0===c||c,l=n.protocols,f=void 0===l?[]:l;this.ws=t,this.ws.binaryType="arraybuffer",this.isBinary=!!o,this.hasDebug=!!u,this.connected=!1,this.heartbeat=a||{outgoing:0,incoming:0},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData="",this.protocols=f}return t(s,[{key:"debug",value:function(){var e;this.hasDebug&&(e=console).log.apply(e,arguments)}},{key:"connect",value:function(){var e=this,t=this._parseConnect.apply(this,arguments),s=n(t,3),c=s[0],l=s[1],f=s[2];this.connectCallback=l,this.debug("Opening Web Socket..."),this.ws.onmessage=function(t){var n=t.data;if(t.data instanceof ArrayBuffer&&(n=function(e){var t=String.fromCharCode.apply(String,r(e)).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n});return decodeURIComponent(t)}(new Uint8Array(t.data))),e.serverActivity=Date.now(),n!==a.LF){e.debug("<<< "+n);var i=u.unmarshall(e.partialData+n);e.partialData=i.partial,i.frames.forEach(function(t){switch(t.command){case"CONNECTED":e.debug("connected to server "+t.headers.server),e.connected=!0,e.version=t.headers.version,e._setupHeartbeat(t.headers),l&&l(t);break;case"MESSAGE":var n=t.headers.subscription,r=e.subscriptions[n]||e.onreceive;if(r){var i=e.version===o.V1_2&&t.headers.ack||t.headers["message-id"];t.ack=e.ack.bind(e,i,n),t.nack=e.nack.bind(e,i,n),r(t)}else e.debug("Unhandled received MESSAGE: "+t);break;case"RECEIPT":e.onreceipt&&e.onreceipt(t);break;case"ERROR":f&&f(t);break;default:e.debug("Unhandled frame: "+t)}})}else e.debug("<<< PONG")},this.ws.onclose=function(t){e.debug("Whoops! Lost connection to "+e.ws.url+":",{event:t}),e._cleanUp(),f&&f(t)},this.ws.onopen=function(){e.debug("Web Socket Opened..."),c["accept-version"]=function(e,t){var n=i[e];return!n&&t&&t("DEPRECATED: "+e+" is not a recognized STOMP version. In next major client version, this will close the connection."),n||o.V1_2}(e.ws.protocol||e.protocols[0],e.debug.bind(e)),c["heart-beat"]||(c["heart-beat"]=[e.heartbeat.outgoing,e.heartbeat.incoming].join(",")),e._transmit("CONNECT",c)},this.ws.readyState===this.ws.OPEN&&this.ws.onopen()}},{key:"disconnect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._transmit("DISCONNECT",t),this.ws.onclose=null,this.ws.close(),this._cleanUp(),e&&e()}},{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n);r.destination=e,this._transmit("SEND",r,t)}},{key:"begin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tx-"+c();return this._transmit("BEGIN",{transaction:e}),{id:e,commit:this.commit.bind(this,e),abort:this.abort.bind(this,e)}}},{key:"commit",value:function(e){this._transmit("COMMIT",{transaction:e})}},{key:"abort",value:function(e){this._transmit("ABORT",{transaction:e})}},{key:"ack",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n),i=this.version===o.V1_2?"id":"message-id";r[i]=e,r.subscription=t,this._transmit("ACK",r)}},{key:"nack",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n),i=this.version===o.V1_2?"id":"message-id";r[i]=e,r.subscription=t,this._transmit("NACK",r)}},{key:"subscribe",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n);return r.id||(r.id="sub-"+c()),r.destination=e,this.subscriptions[r.id]=t,this._transmit("SUBSCRIBE",r),{id:r.id,unsubscribe:this.unsubscribe.bind(this,r.id)}}},{key:"unsubscribe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t);delete this.subscriptions[e],n.id=e,this._transmit("UNSUBSCRIBE",n)}},{key:"_cleanUp",value:function(){this.connected=!1,clearInterval(this.pinger),clearInterval(this.ponger)}},{key:"_transmit",value:function(e,t,n){var r=u.marshall(e,t,n);this.debug(">>> "+r,{frame:{command:e,headers:t,body:n}}),this._wsSend(r)}},{key:"_wsSend",value:function(e){for(this.isBinary&&(e=function(e){var t=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}),n=Array.prototype.map.call(t,function(e){return e.charCodeAt(0)});return new Uint8Array(n)}(e)),this.debug(">>> length "+e.length);;){if(!(e.length>this.maxWebSocketFrameSize))return this.ws.send(e);this.ws.send(e.slice(0,this.maxWebSocketFrameSize)),e=e.slice(this.maxWebSocketFrameSize),this.debug("remaining = "+e.length)}}},{key:"_setupHeartbeat",value:function(e){var t=this;if(this.version===o.V1_1||this.version===o.V1_2){var r=(e["heart-beat"]||"0,0").split(",").map(function(e){return parseInt(e,10)}),i=n(r,2),s=i[0],c=i[1];if(0!==this.heartbeat.outgoing&&0!==c){var u=Math.max(this.heartbeat.outgoing,c);this.debug("send PING every "+u+"ms"),this.pinger=setInterval(function(){t._wsSend(a.LF),t.debug(">>> PING")},u)}if(0!==this.heartbeat.incoming&&0!==s){var l=Math.max(this.heartbeat.incoming,s);this.debug("check PONG every "+l+"ms"),this.ponger=setInterval(function(){var e=Date.now()-t.serverActivity;e>2*l&&(t.debug("did not receive server activity for the last "+e+"ms"),t.ws.close())},l)}}}},{key:"_parseConnect",value:function(){for(var e={},t=void 0,n=void 0,r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];switch(o.length){case 2:e=o[0],t=o[1];break;case 3:o[1]instanceof Function?(e=o[0],t=o[1],n=o[2]):(e.login=o[0],e.passcode=o[1],t=o[2]);break;case 4:e.login=o[0],e.passcode=o[1],t=o[2],n=o[3];break;default:e.login=o[0],e.passcode=o[1],t=o[2],n=o[3],e.host=o[4]}return[e,t,n]}}]),s}();return{Frame:u,VERSIONS:o,client:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new WebSocket(e,t.protocols||o.supportedProtocols());return new l(n,t)},over:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new(Function.prototype.bind.apply(l,[null].concat(t)))}}}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(56),s=n(79),c=n(32),u=n(24),l=n(31),f=n(13).videoPlayer,p=window.hls,d=function(e){function t(n,r,s){void 0===s&&(s=f.defaultConfig);var d=e.call(this,n)||this;d.eventDelegateRefs={play:{callback:null,native:!0},pause:{callback:null,native:!0},ended:{callback:null,native:!0},error:{callback:null,native:!0},seeked:{callback:null,native:!0},timeupdate:{callback:null,native:!0},volumechanged:{callback:null,native:!0},muted:{callback:null,native:!1},controlsset:{callback:null,native:!1}},d.hlsSupport="",d.hlsPlayer=null,d.experienceCache=[],d.clientRef=null,d.imposiumPlayerConfig=null,d.init=function(e){var t=f.defaultConfig;for(var n in l.prepConfig(e,t),d.imposiumPlayerConfig=o(o({},t),e),d.imposiumPlayerConfig)d.imposiumPlayerConfig[n]&&(d.node[n]=d.imposiumPlayerConfig[n])},d.experienceGenerated=function(e){d.experienceCache;var t=d.imposiumPlayerConfig.qualityOverride,n=e.id,r=e.output,o=r.videos,i=r.images,a="";d.setExperienceId(n),i&&i.hasOwnProperty("poster")&&(a=i.poster),t?d.doQualityOverride(o,a):d.doQualityAssessment(o,a)},d.on=function(e,n){var r=d,o=r.storyId,i=r.eventDelegateRefs;try{if(!l.isFunc(n))throw new u.PlayerConfigurationError("invalidCallbackType",e);if(!l.keyExists(t.events,e))throw new u.PlayerConfigurationError("invalidEventName",e);var a=i[e];a.callback=n,a.native&&d.node.addEventListener(e,a.callback)}catch(e){c.default.trapError(e,o)}},d.off=function(e){var n=d,r=n.storyId,o=n.eventDelegateRefs;try{if(!l.keyExists(t.events,e))throw new u.PlayerConfigurationError("invalidEventName",e);var i=o[e];i.native&&d.node.removeEventListener(e,i.callback),i.callback=null}catch(e){c.default.trapError(e,r)}},d.play=function(){d.node.play()},d.pause=function(){d.node.pause()},d.getPlaybackState=function(){return d.node.paused?"paused":"playing"},d.getPosition=function(){return d.node.currentTime},d.getDuration=function(){return d.node.duration},d.seek=function(e){var t=d.node.duration;isNaN(t)?c.default.logWarning("playerFailure","seekNotReady"):(e=Math.floor(e),l.inRangeNumeric(e,0,t)?d.node.currentTime=e:c.default.logWarning("playerFailure","invalidSeekTime"))},d.getMute=function(){return d.node.muted},d.setMute=function(e){var t=d.eventDelegateRefs.muted.callback;d.node.muted=e,t&&t()},d.getVolume=function(){return d.node.volume},d.setVolume=function(e){var t=f.volumeMin,n=f.volumeMax;e=Math.round(10*e)/10,l.inRangeNumeric(e,t,n)?d.node.volume=e:c.default.logWarning("playerFailure","invalidVolume")},d.getControls=function(){return d.node.controls},d.setControls=function(e){var t=d.eventDelegateRefs.controlsset;d.node.controls=e,t&&t.callback()},d.replay=function(){d.pauseIfPlaying(),d.node.currentTime=0,d.node.play()},d.remove=function(){var e,t,n=d.eventDelegateRefs,r=f.defaultConfig;d.pauseIfPlaying();try{for(var a=i(Object.keys(n)),s=a.next();!s.done;s=a.next()){var c=s.value;d.off(n[c])}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}d.imposiumPlayerConfig=o({},r),d.node=null},d.setupHls=function(){var e=t.hlsSupportLevels,n=e.NATIVE,r=e.HLSJS;d.node.canPlayType(t.STREAM_TYPE)?d.hlsSupport=n:void 0!==p&&p.isSupported()&&(d.hlsSupport=r)},d.doQualityOverride=function(e,t){var n=d.storyId,r=d.imposiumPlayerConfig.qualityOverride;try{if(!e.hasOwnProperty(r))throw new u.PlayerConfigurationError("badQualityOverride",null);d.setPlayerData(e[r].url,!0,t)}catch(e){c.default.trapError(e,n)}},d.doQualityAssessment=function(e,n){var r=d.hlsSupport,o=t.compressionLevels.STREAM;if(e.hasOwnProperty(o)&&r)d.setPlayerData(e[o].url,!0,n);else{var i=Object.keys(e);1===i.length?d.setPlayerData(e[i[0]].url,!1,n):d.checkBandwidth(e).then(function(t){d.setPlayerData(e[t].url,!1,n)}).catch(function(t){d.setPlayerData(e[t].url,!1,n)})}},d.sampleBandwidth=function(){var e=t.TEST_IMAGE+"?bust="+Math.random(),n={responseType:"blob",timeout:1500};return new Promise(function(t,r){var o=(new Date).getTime();a.default.get(e,n).then(function(e){var n=e.data.size;t(l.calculateMbps(o,n))}).catch(function(e){r(e)})})},d.checkBandwidth=function(e){t.bandwidthRatings,t.compressionLevels;for(var n=t.BANDWIDTH_SAMPLES,r=[],o=Object.keys(e).filter(function(e){return"m3u8"!==e}),i=0;i<n;i++)r.push(d.sampleBandwidth());return new Promise(function(t,n){Promise.all(r).then(function(n){var r=l.calculateAverageMbps(n),i={};o.forEach(function(t){var n=e[t],r=n.width,o=n.height;i[r*o/1e5]=t});var a=Object.keys(i).map(function(e){return parseFloat(e)}).reduce(function(e,t){return Math.abs(e-r)<Math.abs(t-r)?e:t});t(i[a])}).catch(function(e){n(o.slice(-1).pop())})})},d.setPlayerData=function(e,n,r){void 0===r&&(r=null);var o=d.hlsSupport,i=t.hlsSupportLevels.HLSJS;n&&o===i?(d.hlsPlayer&&d.hlsPlayer.destroy(),d.hlsPlayer=new p,d.hlsPlayer.attachMedia(d.node),d.hlsPlayer.loadSource(e)):d.node.src=e,r&&(d.node.poster=r)},d.pauseIfPlaying=function(){d.node.paused||d.node.pause()};var h=!(!r||!r.clientConfig);try{if(!h)throw new u.PlayerConfigurationError("badClient",null);n instanceof HTMLVideoElement&&(r.bindPlayer(d),d.init(s),d.setupHls())}catch(e){var v=h?r.clientConfig.storyId:"";c.default.trapError(e,v)}return d}return r(t,e),t.events={PLAY:"play",PAUSE:"pause",COMPLETE:"ended",ERROR:"error",SEEK:"seeked",TIME:"timeupdate",VOLUME:"volumechange",MUTE:"muted",CONTROLS:"controlsset"},t.STREAM_TYPE=f.streamType,t.BANDWIDTH_SAMPLES=f.bandwidthSamples,t.TEST_IMAGE=f.testImage,t.bandwidthRatings={LOW:f.bandwidth.low,MID:f.bandwidth.mid},t.compressionLevels={STREAM:f.compression.stream,LOW:f.compression.low,MID:f.compression.mid,HIGH:f.compression.high},t.hlsSupportLevels={NATIVE:f.hlsSupportLevels.native,HLSJS:f.hlsSupportLevels.hlsjs},t}(s.default);t.default=d},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"FunctionToString",function(){return pe}),n.d(r,"InboundFilters",function(){return he});var o={};n.r(o),n.d(o,"GlobalHandlers",function(){return Ae}),n.d(o,"TryCatch",function(){return _e}),n.d(o,"Breadcrumbs",function(){return Ie}),n.d(o,"LinkedErrors",function(){return Me}),n.d(o,"UserAgent",function(){return Fe});var i={};n.r(i),n.d(i,"BaseTransport",function(){return ie}),n.d(i,"FetchTransport",function(){return se}),n.d(i,"XHRTransport",function(){return ce});var a,s,c=n(0);!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(a||(a={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}}(a||(a={})),function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(s||(s={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(s||(s={}));var u=n(39),l=n(160);function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Object(l.b)();if(r&&r[e])return r[e].apply(r,c.d(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function p(e){var t;try{throw new Error("Sentry syntheticException")}catch(e){t=e}return f("captureException",e,{originalException:e,syntheticException:t})}function d(e,t){var n;try{throw new Error(e)}catch(e){n=e}return f("captureMessage",e,t,{originalException:e,syntheticException:n})}function h(e){return f("captureEvent",e)}function v(e){f("configureScope",e)}function y(e){f("addBreadcrumb",e)}function g(e,t){f("setContext",e,t)}function m(e){f("setExtras",e)}function _(e){f("setTags",e)}function b(e,t){f("setExtra",e,t)}function E(e,t){f("setTag",e,t)}function O(e){f("setUser",e)}function w(e){f("withScope",e)}var x=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e});var S=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,x(r,n.prototype),r}return c.b(t,e),t}(Error),j=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,T=function(){function e(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,r=t.path,o=t.pass,i=t.port,a=t.projectId;return t.protocol+"://"+t.user+(e&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+a},e.prototype._fromString=function(e){var t=j.exec(e);if(!t)throw new S("Invalid Dsn");var n=c.c(t.slice(1),6),r=n[0],o=n[1],i=n[2],a=void 0===i?"":i,s=n[3],u=n[4],l=void 0===u?"":u,f="",p=n[5],d=p.split("/");d.length>1&&(f=d.slice(0,-1).join("/"),p=d.pop()),this._fromComponents({host:s,pass:a,path:f,projectId:p,port:l,protocol:r,user:o})},e.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach(function(t){if(!e[t])throw new S("Invalid Dsn")}),"http"!==this.protocol&&"https"!==this.protocol)throw new S("Invalid Dsn");if(this.port&&isNaN(parseInt(this.port,10)))throw new S("Invalid Dsn")},e}(),k=n(3),R=n(1),P=function(){function e(e){this.dsn=e,this._dsnObject=new T(e)}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+Object(k.e)(e)},e.prototype._getBaseUrl=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n},e.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_timestamp="+Object(R.m)()),r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this._getBaseUrl()+(t.path?"/"+t.path:"")+"/api/embed/error-page/",r=[];for(var o in r.push("dsn="+t.toString()),e)if("user"===o){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return r.length?n+"?"+r.join("&"):n},e}(),C=n(18),I=n(4),N=n(33),A=n(17),D=[];function L(e){var t={};return function(e){var t=e.defaultIntegrations&&c.d(e.defaultIntegrations)||[],n=e.integrations,r=[];if(Array.isArray(n)){var o=n.map(function(e){return e.name}),i=[];t.forEach(function(e){-1===o.indexOf(e.name)&&-1===i.indexOf(e.name)&&(r.push(e),i.push(e.name))}),n.forEach(function(e){-1===i.indexOf(e.name)&&(r.push(e),i.push(e.name))})}else"function"==typeof n?(r=n(t),r=Array.isArray(r)?r:[r]):r=c.d(t);var a=r.map(function(e){return e.name});return-1!==a.indexOf("Debug")&&r.push.apply(r,c.d(r.splice(a.indexOf("Debug"),1))),r}(e).forEach(function(e){t[e.name]=e,function(e){-1===D.indexOf(e.name)&&(e.setupOnce(u.b,l.b),D.push(e.name),C.a.log("Integration installed: "+e.name))}(e)}),t}var M=function(){function e(e,t){this._integrations={},this._processing=!1,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new T(t.dsn)),this._isEnabled()&&(this._integrations=L(this._options))}return e.prototype.captureException=function(e,t,n){var r=this,o=t&&t.event_id;return this._processing=!0,this._getBackend().eventFromException(e,t).then(function(e){return r._processEvent(e,t,n)}).then(function(e){o=e&&e.event_id,r._processing=!1}).then(null,function(e){C.a.error(e),r._processing=!1}),o},e.prototype.captureMessage=function(e,t,n,r){var o=this,i=n&&n.event_id;return this._processing=!0,(Object(I.i)(e)?this._getBackend().eventFromMessage(""+e,t,n):this._getBackend().eventFromException(e,n)).then(function(e){return o._processEvent(e,n,r)}).then(function(e){i=e&&e.event_id,o._processing=!1}).then(null,function(e){C.a.error(e),o._processing=!1}),i},e.prototype.captureEvent=function(e,t,n){var r=this,o=t&&t.event_id;return this._processing=!0,this._processEvent(e,t,n).then(function(e){o=e&&e.event_id,r._processing=!1}).then(null,function(e){C.a.error(e),r._processing=!1}),o},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then(function(n){return clearInterval(n.interval),t._getBackend().getTransport().close(e).then(function(e){return n.ready&&e})})},e.prototype.close=function(e){var t=this;return this.flush(e).then(function(e){return t.getOptions().enabled=!1,e})},e.prototype.getIntegrations=function(){return this._integrations||{}},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return C.a.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._isClientProcessing=function(e){var t=this;return new N.a(function(n){var r=0,o=0;clearInterval(o),o=setInterval(function(){t._processing?e&&(r+=1)>=e&&n({interval:o,ready:!1}):n({interval:o,ready:!0})},1)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this.getOptions(),o=r.environment,i=r.release,a=r.dist,s=r.maxValueLength,u=void 0===s?250:s,l=c.a({},e);void 0===l.environment&&void 0!==o&&(l.environment=o),void 0===l.release&&void 0!==i&&(l.release=i),void 0===l.dist&&void 0!==a&&(l.dist=a),l.message&&(l.message=Object(A.d)(l.message,u));var f=l.exception&&l.exception.values&&l.exception.values[0];f&&f.value&&(f.value=Object(A.d)(f.value,u));var p=l.request;p&&p.url&&(p.url=Object(A.d)(p.url,u)),void 0===l.event_id&&(l.event_id=Object(R.n)()),this._addIntegrations(l.sdk);var d=N.a.resolve(l);return t&&(d=t.applyToEvent(l,n)),d},e.prototype._addIntegrations=function(e){var t=Object.keys(this._integrations);e&&t.length>0&&(e.integrations=t)},e.prototype._processEvent=function(e,t,n){var r=this,o=this.getOptions(),i=o.beforeSend,a=o.sampleRate;return this._isEnabled()?"number"==typeof a&&Math.random()>a?N.a.reject("This event has been sampled, will not send event."):new N.a(function(o,a){r._prepareEvent(e,n,t).then(function(e){if(null!==e){var n=e;try{if(t&&t.data&&!0===t.data.__sentry__||!i)return r._getBackend().sendEvent(n),void o(n);var s=i(e,t);if(void 0===s)C.a.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(I.m)(s))r._handleAsyncBeforeSend(s,o,a);else{if(null===(n=s))return C.a.log("`beforeSend` returned `null`, will not send event."),void o(null);r._getBackend().sendEvent(n),o(n)}}catch(e){r.captureException(e,{data:{__sentry__:!0},originalException:e}),a("`beforeSend` threw an error, will not send event.")}}else a("An event processor returned null, will not send event.")}).then(null,function(){a("`beforeSend` threw an error, will not send event.")})}):N.a.reject("SDK not enabled, will not send event.")},e.prototype._handleAsyncBeforeSend=function(e,t,n){var r=this;e.then(function(e){null!==e?(r._getBackend().sendEvent(e),t(e)):n("`beforeSend` returned `null`, will not send event.")}).then(null,function(e){n("beforeSend rejected with "+e)})},e}(),U=function(){function e(){}return e.prototype.sendEvent=function(e){return N.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:s.Skipped})},e.prototype.close=function(e){return N.a.resolve(!0)},e}(),F=function(){function e(e){this._options=e,this._options.dsn||C.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype._setupTransport=function(){return new U},e.prototype.eventFromException=function(e,t){throw new S("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new S("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,function(e){C.a.error("Error while sending event: "+e)})},e.prototype.getTransport=function(){return this._transport},e}();function H(){if(!("fetch"in Object(R.g)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function B(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}var G="?",q=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[-a-z]+:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,W=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,V=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Y=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,X=/\((\S*)(?::(\d+))(?::(\d+))\)/;function J(e){var t=null,n=e&&e.framesToPop;try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=e.stacktrace.split("\n"),i=[],a=0;a<o.length;a+=2){var s=null;(t=n.exec(o[a]))?s={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=r.exec(o[a]))&&(s={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),s&&(!s.func&&s.line&&(s.func=G),i.push(s))}if(!i.length)return null;return{message:z(e),name:e.name,stack:i}}(e))return K(t,n)}catch(e){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,o=[],i=e.stack.split("\n"),a=0;a<i.length;++a){if(n=q.exec(i[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=X.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2],func:n[1]||G,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=V.exec(i[a]))r={url:n[2],func:n[1]||G,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=W.exec(i[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=Y.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==a||n[5]||void 0===e.columnNumber||(o[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||G,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=G),o.push(r)}if(!o.length)return null;return{message:z(e),name:e.name,stack:o}}(e))return K(t,n)}catch(e){}return{message:z(e),name:e&&e.name,stack:[],failed:!0}}function K(e,t){try{return c.a({},e,{stack:e.stack.slice(t)})}catch(t){return e}}function z(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}var $=50;function Q(e){var t=ee(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Z(e){return{exception:{values:[Q(e)]}}}function ee(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.map(function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}}).slice(0,$).reverse()}function te(e,t,n){var r;if(void 0===n&&(n={}),Object(I.e)(e)&&e.error)return r=Z(J(e=e.error));if(Object(I.a)(e)||Object(I.b)(e)){var o=e,i=o.name||(Object(I.a)(o)?"DOMError":"DOMException"),a=o.message?i+": "+o.message:i;return r=ne(a,t,n),Object(R.b)(r,a),r}return Object(I.d)(e)?r=Z(J(e)):Object(I.h)(e)||Object(I.f)(e)?(r=function(e,t,n){var r={exception:{values:[{type:Object(I.f)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(k.a)(e)}]},extra:{__serialized__:Object(k.d)(e)}};if(t){var o=ee(J(t).stack);r.stacktrace={frames:o}}return r}(e,t,n.rejection),Object(R.a)(r,{synthetic:!0}),r):(r=ne(e,t,n),Object(R.b)(r,""+e,void 0),Object(R.a)(r,{synthetic:!0}),r)}function ne(e,t,n){void 0===n&&(n={});var r={message:e};if(n.attachStacktrace&&t){var o=ee(J(t).stack);r.stacktrace={frames:o}}return r}var re,oe=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then(function(){return t.remove(e)}).then(null,function(){return t.remove(e).then(null,function(){})}),e):N.a.reject(new S("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new N.a(function(n){var r=setTimeout(function(){e&&e>0&&n(!1)},e);N.a.all(t._buffer).then(function(){clearTimeout(r),n(!0)}).then(null,function(){n(!0)})})},e}(),ie=function(){function e(e){this.options=e,this._buffer=new oe(30),this.url=new P(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new S("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e}(),ae=Object(R.g)(),se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disabledUntil=new Date(Date.now()),t}return c.b(t,e),t.prototype.sendEvent=function(e){var t=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:e,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n={body:JSON.stringify(e),method:"POST",referrerPolicy:function(){if(!H())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}()?"origin":""};return void 0!==this.options.headers&&(n.headers=this.options.headers),this._buffer.add(new N.a(function(e,r){ae.fetch(t.url,n).then(function(n){var o=s.fromHttpCode(n.status);if(o!==s.Success){if(o===s.RateLimit){var i=Date.now();t._disabledUntil=new Date(i+Object(R.k)(i,n.headers.get("Retry-After"))),C.a.warn("Too many requests, backing off till: "+t._disabledUntil)}r(n)}else e({status:o})}).catch(r)}))},t}(ie),ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disabledUntil=new Date(Date.now()),t}return c.b(t,e),t.prototype.sendEvent=function(e){var t=this;return new Date(Date.now())<this._disabledUntil?Promise.reject({event:e,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429}):this._buffer.add(new N.a(function(n,r){var o=new XMLHttpRequest;for(var i in o.onreadystatechange=function(){if(4===o.readyState){var e=s.fromHttpCode(o.status);if(e!==s.Success){if(e===s.RateLimit){var i=Date.now();t._disabledUntil=new Date(i+Object(R.k)(i,o.getResponseHeader("Retry-After"))),C.a.warn("Too many requests, backing off till: "+t._disabledUntil)}r(o)}else n({status:e})}},o.open("POST",t.url),t.options.headers)t.options.headers.hasOwnProperty(i)&&o.setRequestHeader(i,t.options.headers[i]);o.send(JSON.stringify(e))}))},t}(ie),ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c.b(t,e),t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=c.a({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(t):H()?new se(t):new ce(t)},t.prototype.eventFromException=function(e,t){var n=te(e,t&&t.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return Object(R.a)(n,{handled:!0,type:"generic"}),n.level=a.Error,t&&t.event_id&&(n.event_id=t.event_id),N.a.resolve(n)},t.prototype.eventFromMessage=function(e,t,n){void 0===t&&(t=a.Info);var r=ne(e,n&&n.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return r.level=t,n&&n.event_id&&(r.event_id=n.event_id),N.a.resolve(r)},t}(F),le="sentry.javascript.browser",fe=function(e){function t(t){return void 0===t&&(t={}),e.call(this,ue,t)||this}return c.b(t,e),t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",t.sdk=c.a({},t.sdk,{name:le,packages:c.d(t.sdk&&t.sdk.packages||[],[{name:"npm:@sentry/browser",version:"5.11.1"}]),version:"5.11.1"}),e.prototype._prepareEvent.call(this,t,n,r)},t.prototype.showReportDialog=function(e){void 0===e&&(e={});var t=Object(R.g)().document;if(t)if(this._isEnabled()){var n=e.dsn||this.getDsn();if(e.eventId)if(n){var r=t.createElement("script");r.async=!0,r.src=new P(n).getReportDialogEndpoint(e),e.onLoad&&(r.onload=e.onLoad),(t.head||t.body).appendChild(r)}else C.a.error("Missing `Dsn` option in showReportDialog call");else C.a.error("Missing `eventId` option in showReportDialog call")}else C.a.error("Trying to call showReportDialog with Sentry Client is disabled")},t}(M),pe=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){re=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return re.apply(n,e)}},e.id="FunctionToString",e}(),de=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],he=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){Object(u.b)(function(t){var n=Object(l.b)();if(!n)return t;var r=n.getIntegration(e);if(r){var o=n.getClient(),i=o?o.getOptions():{},a=r._mergeOptions(i);if(r._shouldDropEvent(t,a))return null}return t})},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(C.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(R.e)(e)),!0):this._isIgnoredError(e,t)?(C.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(R.e)(e)),!0):this._isBlacklistedUrl(e,t)?(C.a.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+Object(R.e)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isWhitelistedUrl(e,t)&&(C.a.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+Object(R.e)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(void 0===t&&(t={}),!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(e){return!1}},e.prototype._isIgnoredError=function(e,t){return void 0===t&&(t={}),!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some(function(e){return t.ignoreErrors.some(function(t){return Object(A.a)(e,t)})})},e.prototype._isBlacklistedUrl=function(e,t){if(void 0===t&&(t={}),!t.blacklistUrls||!t.blacklistUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.blacklistUrls.some(function(e){return Object(A.a)(n,e)})},e.prototype._isWhitelistedUrl=function(e,t){if(void 0===t&&(t={}),!t.whitelistUrls||!t.whitelistUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.whitelistUrls.some(function(e){return Object(A.a)(n,e)})},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{blacklistUrls:c.d(this._options.blacklistUrls||[],e.blacklistUrls||[]),ignoreErrors:c.d(this._options.ignoreErrors||[],e.ignoreErrors||[],de),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:c.d(this._options.whitelistUrls||[],e.whitelistUrls||[])}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,o=t.value,i=void 0===o?"":o;return[""+i,r+": "+i]}catch(t){return C.a.error("Cannot extract message for event "+Object(R.e)(e)),[]}return[]},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t&&t[t.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(t){return C.a.error("Cannot extract url for event "+Object(R.e)(e)),null}},e.id="InboundFilters",e}();var ve=0;function ye(){return ve>0}function ge(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(t){return e}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=r.map(function(e){return ge(e,t)});return e.handleEvent?e.handleEvent.apply(this,o):e.apply(this,o)}catch(e){throw ve+=1,setTimeout(function(){ve-=1}),w(function(n){n.addEventProcessor(function(e){var n=c.a({},e);return t.mechanism&&(Object(R.b)(n,void 0,void 0),Object(R.a)(n,t.mechanism)),n.extra=c.a({},n.extra,{arguments:Object(k.c)(r,3)}),n}),p(e)}),e}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch(e){}e.prototype=e.prototype||{},r.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(e){}return r}var me,_e=function(){function e(){this._ignoreOnError=0,this.name=e.id}return e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=ge(r,{mechanism:{data:{function:Object(R.f)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e(ge(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(R.f)(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=Object(R.g)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(k.b)(n,"addEventListener",function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=ge(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Object(R.f)(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.call(this,n,ge(r,{mechanism:{data:{function:"addEventListener",handler:Object(R.f)(r),target:e},handled:!0,type:"instrument"}}),o)}}),Object(k.b)(n,"removeEventListener",function(e){return function(t,n,r){var o=n;try{o=o&&(o.__sentry_wrapped__||o)}catch(e){}return e.call(this,t,o,r)}}))},e.prototype._wrapXHR=function(e){return function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return["onload","onerror","onprogress"].forEach(function(e){e in t&&"function"==typeof t[e]&&Object(k.b)(t,e,function(t){return ge(t,{mechanism:{data:{function:e,handler:Object(R.f)(t)},handled:!0,type:"instrument"}})})}),"onreadystatechange"in this&&"function"==typeof this.onreadystatechange&&Object(k.b)(this,"onreadystatechange",function(e){var t={mechanism:{data:{function:"onreadystatechange",handler:Object(R.f)(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(t.mechanism.data.handler=Object(R.f)(e.__sentry_original__)),ge(e,t)}),e.apply(this,n)}},e.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var e=Object(R.g)();Object(k.b)(e,"setTimeout",this._wrapTimeFunction.bind(this)),Object(k.b)(e,"setInterval",this._wrapTimeFunction.bind(this)),Object(k.b)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),"XMLHttpRequest"in e&&Object(k.b)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},e.id="TryCatch",e}(),be=Object(R.g)(),Ee={},Oe={};function we(e){if(!Oe[e])switch(Oe[e]=!0,e){case"console":!function(){if(!("console"in be))return;["debug","info","warn","error","log","assert"].forEach(function(e){e in be.console&&Object(k.b)(be.console,e,function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Se("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,be.console,n)}})})}();break;case"dom":!function(){if(!("document"in be))return;be.document.addEventListener("click",Pe("click",Se.bind(null,"dom")),!1),be.document.addEventListener("keypress",Ce(Se.bind(null,"dom")),!1),["EventTarget","Node"].forEach(function(e){var t=be[e]&&be[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(Object(k.b)(t,"addEventListener",function(e){return function(t,n,r){return n&&n.handleEvent?("click"===t&&Object(k.b)(n,"handleEvent",function(e){return function(t){return Pe("click",Se.bind(null,"dom"))(t),e.call(this,t)}}),"keypress"===t&&Object(k.b)(n,"handleEvent",function(e){return function(t){return Ce(Se.bind(null,"dom"))(t),e.call(this,t)}})):("click"===t&&Pe("click",Se.bind(null,"dom"),!0)(this),"keypress"===t&&Ce(Se.bind(null,"dom"))(this)),e.call(this,t,n,r)}}),Object(k.b)(t,"removeEventListener",function(e){return function(t,n,r){var o=n;try{o=o&&(o.__sentry_wrapped__||o)}catch(e){}return e.call(this,t,o,r)}}))})}();break;case"xhr":!function(){if(!("XMLHttpRequest"in be))return;var e=XMLHttpRequest.prototype;Object(k.b)(e,"open",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[1];return this.__sentry_xhr__={method:Object(I.k)(t[0])?t[0].toUpperCase():t[0],url:t[1]},Object(I.k)(r)&&"POST"===this.__sentry_xhr__.method&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0),e.apply(this,t)}}),Object(k.b)(e,"send",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,o={args:t,startTimestamp:Date.now(),xhr:r};function i(){if(4===r.readyState){try{r.__sentry_xhr__&&(r.__sentry_xhr__.status_code=r.status)}catch(e){}Se("xhr",c.a({},o,{endTimestamp:Date.now()}))}}return Se("xhr",c.a({},o)),"onreadystatechange"in r&&"function"==typeof r.onreadystatechange?Object(k.b)(r,"onreadystatechange",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i(),e.apply(r,t)}}):r.onreadystatechange=i,e.apply(this,t)}})}();break;case"fetch":!function(){if(!function(){if(!H())return!1;var e=Object(R.g)();if(B(e.fetch))return!0;var t=!1,n=e.document;if(n){var r=n.createElement("iframe");r.hidden=!0;try{n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=B(r.contentWindow.fetch)),n.head.removeChild(r)}catch(e){C.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}}return t}())return;Object(k.b)(be,"fetch",function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:function(e){void 0===e&&(e=[]);if("Request"in be&&Object(I.g)(e[0],Request)&&e[0].method)return String(e[0].method).toUpperCase();if(e[1]&&e[1].method)return String(e[1].method).toUpperCase();return"GET"}(t),url:function(e){void 0===e&&(e=[]);if("string"==typeof e[0])return e[0];if("Request"in be&&Object(I.g)(e[0],Request))return e[0].url;return String(e[0])}(t)},startTimestamp:Date.now()};return Se("fetch",c.a({},r)),e.apply(be,t).then(function(e){return Se("fetch",c.a({},r,{endTimestamp:Date.now(),response:e})),e},function(e){throw Se("fetch",c.a({},r,{endTimestamp:Date.now(),error:e})),e})}})}();break;case"history":!function(){if(!function(){var e=Object(R.g)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}())return;var e=be.onpopstate;function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length>2?t[2]:void 0;if(r){var o=me,i=String(r);me=i,Se("history",{from:o,to:i})}return e.apply(this,t)}}be.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=be.location.href,o=me;if(me=r,Se("history",{from:o,to:r}),e)return e.apply(this,t)},Object(k.b)(be.history,"pushState",t),Object(k.b)(be.history,"replaceState",t)}();break;default:C.a.warn("unknown instrumentation type:",e)}}function xe(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(Ee[e.type]=Ee[e.type]||[],Ee[e.type].push(e.callback),we(e.type))}function Se(e,t){var n,r;if(e&&Ee[e])try{for(var o=c.e(Ee[e]||[]),i=o.next();!i.done;i=o.next()){var a=i.value;try{a(t)}catch(t){C.a.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+Object(R.f)(a)+"\nError: "+t)}}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var je,Te,ke=1e3,Re=0;function Pe(e,t,n){return void 0===n&&(n=!1),function(r){je=void 0,r&&Te!==r&&(Te=r,Re&&clearTimeout(Re),n?Re=setTimeout(function(){t({event:r,name:e})}):t({event:r,name:e}))}}function Ce(e){return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)&&(je||Pe("input",e)(t),clearTimeout(je),je=setTimeout(function(){je=void 0},ke))}}var Ie=function(){function e(t){this.name=e.id,this._options=c.a({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{extra:{arguments:Object(k.c)(e.args,3)},logger:"console"},level:a.fromString(e.level),message:Object(A.b)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(Object(A.b)(e.args.slice(1)," ")||"console.assert"),t.data.extra.arguments=Object(k.c)(e.args.slice(1),3)}Object(l.b)().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?Object(R.i)(e.event.target):Object(R.i)(e.event)}catch(e){t="<unknown>"}0!==t.length&&Object(l.b)().addBreadcrumb({category:"ui."+e.name,message:t},{event:event,name:e.name})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;Object(l.b)().addBreadcrumb({category:"xhr",data:e.xhr.__sentry_xhr__,type:"http"},{xhr:e.xhr})}else e.xhr.__sentry_own_request__&&Ne(e.args[0])},e.prototype._fetchBreadcrumb=function(e){if(e.endTimestamp){var t=Object(l.b)().getClient(),n=t&&t.getDsn();if(n){var r=new P(n).getStoreEndpoint();if(r&&-1!==e.fetchData.url.indexOf(r)&&"POST"===e.fetchData.method&&e.args[1]&&e.args[1].body)return void Ne(e.args[1].body)}e.error?Object(l.b)().addBreadcrumb({category:"fetch",data:c.a({},e.fetchData,{status_code:e.response.status}),level:a.Error,type:"http"},{data:e.error,input:e.args}):Object(l.b)().addBreadcrumb({category:"fetch",data:c.a({},e.fetchData,{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})}},e.prototype._historyBreadcrumb=function(e){var t=Object(R.g)(),n=e.from,r=e.to,o=Object(R.l)(t.location.href),i=Object(R.l)(n),a=Object(R.l)(r);i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),Object(l.b)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},e.prototype.setupOnce=function(){var e=this;this._options.console&&xe({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._consoleBreadcrumb.apply(e,c.d(t))},type:"console"}),this._options.dom&&xe({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._domBreadcrumb.apply(e,c.d(t))},type:"dom"}),this._options.xhr&&xe({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._xhrBreadcrumb.apply(e,c.d(t))},type:"xhr"}),this._options.fetch&&xe({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._fetchBreadcrumb.apply(e,c.d(t))},type:"fetch"}),this._options.history&&xe({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._historyBreadcrumb.apply(e,c.d(t))},type:"history"})},e.id="Breadcrumbs",e}();function Ne(e){try{var t=JSON.parse(e);Object(l.b)().addBreadcrumb({category:"sentry",event_id:t.event_id,level:t.level||a.fromString("error"),message:Object(R.e)(t)},{event:t})}catch(e){C.a.error("Error while adding sentry type breadcrumb")}}var Ae=function(){function e(t){this.name=e.id,this._global=Object(R.g)(),this._oldOnErrorHandler=null,this._oldOnUnhandledRejectionHandler=null,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=c.a({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(C.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(C.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){if(!this._onErrorHandlerInstalled){var t=this;this._oldOnErrorHandler=this._global.onerror,this._global.onerror=function(n,r,o,i,a){var s=Object(l.b)(),c=s.getIntegration(e),u=a&&!0===a.__sentry_own_request__;if(!c||ye()||u)return!!t._oldOnErrorHandler&&t._oldOnErrorHandler.apply(this,arguments);var f=s.getClient(),p=Object(I.i)(a)?t._eventFromIncompleteOnError(n,r,o,i):t._enhanceEventWithInitialFrame(te(a,void 0,{attachStacktrace:f&&f.getOptions().attachStacktrace,rejection:!1}),r,o,i);return Object(R.a)(p,{handled:!1,type:"onerror"}),s.captureEvent(p,{originalException:a}),!!t._oldOnErrorHandler&&t._oldOnErrorHandler.apply(this,arguments)},this._onErrorHandlerInstalled=!0}},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){if(!this._onUnhandledRejectionHandlerInstalled){var t=this;this._oldOnUnhandledRejectionHandler=this._global.onunhandledrejection,this._global.onunhandledrejection=function(n){var r=n;try{r=n&&"reason"in n?n.reason:n}catch(e){}var o=Object(l.b)(),i=o.getIntegration(e),s=r&&!0===r.__sentry_own_request__;if(!i||ye()||s)return!t._oldOnUnhandledRejectionHandler||t._oldOnUnhandledRejectionHandler.apply(this,arguments);var c=o.getClient(),u=Object(I.i)(r)?t._eventFromIncompleteRejection(r):te(r,void 0,{attachStacktrace:c&&c.getOptions().attachStacktrace,rejection:!0});return u.level=a.Error,Object(R.a)(u,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(u,{originalException:r}),!t._oldOnUnhandledRejectionHandler||t._oldOnUnhandledRejectionHandler.apply(this,arguments)},this._onUnhandledRejectionHandlerInstalled=!0}},e.prototype._eventFromIncompleteOnError=function(e,t,n,r){var o,i=Object(I.e)(e)?e.message:e;if(Object(I.k)(i)){var a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(o=a[1],i=a[2])}var s={exception:{values:[{type:o||"Error",value:i}]}};return this._enhanceEventWithInitialFrame(s,t,n,r)},e.prototype._eventFromIncompleteRejection=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+e}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(r,10))?void 0:r,i=isNaN(parseInt(n,10))?void 0:n,a=Object(I.k)(t)&&t.length>0?t:Object(R.h)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:o,filename:a,function:"?",in_app:!0,lineno:i}),e},e.id="GlobalHandlers",e}(),De="cause",Le=5,Me=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||De,this._limit=t.limit||Le}return e.prototype.setupOnce=function(){Object(u.b)(function(t,n){var r=Object(l.b)().getIntegration(e);return r?r._handler(t,n):t})},e.prototype._handler=function(e,t){if(!(e.exception&&e.exception.values&&t&&Object(I.g)(t.originalException,Error)))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=c.d(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!Object(I.g)(e[t],Error)||n.length+1>=this._limit)return n;var r=Q(J(e[t]));return this._walkErrorTree(e[t],t,c.d([r],n))},e.id="LinkedErrors",e}(),Ue=Object(R.g)(),Fe=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Object(u.b)(function(t){if(Object(l.b)().getIntegration(e)){if(!Ue.navigator||!Ue.location)return t;var n=t.request||{};return n.url=n.url||Ue.location.href,n.headers=n.headers||{},n.headers["User-Agent"]=Ue.navigator.userAgent,c.a({},t,{request:n})}return t})},e.id="UserAgent",e}(),He=[new r.InboundFilters,new r.FunctionToString,new _e,new Ie,new Ae,new Me,new Fe];function Be(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=He),void 0===e.release){var t=Object(R.g)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}!function(e,t){!0===t.debug&&C.a.enable(),Object(l.b)().bindClient(new e(t))}(fe,e)}function Ge(e){void 0===e&&(e={}),e.eventId||(e.eventId=Object(l.b)().lastEventId());var t=Object(l.b)().getClient();t&&t.showReportDialog(e)}function qe(){return Object(l.b)().lastEventId()}function We(){}function Ve(e){e()}function Ye(e){var t=Object(l.b)().getClient();return t?t.flush(e):N.a.reject(!1)}function Xe(e){var t=Object(l.b)().getClient();return t?t.close(e):N.a.reject(!1)}function Je(e){return ge(e)()}n.d(t,"Integrations",function(){return $e}),n.d(t,"Severity",function(){return a}),n.d(t,"Status",function(){return s}),n.d(t,"addGlobalEventProcessor",function(){return u.b}),n.d(t,"addBreadcrumb",function(){return y}),n.d(t,"captureException",function(){return p}),n.d(t,"captureEvent",function(){return h}),n.d(t,"captureMessage",function(){return d}),n.d(t,"configureScope",function(){return v}),n.d(t,"getHubFromCarrier",function(){return l.c}),n.d(t,"getCurrentHub",function(){return l.b}),n.d(t,"Hub",function(){return l.a}),n.d(t,"Scope",function(){return u.a}),n.d(t,"setContext",function(){return g}),n.d(t,"setExtra",function(){return b}),n.d(t,"setExtras",function(){return m}),n.d(t,"setTag",function(){return E}),n.d(t,"setTags",function(){return _}),n.d(t,"setUser",function(){return O}),n.d(t,"withScope",function(){return w}),n.d(t,"BrowserClient",function(){return fe}),n.d(t,"defaultIntegrations",function(){return He}),n.d(t,"forceLoad",function(){return We}),n.d(t,"init",function(){return Be}),n.d(t,"lastEventId",function(){return qe}),n.d(t,"onLoad",function(){return Ve}),n.d(t,"showReportDialog",function(){return Ge}),n.d(t,"flush",function(){return Ye}),n.d(t,"close",function(){return Xe}),n.d(t,"wrap",function(){return Je}),n.d(t,"SDK_NAME",function(){return le}),n.d(t,"SDK_VERSION",function(){return"5.11.1"}),n.d(t,"Transports",function(){return i});var Ke={},ze=Object(R.g)();ze.Sentry&&ze.Sentry.Integrations&&(Ke=ze.Sentry.Integrations);var $e=c.a({},Ke,r,o)},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return c}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return d});var r=n(0),o=n(1),i=n(18),a=n(39),s=3,c=function(){function e(e,t,n){void 0===t&&(t=new a.a),void 0===n&&(n=s),this._version=n,this._stack=[],this._stack.push({client:e,scope:t})}return e.prototype._invokeClient=function(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this.getStackTop();i&&i.client&&i.client[e]&&(t=i.client)[e].apply(t,r.d(n,[i.scope]))},e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e},e.prototype.pushScope=function(){var e=this.getStack(),t=e.length>0?e[e.length-1].scope:void 0,n=a.a.clone(t);return this.getStack().push({client:this.getClient(),scope:n}),n},e.prototype.popScope=function(){return void 0!==this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=Object(o.n)(),i=t;if(!t){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(e){a=e}i={originalException:e,syntheticException:a}}return this._invokeClient("captureException",e,r.a({},i,{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var i=this._lastEventId=Object(o.n)(),a=n;if(!n){var s=void 0;try{throw new Error(e)}catch(e){s=e}a={originalException:e,syntheticException:s}}return this._invokeClient("captureMessage",e,t,r.a({},a,{event_id:i})),i},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=Object(o.n)();return this._invokeClient("captureEvent",e,r.a({},t,{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop();if(n.scope&&n.client){var i=n.client.getOptions&&n.client.getOptions()||{},a=i.beforeBreadcrumb,s=void 0===a?null:a,c=i.maxBreadcrumbs,u=void 0===c?100:c;if(!(u<=0)){var l=Object(o.m)(),f=r.a({timestamp:l},e),p=s?Object(o.c)(function(){return s(f,t)}):f;null!==p&&n.scope.addBreadcrumb(p,Math.min(u,100))}}},e.prototype.setUser=function(e){var t=this.getStackTop();t.scope&&t.scope.setUser(e)},e.prototype.setTags=function(e){var t=this.getStackTop();t.scope&&t.scope.setTags(e)},e.prototype.setExtras=function(e){var t=this.getStackTop();t.scope&&t.scope.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop();t.scope&&t.client&&e(t.scope)},e.prototype.run=function(e){var t=l(this);try{e(this)}finally{l(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return i.a.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e,t){return void 0===t&&(t=!1),this._callExtensionMethod("startSpan",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=u().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[e])return r.extensions[e].apply(this,t);i.a.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function u(){var e=Object(o.g)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function l(e){var t=u(),n=d(t);return h(t,e),n}function f(){var t=u();return p(t)&&!d(t).isOlderThan(s)||h(t,new c),Object(o.j)()?function(t){try{var n=Object(o.d)(e,"domain"),r=n.active;if(!r)return d(t);if(!p(r)||d(r).isOlderThan(s)){var i=d(t).getStackTop();h(r,new c(i.client,a.a.clone(i.scope)))}return d(r)}catch(e){return d(t)}}(t):d(t)}function p(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function d(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub?e.__SENTRY__.hub:(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new c,e.__SENTRY__.hub)}function h(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}}).call(this,n(151)(e))}])});
//# sourceMappingURL=imposium.min.js.map 