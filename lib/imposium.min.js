// [IMPOSIUM-JS-SDK]  Version: 2.2.3  
 !function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Imposium",[],t):"object"==typeof exports?exports.Imposium=t():e.Imposium=t()}(window,function(){return r={},o.m=n=[function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}},function(e,E,O){"use strict";(function(e,t){O.d(E,"d",function(){return n}),O.d(E,"j",function(){return r}),O.d(E,"g",function(){return i}),O.d(E,"n",function(){return a}),O.d(E,"l",function(){return s}),O.d(E,"e",function(){return c}),O.d(E,"c",function(){return l}),O.d(E,"b",function(){return f}),O.d(E,"a",function(){return p}),O.d(E,"h",function(){return d}),O.d(E,"i",function(){return h}),O.d(E,"m",function(){return y}),O.d(E,"k",function(){return m}),O.d(E,"f",function(){return b});var u=O(4);O(17);function n(e,t){return e.require(t)}function r(){return"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}var o={};function i(){return r()?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:o}function a(){var e=i(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function s(e){if(!e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function c(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function l(e){var t=i();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach(function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)});var o=e();return Object.keys(r).forEach(function(e){n[e]=r[e]}),o}function f(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function p(t,n){void 0===n&&(n={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(n).forEach(function(e){t.exception.values[0].mechanism[e]=n[e]})}catch(e){}}function d(){try{return document.location.href}catch(e){return""}}function h(e){try{for(var t=e,n=[],r=0,o=0,i=" > ".length,a=void 0;t&&r++<5&&!("html"===(a=v(t))||1<r&&80<=o+n.length*i+a.length);)n.push(a),o+=a.length,t=t.parentNode;return n.reverse().join(" > ")}catch(e){return"<unknown>"}}function v(e){var t,n,r,o,i,a=e,s=[];if(!a||!a.tagName)return"";if(s.push(a.tagName.toLowerCase()),a.id&&s.push("#"+a.id),(t=a.className)&&Object(u.k)(t))for(n=t.split(/\s+/),i=0;i<n.length;i++)s.push("."+n[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)r=c[i],(o=a.getAttribute(r))&&s.push("["+r+'="'+o+'"]');return s.join("")}function y(){return(new Date).getTime()/1e3}var g=6e4;function m(e,t){if(!t)return g;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?g:r-e}var _="<anonymous>";function b(e){try{return e&&"function"==typeof e?e.name||_:_}catch(e){return _}}}).call(this,O(75),O(81))},,function(e,h,v){"use strict";(function(n){v.d(h,"b",function(){return e}),v.d(h,"e",function(){return t}),v.d(h,"d",function(){return s}),v.d(h,"c",function(){return d}),v.d(h,"a",function(){return r});var c=v(4),u=v(83),a=v(1),i=v(17);function e(e,t,n){if(t in e){var r=e[t],o=n(r);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:r}})}catch(e){}e[t]=o}}function t(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function l(e){if(Object(c.d)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}if(Object(c.f)(e)){var o=e,i={};i.type=o.type;try{i.target=Object(c.c)(o.target)?Object(a.i)(o.target):Object.prototype.toString.call(o.target)}catch(e){i.target="<unknown>"}try{i.currentTarget=Object(c.c)(o.currentTarget)?Object(a.i)(o.currentTarget):Object.prototype.toString.call(o.currentTarget)}catch(e){i.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&Object(c.g)(e,CustomEvent)&&(i.detail=o.detail),o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o);return i}return e}function o(e){return t=JSON.stringify(e),~-encodeURI(t).split(/%..|./).length;var t}function s(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r=d(e,t);return o(r)>n?s(e,t-1,n):r}function f(e,t){return"domain"===t&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":void 0!==n&&e===n?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":Object(c.l)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+Object(a.f)(e)+"]":e}function p(e,t,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new u.a),0===n)return function(e){var t=Object.prototype.toString.call(e);if("string"==typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=f(e);return Object(c.i)(n)?n:t}(t);if(null!=t&&"function"==typeof t.toJSON)return t.toJSON();var o=f(t,e);if(Object(c.i)(o))return o;var i=l(t),a=Array.isArray(t)?[]:{};if(r.memoize(t))return"[Circular ~]";for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=p(s,i[s],n-1,r));return r.unmemoize(t),a}function d(e,n){try{return JSON.parse(JSON.stringify(e,function(e,t){return p(e,t,n)}))}catch(e){return"**non-serializable**"}}function r(e,t){void 0===t&&(t=40);var n=Object.keys(l(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Object(i.d)(n[0],t);for(var r=n.length;0<r;r--){var o=n.slice(0,r).join(", ");if(!(o.length>t))return r===n.length?o:Object(i.d)(o,t)}return""}}).call(this,v(81))},function(e,t,n){"use strict";function r(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return v(e,Error)}}function o(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function i(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function u(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e){return"undefined"!=typeof Event&&v(e,Event)}function f(e){return"undefined"!=typeof Element&&v(e,Element)}function p(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function d(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function h(e){return u(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e,t){try{return e instanceof t}catch(e){return!1}}n.d(t,"d",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"k",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return f}),n.d(t,"j",function(){return p}),n.d(t,"m",function(){return d}),n.d(t,"l",function(){return h}),n.d(t,"g",function(){return v})},function(e,t,n){var r=n(35)("wks"),o=n(27),i=n(6).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var o=n(71),r=Object.prototype.toString;function i(e){return"[object Array]"===r.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===r.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function n(){var r={};function e(e,t){"object"==typeof r[t]&&"object"==typeof e?r[t]=n(r[t],e):r[t]=e}for(var t=0,o=arguments.length;t<o;t++)u(arguments[t],e);return r},deepMerge:function n(){var r={};function e(e,t){"object"==typeof r[t]&&"object"==typeof e?r[t]=n(r[t],e):r[t]="object"==typeof e?n({},e):e}for(var t=0,o=arguments.length;t<o;t++)u(arguments[t],e);return r},extend:function(n,e,r){return u(e,function(e,t){n[t]=r&&"function"==typeof e?o(e,r):e}),n},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(8);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(10),o=n(57),i=n(42),a=Object.defineProperty;t.f=n(11)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e){e.exports=JSON.parse('{"client":{"uuidLength":36,"defaultConfig":{"accessToken":"","storyId":"","actId":"","sceneId":"","environment":"production","gaPlacement":"web","deliveryMode":"ws","pollRate":5000},"emptyHistory":{"prevExperienceId":"","prevMessage":""},"clientEmits":{"adding":"Adding job to queue...","added":"Added job to queue...","finishedPolling":"Video ready for viewing."},"eventNames":{"EXPERIENCE_CREATED":"EXPERIENCE_CREATED","UPLOAD_PROGRESS":"UPLOAD_PROGRESS","GOT_EXPERIENCE":"GOT_EXPERIENCE","STATUS_UPDATE":"STATUS_UPDATE","ERROR":"ERROR"}},"api":{"production":"https://api.imposium.com","staging":"https://api.staging.imposium.com","local":"https://api","currentVersion":"2.0.0","version":"X-Imposium-Api-Version","hmac":"X-Imposium-Access-Key","jwt":"Authorization"},"stomp":{"production":"wss://stomp.prod.k8s.nickel.media/ws","staging":"wss://stomp.staging.k8s.nickel.media/ws","local":"ws://127.0.0.1:15674/ws","exchange":"/exchange/imposium/","username":"imposium_stomp","password":"Teehe1ceeMe7Pe1d","maxRetries":2},"sentry":{"dsn":"https://17ffe982179e4d60a1df2062198d7ade@sentry.io/1411258","projectName":"imposium-js-sdk"},"messageConsumer":{"errorOverTcp":"Server failure.","videoSceneKey":"VideoScene01","emitTypes":{"scene":"gotScene","message":"gotMessage","complete":"actComplete"}},"analytics":{"exceptionProp":"UA-123315989-1","baseUrl":"https://ssl.google-analytics.com/collect","lsLookup":"imposium_js_ga_cid","gaPropPlaceholder":"[id_placeholder]","cidPlaceholder":"[cid_placeholder]"},"videoPlayer":{"defaultConfig":{"volume":1,"preload":"auto","loop":false,"muted":false,"autoLoad":true,"autoPlay":true,"controls":true,"crossOrigin":"anonymous","qualityOverride":null},"testImage":"https://cdn.imposium.com/SampleJPGImage_1mb.jpg","playbackEvents":[0,0.25,0.5,0.75],"checkPlaybackRateMs":100,"volumeMin":0,"volumeMax":1,"bandwidth":{"low":2.4,"mid":8},"compression":{"stream":"m3u8","low":"mp4_480","mid":"mp4_720","high":"mp4_1080"},"bandwidthSamples":5,"hlsSupportLevels":{"native":"native","hlsjs":"hls-js"},"streamType":"application/vnd.apple.mpegurl"}}')},function(e,t,n){var i=n(6),a=n(15),s=n(16),c=n(27)("src"),r=n(87),o="toString",u=(""+r).split(o);n(9).inspectSource=function(e){return r.call(e)},(e.exports=function(e,t,n,r){var o="function"==typeof n;o&&(s(n,"name")||a(n,"name",t)),e[t]!==n&&(o&&(s(n,c)||a(n,c,e[t]?""+e[t]:u.join(String(t)))),e===i?e[t]=n:r?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,o,function(){return"function"==typeof this&&this[c]||r.call(this)})},function(e,t,n){var r=n(12),o=n(36);e.exports=n(11)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n(4);function o(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function i(e,t){var n=e,r=n.length;if(r<=150)return n;r<t&&(t=r);var o=Math.max(t-60,0);o<5&&(o=0);var i=Math.min(o+140,r);return r-5<i&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),0<o&&(n="'{snip} "+n),i<r&&(n+=" {snip}"),n}function a(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var o=e[r];try{n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function s(e,t){return Object(r.j)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),o=Object(r.g)(),i="Sentry Logger ",a=(s.prototype.disable=function(){this._enabled=!1},s.prototype.enable=function(){this._enabled=!0},s.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)(function(){o.console.log(i+"[Log]: "+e.join(" "))})},s.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)(function(){o.console.warn(i+"[Warn]: "+e.join(" "))})},s.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)(function(){o.console.error(i+"[Error]: "+e.join(" "))})},s);function s(){this._enabled=!1}o.__SENTRY__=o.__SENTRY__||{};var c=o.__SENTRY__.logger||(o.__SENTRY__.logger=new a)},,function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var v=n(6),y=n(9),g=n(15),m=n(14),_=n(22),b="prototype",E=function(e,t,n){var r,o,i,a,s=e&E.F,c=e&E.G,u=e&E.S,l=e&E.P,f=e&E.B,p=c?v:u?v[t]||(v[t]={}):(v[t]||{})[b],d=c?y:y[t]||(y[t]={}),h=d[b]||(d[b]={});for(r in c&&(n=t),n)i=((o=!s&&p&&void 0!==p[r])?p:n)[r],a=f&&o?_(i,v):l&&"function"==typeof i?_(Function.call,i):i,p&&m(p,r,i,e&E.U),d[r]!=i&&g(d,r,a),l&&h[r]!=i&&(h[r]=i)};v.core=y,E.F=1,E.G=2,E.S=4,E.P=8,E.B=16,E.W=32,E.U=64,E.R=128,e.exports=E},function(e,t,n){var i=n(37);e.exports=function(r,o,e){if(i(r),void 0===o)return r;switch(e){case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)}}return function(){return r.apply(o,arguments)}}},function(e,t,n){var r=n(59),o=n(44);e.exports=function(e){return r(o(e))}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(56),c=i(n(152),[]),u="moderation",l="clientConfiguration",f="playerConfiguration",p="network",d="uncaught",h=(a=Error,o(v,a),v);function v(e,t){var n=a.call(this,e)||this;return n.type="",n.version=s.version,n.storyId="<not_set>",n.logHeader="[IMPOSIUM ERROR]",n.setStoryId=function(e){n.storyId=e},Error.captureStackTrace&&Error.captureStackTrace(n,v),n.type=t,n}t.ImposiumError=h;var y,g=(o(m,y=h),m);function m(e,t){var n=y.call(this,c[u][e],u)||this;return n.experienceId=null,n.log=function(){console.error(n.logHeader+"\n            \nReason: Failed to pass moderation\n            \nExperience ID: "+n.experienceId+"\n            \nMessage: "+n.message)},Error.captureStackTrace&&Error.captureStackTrace(n,m),n.experienceId=t||"<not_set>",n}t.ModerationError=g;var _,b=(o(E,_=h),E);function E(e,t){var n=_.call(this,c[l][e],l)||this;return n.eventName="",n.log=function(){console.error(n.logHeader+"\n            \nReason: Invalid client configuration\n            \nMessage: "+n.message+"\n            \nEvent name: "+n.eventName)},Error.captureStackTrace&&Error.captureStackTrace(n,E),n.eventName=t||"<not_set>",n}t.ClientConfigurationError=b;var O,x=(o(w,O=h),w);function w(e,t){var n=O.call(this,c[f][e],f)||this;return n.eventName="",n.log=function(){console.error(n.logHeader+"\n            \nReason: Invalid player configuration\n            \nMessage: "+n.message+"\n            \nEvent name: "+n.eventName)},Error.captureStackTrace&&Error.captureStackTrace(n,w),n.eventName=t||"<not_set>",n}t.PlayerConfigurationError=x;var S,j=(o(T,S=h),T);function T(e,t,n){var r=S.call(this,c[p][e],p)||this;return r.experienceId=null,r.axiosError=null,r.log=function(){console.error(r.logHeader+"\n            \nReason: HTTP error\n            \nMessage: "+r.message+"\n            \nExperience ID: "+r.experienceId+"\n            \nNetwork Error: ",r.axiosError)},Error.captureStackTrace&&Error.captureStackTrace(r,T),n.hasOwnProperty("response")&&n.response.hasOwnProperty("data")&&n.response.data.hasOwnProperty("error")&&(r.message=n.response.data.error),r.experienceId=t||"<not_set>",r.axiosError=n,r}t.HTTPError=j;var k,P=(o(R,k=h),R);function R(e,t,n){var r=k.call(this,c[p][e],p)||this;return r.experienceId=null,r.closeEvent=null,r.log=function(){console.error(r.logHeader+"\n            \nReason: WebSocket error\n            \nMessage: "+r.message+"\n            \nExperience ID: "+r.experienceId+"\n            \nClose event: ",r.closeEvent)},Error.captureStackTrace&&Error.captureStackTrace(r,R),r.experienceId=t||"<not_set>",r.closeEvent=n,r}t.SocketError=P;var C,I=(o(A,C=h),A);function A(e,t){var n=C.call(this,c[d][e],d)||this;return n.uncaughtError=null,n.log=function(){console.error(n.logHeader+"\n            \nReason: Unknown\n            \nMessage: "+n.message+"\n            \nError: ",n.uncaughtError)},Error.captureStackTrace&&Error.captureStackTrace(n,A),n.uncaughtError=t,n}t.UncaughtError=I},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports={}},function(e,t,n){var r=n(58),o=n(48);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(12).f,o=n(16),i=n(5)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prepConfig=function(e,t){var n=Object.keys(t);for(var r in e)-1===n.indexOf(r)&&delete e[r]},t.inRangeNumeric=function(e,t,n){return(e-t)*(e-n)<=0},t.isFunc=function(e){return"[object Function]"===Object.prototype.toString.call(e)},t.keyExists=function(t,e){return~Object.keys(t).map(function(e){return t[e]}).indexOf(e)},t.cloneWithKeys=function(e){return Object.keys(e).reduce(function(e,t){return e[t]=null,e},{})},t.calculateMbps=function(e,t){return 8*t/(((new Date).getTime()-e)/1e3)/Math.pow(1024,2)},t.calculateAverageMbps=function(e){var t=e.reduce(function(e,t){return e+t});return parseFloat((t/e.length).toFixed(2))},t.generateUUID=function(){var e=window.performance,n=(new Date).getTime();return void 0!==e&&"function"==typeof e.now&&(n+=e.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:7&t|8).toString(16)})},t.inventoryToFormData=function(e,t){var n=new FormData;for(var r in n.append("story_id",e),t)if(t[r]){var o=t[r];if(o&&"file"===o.type){var i=o.files;0<i.length?(t[r]="",n.append(r,i[0])):t[r]=""}else(o&&o instanceof Blob||o instanceof File)&&(t[r]="",n.append(r,o,"inventory.png"));n.append("inventory["+r+"]",t[r])}return n}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(159),i=n(24),a=n(56),s=r(n(153),[]),c=n(13).sentry,u=(l.logWarning=function(e,t){console.warn("IMPOSIUM\n"+s[e][t])},l.trapError=function(n,r,e){void 0===e&&(e=null),n=n.log?n:new i.UncaughtError("generic",n),r&&n.setStoryId(r),e&&e(n),n.log(),l.hub.run(function(t){t.configureScope(function(e){e.setTag("type",n.type),e.setTag("version",n.version),e.setTag("storyId",r||"<not_set>"),n.experienceId&&e.setTag("experienceId",n.experienceId),n.axiosError&&("object"==typeof n.axiosError.response?e.setExtra("response",n.axiosError.response):("object"==typeof n.axiosError.request?e.setExtra("request",n.axiosError.request):e.setExtra("axiosErrorMessage",n.axiosError.message),e.setExtra("reuqestConfig",n.axiosError.config))),n.closeEvent&&e.setExtra("socketCloseEvent",{code:n.closeEvent.code,type:n.closeEvent.type,timestamp:n.closeEvent.timeStamp,wsUrl:n.closeEvent.target.url,wsBufferedAmount:n.closeEvent.target.bufferedAmount}),t.captureException(n)})})},l.sentryClient=new o.BrowserClient({debug:!1,dsn:c.dsn,integrations:[new o.Integrations.UserAgent],beforeSend:function(e){return l.cleanDucktype(e)},release:c.projectName+"@"+a.version}),l.hub=new o.Hub(l.sentryClient),l.cleanDucktype=function(e){return void 0===e.extra||e.extra.Error&&(delete e.extra.Error.log,delete e.extra.Error.logHeader,delete e.extra.Error.setStoryId,e.extra.Error.axiosError&&delete e.extra.Error.axiosError,e.extra.Error.closeEvent&&delete e.extra.Error.closeEvent),e},l);function l(){}t.default=u},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,o,i=n(4);(o=r=r||{}).PENDING="PENDING",o.RESOLVED="RESOLVED",o.REJECTED="REJECTED";var a=(s.prototype.toString=function(){return"[object SyncPromise]"},s.resolve=function(t){return new s(function(e){e(t)})},s.reject=function(n){return new s(function(e,t){t(n)})},s.all=function(e){return new s(function(n,r){if(Array.isArray(e))if(0!==e.length){var o=e.length,i=[];e.forEach(function(e,t){s.resolve(e).then(function(e){i[t]=e,0==--o&&n(i)}).then(null,r)})}else n([]);else r(new TypeError("Promise.all requires an array as input."))})},s.prototype.then=function(r,o){var e=this;return new s(function(t,n){e._attachHandler({onfulfilled:function(e){if(r)try{return void t(r(e))}catch(e){return void n(e)}else t(e)},onrejected:function(e){if(o)try{return void t(o(e))}catch(e){return void n(e)}else n(e)}})})},s.prototype.catch=function(e){return this.then(function(e){return e},e)},s.prototype.finally=function(o){var i=this;return new s(function(e,t){var n,r;return i.then(function(e){r=!1,n=e,o&&o()},function(e){r=!0,n=e,o&&o()}).then(function(){(r?t:e)(n)})})},s);function s(e){var n=this;this._state=r.PENDING,this._handlers=[],this._resolve=function(e){n._setResult(r.RESOLVED,e)},this._reject=function(e){n._setResult(r.REJECTED,e)},this._setResult=function(e,t){n._state===r.PENDING&&(Object(i.m)(t)?t.then(n._resolve,n._reject):(n._state=e,n._value=t,n._executeHandlers()))},this._attachHandler=function(e){n._handlers=n._handlers.concat(e),n._executeHandlers()},this._executeHandlers=function(){n._state!==r.PENDING&&(n._state===r.REJECTED?n._handlers.forEach(function(e){e.onrejected&&e.onrejected(n._value)}):n._handlers.forEach(function(e){e.onfulfilled&&e.onfulfilled(n._value)}),n._handlers=[])};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}},,function(e,t,n){var r=n(9),o=n(6),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(26)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return f});var u=n(0),r=n(33),l=n(4),o=n(3),i=n(1),a=(s.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},s.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},s.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout(function(){t._scopeListeners.forEach(function(e){e(t)}),t._notifyingListeners=!1}))},s.prototype._notifyEventProcessors=function(o,i,a,s){var c=this;return void 0===s&&(s=0),new r.a(function(t,e){var n=o[s];if(null===i||"function"!=typeof n)t(i);else{var r=n(u.a({},i),a);Object(l.m)(r)?r.then(function(e){return c._notifyEventProcessors(o,e,a,s+1).then(t)}).then(null,e):c._notifyEventProcessors(o,r,a,s+1).then(t).then(null,e)}})},s.prototype.setUser=function(e){return this._user=Object(o.c)(e),this._notifyScopeListeners(),this},s.prototype.setTags=function(e){return this._tags=u.a({},this._tags,Object(o.c)(e)),this._notifyScopeListeners(),this},s.prototype.setTag=function(e,t){var n;return this._tags=u.a({},this._tags,((n={})[e]=Object(o.c)(t),n)),this._notifyScopeListeners(),this},s.prototype.setExtras=function(e){return this._extra=u.a({},this._extra,Object(o.c)(e)),this._notifyScopeListeners(),this},s.prototype.setExtra=function(e,t){var n;return this._extra=u.a({},this._extra,((n={})[e]=Object(o.c)(t),n)),this._notifyScopeListeners(),this},s.prototype.setFingerprint=function(e){return this._fingerprint=Object(o.c)(e),this._notifyScopeListeners(),this},s.prototype.setLevel=function(e){return this._level=Object(o.c)(e),this._notifyScopeListeners(),this},s.prototype.setTransaction=function(e){return this._transaction=e,this._notifyScopeListeners(),this},s.prototype.setContext=function(e,t){return this._context[e]=t?Object(o.c)(t):void 0,this._notifyScopeListeners(),this},s.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},s.prototype.getSpan=function(){return this._span},s.clone=function(e){var t=new s;return e&&(t._breadcrumbs=u.d(e._breadcrumbs),t._tags=u.a({},e._tags),t._extra=u.a({},e._extra),t._context=u.a({},e._context),t._user=e._user,t._level=e._level,t._span=e._span,t._transaction=e._transaction,t._fingerprint=e._fingerprint,t._eventProcessors=u.d(e._eventProcessors)),t},s.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},s.prototype.addBreadcrumb=function(e,t){var n=Object(i.m)(),r=u.a({timestamp:n},e);return this._breadcrumbs=void 0!==t&&0<=t?u.d(this._breadcrumbs,[Object(o.c)(r)]).slice(-t):u.d(this._breadcrumbs,[Object(o.c)(r)]),this._notifyScopeListeners(),this},s.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},s.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},s.prototype.applyToEvent=function(e,t){return this._extra&&Object.keys(this._extra).length&&(e.extra=u.a({},this._extra,e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=u.a({},this._tags,e.tags)),this._user&&Object.keys(this._user).length&&(e.user=u.a({},this._user,e.user)),this._context&&Object.keys(this._context).length&&(e.contexts=u.a({},this._context,e.contexts)),this._level&&(e.level=this._level),this._transaction&&(e.transaction=this._transaction),this._applyFingerprint(e),e.breadcrumbs=u.d(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=0<e.breadcrumbs.length?e.breadcrumbs:void 0,this._notifyEventProcessors(u.d(c(),this._eventProcessors),e,t)},s);function s(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}function c(){var e=Object(i.g)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function f(e){c().push(e)}},function(e,t,n){var o=n(25),i=n(5)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(8),o=n(6).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var o=n(8);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";function _(){return this}var b=n(26),E=n(21),O=n(14),x=n(15),w=n(28),S=n(90),j=n(30),T=n(94),k=n(5)("iterator"),P=!([].keys&&"next"in[].keys()),R="values";e.exports=function(e,t,n,r,o,i,a){S(n,t,r);function s(e){if(!P&&e in h)return h[e];switch(e){case"keys":case R:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var c,u,l,f=t+" Iterator",p=o==R,d=!1,h=e.prototype,v=h[k]||h["@@iterator"]||o&&h[o],y=v||s(o),g=o?p?s("entries"):y:void 0,m="Array"==t&&h.entries||v;if(m&&(l=T(m.call(new e)))!==Object.prototype&&l.next&&(j(l,f,!0),b||"function"==typeof l[k]||x(l,k,_)),p&&v&&v.name!==R&&(d=!0,y=function(){return v.call(this)}),b&&!a||!P&&!d&&h[k]||x(h,k,y),w[t]=y,w[f]=_,o)if(c={values:p?y:s(R),keys:i?y:s("keys"),entries:g},a)for(u in c)u in h||O(h,u,c[u]);else E(E.P+E.F*(P||d),t,c);return c}},function(e,t,r){function o(){}var i=r(10),a=r(91),s=r(48),c=r(47)("IE_PROTO"),u="prototype",l=function(){var e,t=r(41)("iframe"),n=s.length;for(t.style.display="none",r(61).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[u][s[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(o[u]=i(e),n=new o,o[u]=null,n[c]=e):n=l(),void 0===t?n:a(n,t)}},function(e,t,n){var r=n(35)("keys"),o=n(27);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(44);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var p=n(22),d=n(99),h=n(100),v=n(10),y=n(60),g=n(101),m={},_={};(t=e.exports=function(e,t,n,r,o){var i,a,s,c,u=o?function(){return e}:g(e),l=p(n,r,t?2:1),f=0;if("function"!=typeof u)throw TypeError(e+" is not iterable!");if(h(u)){for(i=y(e.length);f<i;f++)if((c=t?l(v(a=e[f])[0],a[1]):l(e[f]))===m||c===_)return c}else for(s=u.call(e);!(a=s.next()).done;)if((c=d(s,l,a.value,t))===m||c===_)return c}).BREAK=m,t.RETURN=_},function(e,t,n){var o=n(14);e.exports=function(e,t,n){for(var r in t)o(e,r,t[r],n);return e}},function(e,t,n){function r(e){s(e,o,{value:{i:"O"+ ++c,w:{}}})}var o=n(27)("meta"),i=n(8),a=n(16),s=n(12).f,c=0,u=Object.isExtensible||function(){return!0},l=!n(20)(function(){return u(Object.preventExtensions({}))}),f=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,o)){if(!u(e))return"F";if(!t)return"E";r(e)}return e[o].i},getWeak:function(e,t){if(!a(e,o)){if(!u(e))return!0;if(!t)return!1;r(e)}return e[o].w},onFreeze:function(e){return l&&f.NEED&&u(e)&&!a(e,o)&&r(e),e}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){e.exports=n(133)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="2.2.3",t.printVersion=function(){console.log("%cPowered By%c Imposium%c v"+t.version+"%c https://imposium.com","text-transform: uppercase; padding: 5px 0px 5px 5px; background-color: black; color: white;","text-transform: uppercase; padding: 5px 0px 5px 0px; background-color: black; color: #a1b83a;","padding: 5px 5px 5px 0px; background-color: black; color: white;","padding: 5px 5px 5px 0px;")}},function(e,t,n){e.exports=!n(11)&&!n(20)(function(){return 7!=Object.defineProperty(n(41)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var a=n(16),s=n(23),c=n(92)(!1),u=n(47)("IE_PROTO");e.exports=function(e,t){var n,r=s(e),o=0,i=[];for(n in r)n!=u&&a(r,n)&&i.push(n);for(;t.length>o;)a(r,n=t[o++])&&(~c(i,n)||i.push(n));return i}},function(e,t,n){var r=n(25);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(43),o=Math.min;e.exports=function(e){return 0<e?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(6).document;e.exports=r&&r.documentElement},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){function r(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}}function o(e){r.call(e.data)}var i,a,s,c=n(22),u=n(103),l=n(61),f=n(41),p=n(6),d=p.process,h=p.setImmediate,v=p.clearImmediate,y=p.MessageChannel,g=p.Dispatch,m=0,_={},b="onreadystatechange";h&&v||(h=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return _[++m]=function(){u("function"==typeof e?e:Function(e),t)},i(m),m},v=function(e){delete _[e]},"process"==n(25)(d)?i=function(e){d.nextTick(c(r,e,1))}:g&&g.now?i=function(e){g.now(c(r,e,1))}:y?(s=(a=new y).port2,a.port1.onmessage=o,i=c(s.postMessage,s,1)):p.addEventListener&&"function"==typeof postMessage&&!p.importScripts?(i=function(e){p.postMessage(e+"","*")},p.addEventListener("message",o,!1)):i=b in f("script")?function(e){l.appendChild(f("script"))[b]=function(){l.removeChild(this),r.call(e)}}:function(e){setTimeout(c(r,e,1),0)}),e.exports={set:h,clear:v}},function(e,t,n){"use strict";var o=n(37);function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=o(n),this.reject=o(r)}e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";var r=n(6),o=n(12),i=n(11),a=n(5)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(5)("iterator"),a=!1;try{var r=[7][i]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],o=r[i]();o.next=function(){return{done:n=!0}},r[i]=function(){return o},e(r)}catch(e){}return n}},function(e,t,n){t.f=n(5)},function(e,t,n){var r=n(58),o=n(48).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(38),o=n(36),i=n(23),a=n(42),s=n(16),c=n(57),u=Object.getOwnPropertyDescriptor;t.f=n(11)?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";e.exports=function(n,r){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];return n.apply(r,e)}}},function(e,t,n){"use strict";var a=n(7);function s(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(a.isURLSearchParams(t))r=t.toString();else{var o=[];a.forEach(t,function(e,t){null!=e&&(a.isArray(e)?t+="[]":e=[e],a.forEach(e,function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=JSON.stringify(e)),o.push(s(t)+"="+s(e))}))}),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(s,e,c){"use strict";(function(e){var n=c(7),r=c(138),t={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i,a={adapter:("undefined"!=typeof XMLHttpRequest?i=c(76):void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(i=c(76)),i),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return 200<=e&&e<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){a.headers[e]={}}),n.forEach(["post","put","patch"],function(e){a.headers[e]=n.merge(t)}),s.exports=a}).call(this,c(75))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&d())}function d(){if(!l){var e=s(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,f){"use strict";var p=f(7),d=f(139),h=f(72),v=f(141),y=f(144),g=f(145),m=f(77);e.exports=function(l){return new Promise(function(n,r){var o=l.data,i=l.headers;p.isFormData(o)&&delete i["Content-Type"];var a=new XMLHttpRequest;if(l.auth){var e=l.auth.username||"",t=l.auth.password||"";i.Authorization="Basic "+btoa(e+":"+t)}var s=v(l.baseURL,l.url);if(a.open(l.method.toUpperCase(),h(s,l.params,l.paramsSerializer),!0),a.timeout=l.timeout,a.onreadystatechange=function(){if(a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in a?y(a.getAllResponseHeaders()):null,t={data:l.responseType&&"text"!==l.responseType?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:e,config:l,request:a};d(n,r,t),a=null}},a.onabort=function(){a&&(r(m("Request aborted",l,"ECONNABORTED",a)),a=null)},a.onerror=function(){r(m("Network Error",l,null,a)),a=null},a.ontimeout=function(){var e="timeout of "+l.timeout+"ms exceeded";l.timeoutErrorMessage&&(e=l.timeoutErrorMessage),r(m(e,l,"ECONNABORTED",a)),a=null},p.isStandardBrowserEnv()){var c=f(147),u=(l.withCredentials||g(s))&&l.xsrfCookieName?c.read(l.xsrfCookieName):void 0;u&&(i[l.xsrfHeaderName]=u)}if("setRequestHeader"in a&&p.forEach(i,function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete i[t]:a.setRequestHeader(t,e)}),p.isUndefined(l.withCredentials)||(a.withCredentials=!!l.withCredentials),l.responseType)try{a.responseType=l.responseType}catch(e){if("json"!==l.responseType)throw e}"function"==typeof l.onDownloadProgress&&a.addEventListener("progress",l.onDownloadProgress),"function"==typeof l.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",l.onUploadProgress),l.cancelToken&&l.cancelToken.promise.then(function(e){a&&(a.abort(),r(e),a=null)}),void 0===o&&(o=null),a.send(o)})}},function(e,t,n){"use strict";var a=n(140);e.exports=function(e,t,n,r,o){var i=new Error(e);return a(i,t,n,r,o)}},function(e,t,n){"use strict";var c=n(7);e.exports=function(t,n){n=n||{};var r={},e=["url","method","params","data"],o=["headers","auth","proxy"],i=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];c.forEach(e,function(e){void 0!==n[e]&&(r[e]=n[e])}),c.forEach(o,function(e){c.isObject(n[e])?r[e]=c.deepMerge(t[e],n[e]):void 0!==n[e]?r[e]=n[e]:c.isObject(t[e])?r[e]=c.deepMerge(t[e]):void 0!==t[e]&&(r[e]=t[e])}),c.forEach(i,function(e){void 0!==n[e]?r[e]=n[e]:void 0!==t[e]&&(r[e]=t[e])});var a=e.concat(o).concat(i),s=Object.keys(n).filter(function(e){return-1===a.indexOf(e)});return c.forEach(s,function(e){void 0!==n[e]?r[e]=n[e]:void 0!==t[e]&&(r[e]=t[e])}),r}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";var u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var f=n(32),p=n(82),d=n(24),r=n(13).videoPlayer,o=(h.INTERVAL_RATE=r.checkPlaybackRateMs,h.PLAYBACK_EVENTS=r.playbackEvents,h.GA_EMIT_TYPE="event",h.GA_EMIT_CATEGORY="video_player",h);function h(e){var t,n,s=this;this.node=null,this.storyId="",this.playbackHandlers=new Map([["play",function(){return s.onPlay()}],["pause",function(){return s.onPause()}],["ended",function(){return s.onEnded()}],["loaded",function(){return s.onLoad()}],["volumechange",function(){return s.onVolumeChange()}]]),this.queuedGACalls=[],this.gaProperty="",this.experienceId="",this.prevPlaybackEvent=0,this.playbackInterval=-1,this.muted=!1,this.remove=function(){var t,e;try{for(var n=u(s.playbackHandlers.entries()),r=n.next();!r.done;r=n.next()){var o=l(r.value,2),i=o[0],a=o[1];s.node.removeEventListener(i,a)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},this.setGaProperty=function(e){for(s.gaProperty&&s.gaProperty!==e&&0<s.queuedGACalls.length&&(s.queuedGACalls=[]),s.gaProperty=e;s.queuedGACalls.length;)p.default.send(s.queuedGACalls.pop())},this.setStoryId=function(e){s.storyId=e},this.setExperienceId=function(e){s.experienceId=e},this.emitGAEventAction=function(e){var t=h.GA_EMIT_CATEGORY,n={t:h.GA_EMIT_TYPE,tid:s.gaProperty,ec:t,el:s.experienceId,ea:e};s.gaProperty?p.default.send(n):s.queuedGACalls.push(n)},this.onLoad=function(){s.emitGAEventAction("loaded")},this.onVolumeChange=function(){!s.muted&&s.node.muted&&(s.emitGAEventAction("muted"),s.muted=!0),s.muted&&!s.node.muted&&(s.emitGAEventAction("unmuted"),s.muted=!1)},this.onPlay=function(){var e=window.setInterval;clearInterval(s.playbackInterval),s.playbackInterval=e(function(){return s.checkPlayback()},h.INTERVAL_RATE),s.emitGAEventAction("play")},this.onPause=function(){clearInterval(s.playbackInterval),s.node.duration!==s.node.currentTime&&s.emitGAEventAction("pause")},this.onEnded=function(){clearInterval(s.playbackInterval),s.emitGAEventAction("playback_1"),s.prevPlaybackEvent=0},this.checkPlayback=function(){if(s.node){var e=s.node,t=e.currentTime/e.duration,n=h.PLAYBACK_EVENTS[s.prevPlaybackEvent];n<t&&(s.emitGAEventAction("playback_"+n),s.prevPlaybackEvent++)}else clearInterval(s.playbackInterval)};try{if(!(e instanceof HTMLVideoElement))throw new d.PlayerConfigurationError("invalidPlayerRef",null);try{for(var r=u(this.playbackHandlers.entries()),o=r.next();!o.done;o=r.next()){var i=l(o.value,2),a=i[0],c=i[1];e.addEventListener(a,c)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.node=e,this.muted=e.muted}catch(e){f.default.trapError(e,this.storyId)}}t.default=o},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var c=this&&this.__assign||function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var l=n(32),f=n(55),o=n(31),i=r(n(13).analytics,[]),a=(p.gaPlacement="",p.initialize=function(e){try{var t=new Date,n=JSON.parse(localStorage.getItem(p.CACHE_KEY))||{};if(p.gaPlacement=e,n.uuid&&n.expiry>=(new Date).valueOf())return void(p.CLIENT_ID=n.uuid);n.uuid=o.generateUUID(),n.expiry=t.setFullYear(t.getFullYear()+2),localStorage.setItem(p.CACHE_KEY,JSON.stringify(n)),p.CLIENT_ID=n.uuid}catch(e){p.CLIENT_ID=o.generateUUID()}},p.send=function(e){var t,n,r=p.BASE_URL,o=document.referrer;e=c({v:"1",ds:p.gaPlacement,cid:p.CLIENT_ID,z:""+Math.round((new Date).getTime()/1e3)},e),""!==o&&(e.dr=o);try{for(var i=u(Object.keys(e)),a=i.next();!a.done;a=i.next()){var s=a.value;r+=(r===p.BASE_URL?"?":"&")+s+"="+encodeURIComponent(e[s])}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}f.default.get(r).catch(function(e){l.default.logWarning("analytics","requestFailed")})},p.BASE_URL=i.baseUrl,p.CACHE_KEY=i.cacheKey,p.CLIENT_ID=i.cidPlaceholder,p);function p(){}t.default=a},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=(o.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e)return!0;return this._inner.push(e),!1},o.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},o);function o(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),n(85),n(108),n(114),n(122);var i=n(125);t.Client=i.default;var a=n(158);t.Player=a.default,n(56).printVersion();var s=o([r({},i.default.eventNames),r({},a.default.events)],2),c=s[0],u=s[1];t.Events=c,t.PlayerEvents=u},function(e,t,n){n(86),n(88),n(95),n(98),e.exports=n(9).Promise},function(e,t,n){"use strict";var r=n(40),o={};o[n(5)("toStringTag")]="z",o+""!="[object z]"&&n(14)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){e.exports=n(35)("native-function-to-string",Function.toString)},function(e,t,n){"use strict";var r=n(89)(!0);n(45)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var c=n(43),u=n(44);e.exports=function(s){return function(e,t){var n,r,o=String(u(e)),i=c(t),a=o.length;return i<0||a<=i?s?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?s?o.charAt(i):n:s?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(46),o=n(36),i=n(30),a={};n(15)(a,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var a=n(12),s=n(10),c=n(29);e.exports=n(11)?Object.defineProperties:function(e,t){s(e);for(var n,r=c(t),o=r.length,i=0;i<o;)a.f(e,n=r[i++],t[n]);return e}},function(e,t,n){var c=n(23),u=n(60),l=n(93);e.exports=function(s){return function(e,t,n){var r,o=c(e),i=u(o.length),a=l(n,i);if(s&&t!=t){for(;a<i;)if((r=o[a++])!=r)return!0}else for(;a<i;a++)if((s||a in o)&&o[a]===t)return s||a||0;return!s&&-1}}},function(e,t,n){var r=n(43),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(16),o=n(49),i=n(47)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){for(var r=n(96),o=n(29),i=n(14),a=n(6),s=n(15),c=n(28),u=n(5),l=u("iterator"),f=u("toStringTag"),p=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(d),v=0;v<h.length;v++){var y,g=h[v],m=d[g],_=a[g],b=_&&_.prototype;if(b&&(b[l]||s(b,l,p),b[f]||s(b,f,g),c[g]=p,m))for(y in r)b[y]||i(b,y,r[y],!0)}},function(e,t,n){"use strict";var r=n(97),o=n(62),i=n(28),a=n(23);e.exports=n(45)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(5)("unscopables"),o=Array.prototype;null==o[r]&&n(15)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){"use strict";function r(){}function f(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t}function o(l,n){if(!l._n){l._n=!0;var r=l._c;O(function(){for(var c=l._v,u=1==l._s,e=0,t=function(e){var t,n,r,o=u?e.ok:e.fail,i=e.resolve,a=e.reject,s=e.domain;try{o?(u||(2==l._h&&U(l),l._h=1),!0===o?t=c:(s&&s.enter(),t=o(c),s&&(s.exit(),r=!0)),t===e.promise?a(k("Promise-chain cycle")):(n=f(t))?n.call(t,i,a):i(t)):a(c)}catch(e){s&&!r&&s.exit(),a(e)}};r.length>e;)t(r[e++]);l._c=[],l._n=!1,n&&!l._h&&L(l)})}}function i(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),o(t,!0))}var a,s,c,u,l=n(26),p=n(6),d=n(22),h=n(40),v=n(21),y=n(8),g=n(37),m=n(50),_=n(51),b=n(102),E=n(63).set,O=n(104)(),x=n(64),w=n(105),S=n(106),j=n(107),T="Promise",k=p.TypeError,P=p.process,R=P&&P.versions,C=R&&R.v8||"",I=p[T],A="process"==h(P),N=s=x.f,D=!!function(){try{var e=I.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(r,r)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(r)instanceof t&&0!==C.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(e){}}(),L=function(i){E.call(p,function(){var e,t,n,r=i._v,o=M(i);if(o&&(e=w(function(){A?P.emit("unhandledRejection",r,i):(t=p.onunhandledrejection)?t({promise:i,reason:r}):(n=p.console)&&n.error&&n.error("Unhandled promise rejection",r)}),i._h=A||M(i)?2:1),i._a=void 0,o&&e.e)throw e.v})},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},U=function(t){E.call(p,function(){var e;A?P.emit("rejectionHandled",t):(e=p.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw k("Promise can't be resolved itself");(n=f(e))?O(function(){var t={_w:r,_d:!1};try{n.call(e,d(F,t,1),d(i,t,1))}catch(e){i.call(t,e)}}):(r._v=e,r._s=1,o(r,!1))}catch(e){i.call({_w:r,_d:!1},e)}}};D||(I=function(e){m(this,I,T,"_h"),g(e),a.call(this);try{e(d(F,this,1),d(i,this,1))}catch(e){i.call(this,e)}},(a=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(52)(I.prototype,{then:function(e,t){var n=N(b(this,I));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?P.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&o(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),c=function(){var e=new a;this.promise=e,this.resolve=d(F,e,1),this.reject=d(i,e,1)},x.f=N=function(e){return e===I||e===u?new c(e):s(e)}),v(v.G+v.W+v.F*!D,{Promise:I}),n(30)(I,T),n(65)(T),u=n(9)[T],v(v.S+v.F*!D,T,{reject:function(e){var t=N(this);return(0,t.reject)(e),t.promise}}),v(v.S+v.F*(l||!D),T,{resolve:function(e){return j(l&&this===u?I:this,e)}}),v(v.S+v.F*!(D&&n(66)(function(e){I.all(e).catch(r)})),T,{all:function(e){var a=this,t=N(a),s=t.resolve,c=t.reject,n=w(function(){var r=[],o=0,i=1;_(e,!1,function(e){var t=o++,n=!1;r.push(void 0),i++,a.resolve(e).then(function(e){n||(n=!0,r[t]=e,--i||s(r))},c)}),--i||s(r)});return n.e&&c(n.v),t.promise},race:function(e){var t=this,n=N(t),r=n.reject,o=w(function(){_(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,n){var i=n(10);e.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(e,t,n){var r=n(28),o=n(5)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(40),o=n(5)("iterator"),i=n(28);e.exports=n(9).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var o=n(10),i=n(37),a=n(5)("species");e.exports=function(e,t){var n,r=o(e).constructor;return void 0===r||null==(n=o(r)[a])?t:i(n)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var s=n(6),c=n(63).set,u=s.MutationObserver||s.WebKitMutationObserver,l=s.process,f=s.Promise,p="process"==n(25)(l);e.exports=function(){function e(){var e,t;for(p&&(e=l.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?o():r=void 0,e}}r=void 0,e&&e.enter()}var n,r,o;if(p)o=function(){l.nextTick(e)};else if(!u||s.navigator&&s.navigator.standalone)if(f&&f.resolve){var t=f.resolve(void 0);o=function(){t.then(e)}}else o=function(){c.call(s,e)};else{var i=!0,a=document.createTextNode("");new u(e).observe(a,{characterData:!0}),o=function(){a.data=i=!i}}return function(e){var t={fn:e,next:void 0};r&&(r.next=t),n||(n=t,o()),r=t}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(6).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(10),o=n(8),i=n(64);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){n(109),e.exports=n(9).Symbol.keyFor},function(e,t,n){"use strict";function r(e){var t=X[e]=R(F[G]);return t._k=e,t}function o(e,t){w(e);for(var n,r=O(t=T(t)),o=0,i=r.length;o<i;)te(e,n=r[o++],t[n]);return e}function i(e){var t=W.call(this,e=k(e,!0));return!(this===J&&l(X,e)&&!l(z,e))&&(!(t||!l(this,e)||!l(X,e)||l(this,q)&&this[q][e])||t)}function a(e,t){if(e=T(e),t=k(t,!0),e!==J||!l(X,t)||l(z,t)){var n=L(e,t);return!n||!l(X,t)||l(e,q)&&e[q][t]||(n.enumerable=!0),n}}function s(e){for(var t,n=U(T(e)),r=[],o=0;n.length>o;)l(X,t=n[o++])||t==q||t==h||r.push(t);return r}function c(e){for(var t,n=e===J,r=U(n?z:T(e)),o=[],i=0;r.length>i;)!l(X,t=r[i++])||n&&!l(J,t)||o.push(X[t]);return o}var u=n(6),l=n(16),f=n(11),p=n(21),d=n(14),h=n(53).KEY,v=n(20),y=n(35),g=n(30),m=n(27),_=n(5),b=n(67),E=n(110),O=n(111),x=n(112),w=n(10),S=n(8),j=n(49),T=n(23),k=n(42),P=n(36),R=n(46),C=n(113),I=n(69),A=n(54),N=n(12),D=n(29),L=I.f,M=N.f,U=C.f,F=u.Symbol,H=u.JSON,B=H&&H.stringify,G="prototype",q=_("_hidden"),V=_("toPrimitive"),W={}.propertyIsEnumerable,Y=y("symbol-registry"),X=y("symbols"),z=y("op-symbols"),J=Object[G],K="function"==typeof F&&!!A.f,$=u.QObject,Q=!$||!$[G]||!$[G].findChild,Z=f&&v(function(){return 7!=R(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=L(J,t);r&&delete J[t],M(e,t,n),r&&e!==J&&M(J,t,r)}:M,ee=K&&"symbol"==typeof F.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof F},te=function(e,t,n){return e===J&&te(z,t,n),w(e),t=k(t,!0),w(n),l(X,t)?(n.enumerable?(l(e,q)&&e[q][t]&&(e[q][t]=!1),n=R(n,{enumerable:P(0,!1)})):(l(e,q)||M(e,q,P(1,{})),e[q][t]=!0),Z(e,t,n)):M(e,t,n)};K||(d((F=function(e){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var t=m(0<arguments.length?e:void 0),n=function(e){this===J&&n.call(z,e),l(this,q)&&l(this[q],t)&&(this[q][t]=!1),Z(this,t,P(1,e))};return f&&Q&&Z(J,t,{configurable:!0,set:n}),r(t)})[G],"toString",function(){return this._k}),I.f=a,N.f=te,n(68).f=C.f=s,n(38).f=i,A.f=c,f&&!n(26)&&d(J,"propertyIsEnumerable",i,!0),b.f=function(e){return r(_(e))}),p(p.G+p.W+p.F*!K,{Symbol:F});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)_(ne[re++]);for(var oe=D(_.store),ie=0;oe.length>ie;)E(oe[ie++]);p(p.S+p.F*!K,"Symbol",{for:function(e){return l(Y,e+="")?Y[e]:Y[e]=F(e)},keyFor:function(e){if(!ee(e))throw TypeError(e+" is not a symbol!");for(var t in Y)if(Y[t]===e)return t},useSetter:function(){Q=!0},useSimple:function(){Q=!1}}),p(p.S+p.F*!K,"Object",{create:function(e,t){return void 0===t?R(e):o(R(e),t)},defineProperty:te,defineProperties:o,getOwnPropertyDescriptor:a,getOwnPropertyNames:s,getOwnPropertySymbols:c});var ae=v(function(){A.f(1)});p(p.S+p.F*ae,"Object",{getOwnPropertySymbols:function(e){return A.f(j(e))}}),H&&p(p.S+p.F*(!K||v(function(){var e=F();return"[null]"!=B([e])||"{}"!=B({a:e})||"{}"!=B(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;o<arguments.length;)r.push(arguments[o++]);if(n=t=r[1],(S(t)||void 0!==e)&&!ee(e))return x(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ee(t))return t}),r[1]=t,B.apply(H,r)}}),F[G][V]||n(15)(F[G],V,F[G].valueOf),g(F,"Symbol"),g(Math,"Math",!0),g(u.JSON,"JSON",!0)},function(e,t,n){var r=n(6),o=n(9),i=n(26),a=n(67),s=n(12).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var s=n(29),c=n(54),u=n(38);e.exports=function(e){var t=s(e),n=c.f;if(n)for(var r,o=n(e),i=u.f,a=0;o.length>a;)i.call(e,r=o[a++])&&t.push(r);return t}},function(e,t,n){var r=n(25);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(23),o=n(68).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){"use strict";n(115),n(120);var r=n(9).Map,o=r.of;e.exports=function(){return o.apply("function"==typeof this?this:r,arguments)}},function(e,t,n){"use strict";var r=n(116),o=n(70);e.exports=n(117)("Map",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{get:function(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";function a(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n}var s=n(12).f,c=n(46),u=n(52),l=n(22),f=n(50),p=n(51),r=n(45),o=n(62),i=n(65),d=n(11),h=n(53).fastKey,v=n(70),y=d?"_s":"size";e.exports={getConstructor:function(e,i,n,r){var o=e(function(e,t){f(e,o,i,"_i"),e._t=i,e._i=c(null),e._f=void 0,e._l=void 0,e[y]=0,null!=t&&p(t,n,e[r],e)});return u(o.prototype,{clear:function(){for(var e=v(this,i),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[y]=0},delete:function(e){var t=v(this,i),n=a(t,e);if(n){var r=n.n,o=n.p;delete t._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),t._f==n&&(t._f=r),t._l==n&&(t._l=o),t[y]--}return!!n},forEach:function(e,t){v(this,i);for(var n,r=l(e,1<arguments.length?t:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!a(v(this,i),e)}}),d&&s(o.prototype,"size",{get:function(){return v(this,i)[y]}}),o},def:function(e,t,n){var r,o,i=a(e,t);return i?i.v=n:(e._l=i={i:o=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[y]++,"F"!==o&&(e._i[o]=i)),e},getEntry:a,setStrong:function(e,n,t){r(e,n,function(e,t){this._t=v(e,n),this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?o(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,o(1))},t?"entries":"values",!t,!0),i(n)}}},function(e,t,n){"use strict";var g=n(6),m=n(21),_=n(14),b=n(52),E=n(53),O=n(51),x=n(50),w=n(8),S=n(20),j=n(66),T=n(30),k=n(118);e.exports=function(r,e,t,n,o,i){function a(e){var n=l[e];_(l,e,"delete"==e?function(e){return!(i&&!w(e))&&n.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!w(e))&&n.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!w(e)?void 0:n.call(this,0===e?0:e)}:"add"==e?function(e){return n.call(this,0===e?0:e),this}:function(e,t){return n.call(this,0===e?0:e,t),this})}var s=g[r],c=s,u=o?"set":"add",l=c&&c.prototype,f={};if("function"==typeof c&&(i||l.forEach&&!S(function(){(new c).entries().next()}))){var p=new c,d=p[u](i?{}:-0,1)!=p,h=S(function(){p.has(1)}),v=j(function(e){new c(e)}),y=!i&&S(function(){for(var e=new c,t=5;t--;)e[u](t,t);return!e.has(-0)});v||(((c=e(function(e,t){x(e,c,r);var n=k(new s,e,c);return null!=t&&O(t,o,n[u],n),n})).prototype=l).constructor=c),(h||y)&&(a("delete"),a("has"),o&&a("get")),(y||d)&&a(u),i&&l.clear&&delete l.clear}else c=n.getConstructor(e,r,o,u),b(c.prototype,t),E.NEED=!0;return T(c,r),f[r]=c,m(m.G+m.W+m.F*(c!=s),f),i||n.setStrong(c,r,o),c}},function(e,t,n){var i=n(8),a=n(119).set;e.exports=function(e,t,n){var r,o=t.constructor;return o!==n&&"function"==typeof o&&(r=o.prototype)!==n.prototype&&i(r)&&a&&a(e,r),e}},function(e,t,o){function i(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=o(8),r=o(10);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=o(22)(Function.call,o(69).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return i(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:i}},function(e,t,n){n(121)("Map")},function(e,t,n){"use strict";var r=n(21);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(123),e.exports=n(9).Object.assign},function(e,t,n){var r=n(21);r(r.S+r.F,"Object",{assign:n(124)})},function(e,t,n){"use strict";var p=n(11),d=n(29),h=n(54),v=n(38),y=n(49),g=n(59),o=Object.assign;e.exports=!o||n(20)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=o({},e)[n]||Object.keys(o({},t)).join("")!=r})?function(e,t){for(var n=y(e),r=arguments.length,o=1,i=h.f,a=v.f;o<r;)for(var s,c=g(arguments[o++]),u=i?d(c).concat(i(c)):d(c),l=u.length,f=0;f<l;)s=u[f++],p&&!a.call(c,s)||(n[s]=c[s]);return n}:o},function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(126),o=n(150),c=n(82),d=n(32),u=n(154),h=n(24),v=n(31),l=r(n(13).client,[]),i=(f.eventNames=l.eventNames,f);function f(e){var p=this;this.clientConfig=void 0,this.deliveryPipe=void 0,this.player=void 0,this.renderHistory=l.emptyHistory,this.emits=l.clientEmits,this.eventDelegateRefs=v.cloneWithKeys(f.eventNames),this.playerIsFallback=!1,this.setup=function(t){var e=l.defaultConfig,n=p.clientConfig||l.defaultConfig,r=new Map,o=null;try{if("object"!=typeof t)throw new h.ClientConfigurationError("badConfig",null);if(!t.hasOwnProperty("storyId")||"string"!=typeof t.storyId)throw new h.ClientConfigurationError("storyId",null);if(!t.hasOwnProperty("accessToken")||"string"!=typeof t.accessToken)throw new h.ClientConfigurationError("accessToken",null);v.prepConfig(t,e),p.clientConfig=a(a({},n),t),o=new s.default(p.clientConfig.accessToken,p.clientConfig.environment,p.clientConfig.storyId),r.set("experienceCreated",function(e){return p.experienceCreated(e)}),r.set("gotExperience",function(e){return p.gotExperience(e)}),r.set("gotMessage",function(e){return p.gotMessage(e)}),r.set("internalError",function(e){return p.internalError(e)}),p.deliveryPipe=new u.default({api:o,clientDelegates:r,environment:p.clientConfig.environment}),p.deliveryPipe.setMode(p.clientConfig.deliveryMode),p.deliveryPipe.setTimeoutInterval(p.clientConfig.pollRate),o.getGAProperty().then(function(e){var t=e.gaTrackingId;"string"==typeof t&&0<t.length&&(c.default.initialize(p.clientConfig.gaPlacement),void 0!==p.player&&p.player.setGaProperty(t))}).catch(function(e){var t=new h.HTTPError("httpFailure",null,e);d.default.trapError(t,p.clientConfig.storyId,null)})}catch(e){var i=t&&t.storyId?t.storyId:"";d.default.trapError(e,i)}},this.bindPlayer=function(e,t){if(void 0===t&&(t=!1),p.clientConfig){var n=p.clientConfig.storyId;p.playerIsFallback=t,(p.player=e).setStoryId(n)}},this.on=function(e,t){var n=p.eventDelegateRefs,r=p.eventDelegateRefs.ERROR;if(p.clientConfig){var o=p.clientConfig.storyId;try{if(!v.isFunc(t))throw new h.ClientConfigurationError("invalidCallbackType",e);if(!v.keyExists(f.eventNames,e))throw new h.ClientConfigurationError("invalidEventName",e);n[e]=t}catch(e){d.default.trapError(e,o,r)}}},this.off=function(e){void 0===e&&(e="");var t=p.eventDelegateRefs,n=p.eventDelegateRefs.ERROR;if(p.clientConfig){var r=p.clientConfig.storyId;try{if(e){if(!v.keyExists(f.eventNames,e))throw new h.ClientConfigurationError("invalidEventName",e);t[e]=null}else Object.keys(f.eventNames).forEach(function(e){t[e]=null})}catch(e){d.default.trapError(e,r,n)}}},this.captureAnalytics=function(e){void 0===e&&(e=null);var t=p.eventDelegateRefs.ERROR;if(p.clientConfig){var n=p.clientConfig.storyId;try{if(!(e instanceof HTMLVideoElement))throw new h.PlayerConfigurationError("invalidPlayerRef",null);p.bindPlayer(new o.default(e),!0)}catch(e){d.default.trapError(e,n,t)}}},this.getExperience=function(e){if(p.clientConfig){var t=p.player,n=p.clientConfig.storyId,r=p.eventDelegateRefs,o=r.GOT_EXPERIENCE,i=r.ERROR;try{if(null===t&&!v.isFunc(o))throw new h.ClientConfigurationError("badConfigOnGet",f.eventNames.GOT_EXPERIENCE);console.log(e.length),e.length>l.uuidLength&&(console.log("huh?"),e=e.substring(0,l.uuidLength)),p.deliveryPipe.doGetExperience(e)}catch(e){d.default.trapError(e,n,i)}}},this.createExperience=function(e,t){if(void 0===t&&(t=!0),p.clientConfig){var n=p.player,r=p.playerIsFallback,o=p.clientConfig.storyId,i=p.emits.adding,a=p.eventDelegateRefs,s=a.GOT_EXPERIENCE,c=a.EXPERIENCE_CREATED,u=a.UPLOAD_PROGRESS,l=a.ERROR;try{if(!t&&!v.isFunc(c))throw new h.ClientConfigurationError("badConfigOnPostNoRender",f.eventNames.EXPERIENCE_CREATED);if(t&&(null===n||r)&&!v.isFunc(s))throw new h.ClientConfigurationError("bagConfigOnPostRender",f.eventNames.GOT_EXPERIENCE);t&&p.gotMessage({id:void 0,status:i}),p.deliveryPipe.createPrestep(e,t,u)}catch(e){d.default.trapError(e,o,l)}}},this.updateHistory=function(e,t){p.renderHistory[e]!==t&&(p.renderHistory[e]=t)},this.experienceCreated=function(e){var t=p.emits,n=t.adding,r=t.added,o=p.renderHistory.prevMessage,i=p.eventDelegateRefs,a=i.EXPERIENCE_CREATED,s=(i.STATUS_UPDATE,e.id);v.isFunc(a)&&a(e),o!==n&&o||p.gotMessage({id:s,status:r}),p.updateHistory("prevExperienceId",s)},this.gotExperience=function(e){var t=p.player,n=p.clientConfig.storyId,r=p.eventDelegateRefs,o=r.GOT_EXPERIENCE,i=r.ERROR,a=p.emits,s=a.added,c=a.finishedPolling,u=p.renderHistory.prevMessage,l=e.id,f=(e.output,e.rendering,e.moderation_status);try{if("rejected"===f)throw new h.ModerationError("rejection",l);u===s&&p.gotMessage({id:l,status:c}),v.isFunc(o)&&o(e),void 0!==t&&t.experienceGenerated(e),p.updateHistory("prevExperienceId",l),p.updateHistory("prevMessage","")}catch(e){d.default.trapError(e,n,i)}},this.gotMessage=function(e){var t=p.eventDelegateRefs.STATUS_UPDATE;v.isFunc(t)&&(t(e),p.updateHistory("prevMessage",e.status))},this.internalError=function(e){var t=p.clientConfig.storyId,n=p.eventDelegateRefs.ERROR;d.default.trapError(e,t,n)},this.setup(e)}t.default=i},function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var c=n(127),o=n(130),u=n(55),l=n(31),f=r(n(13).api,[]),i=(p.retry=o,p);function p(e,t,n){var r,s=this;this.http=null,this.storyId="",this.getGAProperty=function(){return new Promise(function(t,n){s.http.get("/story/"+s.storyId+"/ga").then(function(e){t(e.data)}).catch(function(e){n(e)})})},this.get=function(e){return new Promise(function(t,n){s.http.get("/experience/"+e+"?r="+Math.random()).then(function(e){t(e.data)}).catch(function(e){n(e)})})},this.create=function(e,t,n,r){void 0===r&&(r=null);var o=t?"/experience/render":"/experience",i=l.inventoryToFormData(s.storyId,e),a={onUploadProgress:function(e){return s.uploadProgress(e,r)}};return i.append("id",n),new Promise(function(t,n){s.http.post(o,i,a).then(function(e){t(e.data)}).catch(function(e){n(e)})})},this.triggerRender=function(e){var r=s.http.post;return new Promise(function(n,t){r("/experience/"+e+"/trigger-event").then(function(e){var t=e.data.job_id;n(t)}).catch(function(e){t(e)})})},this.getAuthHeader=function(t){var e,n,r=f.jwt,o=f.hmac;try{return c(t),(e={})[r]=t,e}catch(e){return(n={})[o]=t,n}},this.uploadProgress=function(e,t){if(void 0===t&&(t=null),t){var n=e.loaded,r=e.total;t(Math.round(n/r*100))}};var o=f.version,i=f.currentVersion;this.http=u.default.create({baseURL:f[t],headers:a(a({},this.getAuthHeader(e)),((r={})[o]=i,r))}),this.storyId=n,p.retry(this.http,{retryDelay:p.retry.exponentialDelay})}t.default=i},function(e,t,n){"use strict";var r=n(128);function o(e){this.message=e}(o.prototype=new Error).name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[n]))}catch(e){throw new o("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=o},function(e,t,n){var r=n(129);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(r(t).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}catch(e){return r(t)}}},function(e,t){function s(e){this.message=e}(s.prototype=new Error).name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new s("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,i=0,a="";r=t.charAt(i++);~r&&(n=o%4?64*n+r:r,o++%4)&&(a+=String.fromCharCode(255&n>>(-2*o&6))))r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a}},function(e,t,n){e.exports=n(131).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNetworkError=a,t.isRetryableError=u,t.isSafeRequestError=l,t.isIdempotentRequestError=f,t.isNetworkOrIdempotentRequestError=E,t.exponentialDelay=p,t.default=d;var r,o=n(132),i=(r=o)&&r.__esModule?r:{default:r};var b="axios-retry";function a(e){return!e.response&&Boolean(e.code)&&"ECONNABORTED"!==e.code&&(0,i.default)(e)}var s=["get","head","options"],c=s.concat(["put","delete"]);function u(e){return"ECONNABORTED"!==e.code&&(!e.response||500<=e.response.status&&e.response.status<=599)}function l(e){return!!e.config&&(u(e)&&-1!==s.indexOf(e.config.method))}function f(e){return!!e.config&&(u(e)&&-1!==c.indexOf(e.config.method))}function E(e){return a(e)||f(e)}function O(){return 0}function p(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=100*Math.pow(2,e);return t+.2*t*Math.random()}function x(e){var t=e[b]||{};return t.retryCount=t.retryCount||0,e[b]=t}function d(m,_){m.interceptors.request.use(function(e){return x(e).lastRequestTime=Date.now(),e}),m.interceptors.response.use(null,function(e){var t=e.config;if(!t)return Promise.reject(e);var n,r,o,i,a=(n=t,r=_,Object.assign({},r,n[b])),s=a.retries,c=void 0===s?3:s,u=a.retryCondition,l=void 0===u?E:u,f=a.retryDelay,p=void 0===f?O:f,d=a.shouldResetTimeout,h=void 0!==d&&d,v=x(t);if(l(e)&&v.retryCount<c){v.retryCount+=1;var y=p(v.retryCount,e);if(i=t,(o=m).defaults.agent===i.agent&&delete i.agent,o.defaults.httpAgent===i.httpAgent&&delete i.httpAgent,o.defaults.httpsAgent===i.httpsAgent&&delete i.httpsAgent,!h&&t.timeout&&v.lastRequestTime){var g=Date.now()-v.lastRequestTime;t.timeout=Math.max(t.timeout-g-y,1)}return t.transformRequest=[function(e){return e}],new Promise(function(e){return setTimeout(function(){return e(m(t))},y)})}return Promise.reject(e)})}d.isNetworkError=a,d.isSafeRequestError=l,d.isIdempotentRequestError=f,d.isNetworkOrIdempotentRequestError=E,d.exponentialDelay=p,d.isRetryableError=u},function(e,t,n){"use strict";var r=["ETIMEDOUT","ECONNRESET","EADDRINUSE","ESOCKETTIMEDOUT","ECONNREFUSED","EPIPE","EHOSTUNREACH","EAI_AGAIN"],o=["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED"];e.exports=function(e){return!e||!e.code||(-1!==r.indexOf(e.code)||-1===o.indexOf(e.code))}},function(e,t,n){"use strict";var r=n(7),o=n(71),i=n(134),a=n(78);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var c=s(n(74));c.Axios=i,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=n(79),c.CancelToken=n(148),c.isCancel=n(73),c.all=function(e){return Promise.all(e)},c.spread=n(149),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var o=n(7),r=n(72),i=n(135),a=n(136),s=n(78);function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e,t){"string"==typeof e?(e=t||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){n.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){n.push(e.fulfilled,e.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r},c.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],function(n){c.prototype[n]=function(e,t){return this.request(o.merge(t||{},{method:n,url:e}))}}),o.forEach(["post","put","patch"],function(r){c.prototype[r]=function(e,t,n){return this.request(o.merge(n||{},{method:r,url:e,data:t}))}}),e.exports=c},function(e,t,n){"use strict";var r=n(7);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},e.exports=o},function(e,t,n){"use strict";var r=n(7),o=n(137),i=n(73),a=n(74);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(t){return s(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return s(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(s(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(e,t,n){"use strict";var r=n(7);e.exports=function(t,n,e){return r.forEach(e,function(e){t=e(t,n)}),t}},function(e,t,n){"use strict";var o=n(7);e.exports=function(n,r){o.forEach(n,function(e,t){t!==r&&t.toUpperCase()===r.toUpperCase()&&(n[r]=e,delete n[t])})}},function(e,t,n){"use strict";var o=n(77);e.exports=function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(o("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(142),o=n(143);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var i=n(7),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,o={};return e&&i.forEach(e.split("\n"),function(e){if(r=e.indexOf(":"),t=i.trim(e.substr(0,r)).toLowerCase(),n=i.trim(e.substr(r+1)),t){if(o[t]&&0<=a.indexOf(t))return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}}),o}},function(e,t,n){"use strict";var r,o,i,a=n(7),s=n(146);function c(e){var t=e;if(s(e))throw new Error("URL contains XSS injection attempt");return o&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}e.exports=a.isStandardBrowserEnv()?(o=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r=c(window.location.href),function(e){var t=a.isString(e)?c(e):e;return t.protocol===r.protocol&&t.host===r.host}):function(){return!0}},function(e,t,n){"use strict";e.exports=function(e){return/(\b)(on\w+)=|javascript|(<\s*)(\/*)script/gi.test(e)}},function(e,t,n){"use strict";var s=n(7);e.exports=s.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),s.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),s.isString(r)&&a.push("path="+r),s.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(79);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},e.exports=o},function(e,t,n){"use strict";e.exports=function(t){return function(e){return t.apply(null,e)}}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(80),s=(i=a.default,o(c,i),c);function c(e){var n=i.call(this,e)||this;return n.experienceGenerated=function(e){var t=e.id;n.setExperienceId(t)},n}t.default=s},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e){e.exports=JSON.parse('{"moderation":{"rejection":"This experience was rejected."},"clientConfiguration":{"badConfig":"Your Imposium configuration is an invalid type.","storyId":"An undefined or invalid storyId was set in your Imposium configuration.","accessToken":"An undefined or invalid accessToken was set in your Imposium configuration.","invalidEventName":"Invalid client event name.","invalidCallbackType":"The callback reference set for this client event is not of type function.","badConfigOnGet":"You cannot call client.getExperience(...) without using the Imposium player or setting the GOT_EXPERIENCE event.","bagConfigOnPostRender":"You cannot call client.createExperience({...}) without using the Imposium player or setting the GOT_EXPERIENCE event.","badConfigOnPostNoRender":"You cannot call client.createExperience({...}, false) without setting the EXPERIENCE_CREATED event."},"playerConfiguration":{"badClient":"You must provide a valid Imposium client reference to the player.","invalidPlayerRef":"No reference to an HTML5 video element was detected.","invalidEventName":"Invalid player event name.","invalidCallbackType":"The callback reference set for this player event is not of type function.","eventNotConfigured":"You cannot invoke this player event without a callback set.","badQualityOverride":"The quality specified does not exist for this experience."},"network":{"httpFailure":"Unable to process request to the Imposium API.","tcpFailure":"Socket connection failed while processing the experience.","errorOverTcp":"An error occured on the Imposium web servers while processing the experience.","messageParseFailure":"Message data from Imposium was malformed."},"uncaught":{"generic":"Something unexpected went wrong."}}')},function(e){e.exports=JSON.parse('{"client":{"nodeAnalytics":"Sorry, analytics are not currently available in NodeJS."},"network":{"tcpFailure":"Unable to reach Imposium while processing this experience, retrying..."},"playerFailure":{"seekNotReady":"Seek can\'t be called until the video metadata has loaded, please try again shortly.","invalidSeekTime":"Could not seek to time outside of current video duration.","invalidVolume":"Could not set volume outside of range (double) 0.0 - 1.0."},"analytics":{"requestFailed":"Failed to record Imposium metric."}}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(155),a=n(31),c=n(24),r=(u.WS_MODE="ws",u.POLL_MODE="poll",u);function u(e){var s=this;this.mode="",this.environment="",this.shortPollTimeout=-1,this.pollInterval=5e3,this.api=null,this.consumer=null,this.clientDelegates=null,this.configCache=new Map,this.setMode=function(e){s.mode=e},this.setTimeoutInterval=function(e){s.pollInterval=e},this.doGetExperience=function(o){s.api.get(o).then(function(e){var t=e.output,n=e.rendering,r=void 0!==t&&0<Object.keys(t).length;r&&(clearTimeout(s.shortPollTimeout),s.clientDelegates.get("gotExperience")(e)),r||n||s.startRender(o),!r&&n&&s.consumeOnRefresh(o)}).catch(function(e){var t=new c.HTTPError("httpFailure",o,e);s.clientDelegates.get("internalError")(t)})},this.createPrestep=function(e,t,n,r){void 0===r&&(r=0);var o=a.generateUUID(),i={inventory:e,render:t,uuid:o,uploadProgress:n};clearTimeout(s.shortPollTimeout),t||s.doCreate(i,!1,r),t&&s.mode===u.POLL_MODE&&s.doCreate(i,!0,r),t&&s.mode===u.WS_MODE&&(s.configCache.set(o,i),s.startConsumer(o).then(function(){s.doCreate(i,!1,r)}))},this.startRender=function(n){s.mode===u.WS_MODE?s.startConsumer(n).then(function(){s.api.triggerRender(n).catch(function(e){var t=new c.HTTPError("httpFailure",n,e);s.killConsumer(),s.clientDelegates.get("internalError")(t)})}):s.api.triggerRender(n).then(function(){s.doGetExperience(n)}).catch(function(e){var t=new c.HTTPError("httpFailure",n,e);s.clientDelegates.get("internalError")(t)})},this.consumeOnRefresh=function(e){s.mode===u.WS_MODE?s.startConsumer(e):(clearTimeout(s.shortPollTimeout),s.shortPollTimeout=window.setTimeout(function(){return s.doGetExperience(e)},s.pollInterval))},this.doCreate=function(n,t,r){void 0===t&&(t=!1);var e=n.inventory,o=n.render,i=n.uuid,a=n.uploadProgress;s.api.create(e,o,i,a).then(function(e){s.configCache.delete(i),t&&s.doGetExperience(e.id),s.clientDelegates.get("experienceCreated")(e)}).catch(function(e){if(e.response&&400===e.response.status&&r<3)s.configCache.delete(i),r+=1,s.killConsumer().then(function(){s.createPrestep(n.inventory,n.render,n.uploadProgress,r)});else{var t=new c.HTTPError("httpFailure",i,e);s.clientDelegates.get("internalError")(t)}})},this.startConsumer=function(t){var n=s.clientDelegates,r=s.environment,o=new Map;return o.set("gotExperience",function(e){return n.get("gotExperience")(e)}),o.set("gotMessage",function(e){return n.get("gotMessage")(e)}),o.set("internalError",function(e){return n.get("internalError")(e)}),o.set("consumerFailure",function(e,t){return s.consumerFailure(e,t)}),new Promise(function(e){s.killConsumer().then(function(){s.consumer=new i.default({experienceId:t,environment:r,deliveryDelegates:o}),s.consumer.connect().then(function(){e()})})})},this.killConsumer=function(){return new Promise(function(e){if(!s.consumer)return e();s.consumer.destroy().then(function(){return s.consumer=null,e()})})},this.consumerFailure=function(e,t){var n=s.configCache.get(e);s.setMode(u.POLL_MODE),s.clientDelegates.get("internalError")(t),void 0!==n?(s.configCache.delete(e),s.createPrestep(n.inventory,n.render,n.uploadProgress)):s.doGetExperience(e)},this.api=e.api,this.clientDelegates=e.clientDelegates,this.environment=e.environment}t.default=r},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(156),f=n(24),i=r(n(13).messageConsumer,[]),a=(p.EMITS=i.emitTypes,p);function p(e){var l=this;this.environment="",this.experienceId=null,this.deliveryDelegates=null,this.stomp=null,this.connect=function(){var e=l.experienceId,t=l.environment,n=new Map;return n.set("validateFrameData",function(e){return l.validateFrameData(e)}),n.set("socketFailure",function(e){return l.socketFailure(e)}),l.stomp=new o.default({experienceId:e,consumerDelegates:n}),new Promise(function(e){l.stomp.init(t).then(function(){e()})})},this.destroy=function(){return new Promise(function(e){if(!l.stomp)return e();l.stomp.forceClose().then(function(){e()})})},this.validateFrameData=function(e){var t=p.EMITS,n=t.scene,r=t.message,o=t.complete,i=(l.stomp,l.experienceId),a=l.deliveryDelegates,s=e.body;try{var c=JSON.parse(s);switch(c.event){case o:l.destroy();break;case r:l.emitMessageData(c);break;case n:delete c.event,l.emitSceneData(c)}}catch(e){var u=new f.SocketError("messageParseFailed",i,e);a.get("internalError")(u)}},this.emitMessageData=function(e){var t=l.deliveryDelegates,n=e.status,r=e.id;try{if(n===i.errorOverTcp)throw new f.SocketError("errorOverTcp",r,null);t.get("gotMessage")(e)}catch(e){t.get("internalError")(e)}},this.emitSceneData=function(e){var t=l.deliveryDelegates,n=e.id;if("rejected"===e.moderation_status){var r=new f.ModerationError("rejection",n);t.get("internalError")(r)}else t.get("gotExperience")(e)},this.socketFailure=function(e){var t=l.experienceId,n=l.deliveryDelegates,r=new f.SocketError("tcpFailure",t,e);l.stomp=null,n.get("consumerFailure")(t,r)},this.experienceId=e.experienceId,this.environment=e.environment,this.deliveryDelegates=e.deliveryDelegates}t.default=a},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(157),i=n(32),s=r(n(13).stomp,[]),a=(c.EXCHANGE=s.exchange,c.USERNAME=s.username,c.PASSWORD=s.password,c.OPEN_STATE=1,c.MAX_RETRIES=s.maxRetries,c.DEBUG_OFF=function(){},c);function c(e){var a=this;this.socket=null,this.client=null,this.subscription=null,this.currRetry=0,this.init=function(t){return a.socket=new WebSocket(s[t]),a.client=o.over(a.socket),a.client.debug=c.DEBUG_OFF,new Promise(function(e){a.client.connect(c.USERNAME,c.PASSWORD,function(){return a.doSubscribe(e)},function(e){return a.onError(t,e)})})},this.forceClose=function(){var n=c.OPEN_STATE,r=a.client,o=(a.client.connected,a.subscription);return new Promise(function(e){var t=r.ws.readyState;if(n<t)return e();o&&o.unsubscribe(),r.disconnect(function(){a.socket=null,e()})})},this.doSubscribe=function(e){var t=c.EXCHANGE,n=a.experienceId,r=a.client,o=a.consumerDelegates,i=""+t+n;a.subscription=r.subscribe(i,o.get("validateFrameData")),e()},this.onError=function(e,t){var n=a.currRetry,r=a.consumerDelegates;n<c.MAX_RETRIES?(i.default.logWarning("network","tcpFailure"),a.currRetry++,a.forceClose().then(function(){a.init(e)})):r.get("socketFailure")(t)},this.experienceId=e.experienceId,this.consumerDelegates=e.consumerDelegates}t.default=a},function(e,t,n){e.exports=function(){"use strict";var f=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}},e=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}(),u=function(){function n(e,t){var n=[];var r=true;var o=false;var i=undefined;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){o=true;i=e}finally{try{if(!r&&a["return"])a["return"]()}finally{if(o)throw i}}return n}return function(e,t){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return n(e,t)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}(),r=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else{return Array.from(e)}},p={V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function e(){return"1.2,1.1,1.0"},supportedProtocols:function e(){return["v10.stomp","v11.stomp","v12.stomp"]}},o={"v10.stomp":p.V1_0,"v11.stomp":p.V1_1,"v12.stomp":p.V1_2};function s(e,t){var n=o[e];if(!n&&t){t("DEPRECATED: "+e+" is not a recognized STOMP version. In next major client version, this will close the connection.")}return n||p.V1_2}var _={LF:"\n",NULL:"\0"},b=function e(t){return t.replace(/^\s+|\s+$/g,"")};function n(e){var t=encodeURIComponent(e);var n=t.replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)});var r=Array.prototype.map.call(n,function(e){return e.charCodeAt(0)});return new Uint8Array(r)}function c(e){var t=String.fromCharCode.apply(String,r(e));var n=t.replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();if(n.length<2){n="0"+n}return"%"+n});return decodeURIComponent(n)}function i(e){if(!e)return 0;return encodeURIComponent(e).match(/%..|./g).length}function a(){var e=(new Date).getTime();var t=Math.floor(Math.random()*1e3);return e+"-"+t}var d=function(){function m(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";f(this,m);this.command=e;this.headers=t;this.body=n}e(m,[{key:"toString",value:function e(){var n=this;var r=[this.command],t=this.headers["content-length"]===false;if(t)delete this.headers["content-length"];Object.keys(this.headers).forEach(function(e){var t=n.headers[e];r.push(e+":"+t)});if(this.body&&!t){r.push("content-length:"+i(this.body))}r.push(_.LF+this.body);return r.join(_.LF)}}],[{key:"unmarshallSingle",value:function e(t){var n=t.search(new RegExp(_.LF+_.LF)),r=t.substring(0,n).split(_.LF),o=r.shift(),i={},a="",s=n+2;var c=true;var u=false;var l=undefined;try{for(var f=r.reverse()[Symbol.iterator](),p;!(c=(p=f.next()).done);c=true){var d=p.value;var h=d.indexOf(":");i[b(d.substring(0,h))]=b(d.substring(h+1))}}catch(e){u=true;l=e}finally{try{if(!c&&f.return){f.return()}}finally{if(u){throw l}}}if(i["content-length"]){var v=parseInt(i["content-length"],10);a=(""+t).substring(s,s+v)}else{var y=null;for(var g=s;g<t.length;g++){y=t.charAt(g);if(y===_.NULL)break;a+=y}}return new m(o,i,a)}},{key:"unmarshall",value:function e(t){var n=t.split(new RegExp(_.NULL+_.LF+"*")),r=n.slice(0,-1),o=n.slice(-1)[0],i={frames:r.map(function(e){return m.unmarshallSingle(e)}),partial:""};if(o===_.LF||o.search(RegExp(_.NULL+_.LF+"*$"))!==-1){i.frames.push(m.unmarshallSingle(o))}else{i.partial=o}return i}},{key:"marshall",value:function e(t,n,r){var o=new m(t,n,r);return o.toString()+_.NULL}}]);return m}(),l=function(){function l(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};f(this,l);var n=t.binary,r=n===undefined?false:n,o=t.heartbeat,i=o===undefined?{outgoing:1e4,incoming:1e4}:o,a=t.debug,s=a===undefined?true:a,c=t.protocols,u=c===undefined?[]:c;this.ws=e;this.ws.binaryType="arraybuffer";this.isBinary=!!r;this.hasDebug=!!s;this.connected=false;this.heartbeat=i||{outgoing:0,incoming:0};this.maxWebSocketFrameSize=16*1024;this.subscriptions={};this.partialData="";this.protocols=u}e(l,[{key:"debug",value:function e(){var t;if(this.hasDebug)(t=console).log.apply(t,arguments)}},{key:"connect",value:function e(){var o=this;var t=this._parseConnect.apply(this,arguments),n=u(t,3),r=n[0],i=n[1],a=n[2];this.connectCallback=i;this.debug("Opening Web Socket...");this.ws.onmessage=function(e){var t=e.data;if(e.data instanceof ArrayBuffer){t=c(new Uint8Array(e.data))}o.serverActivity=Date.now();if(t===_.LF){o.debug("<<< PONG");return}o.debug("<<< "+t);var n=d.unmarshall(o.partialData+t);o.partialData=n.partial;n.frames.forEach(function(e){switch(e.command){case"CONNECTED":o.debug("connected to server "+e.headers.server);o.connected=true;o.version=e.headers.version;o._setupHeartbeat(e.headers);if(i)i(e);break;case"MESSAGE":var t=e.headers.subscription;var n=o.subscriptions[t]||o.onreceive;if(n){var r=o.version===p.V1_2&&e.headers.ack||e.headers["message-id"];e.ack=o.ack.bind(o,r,t);e.nack=o.nack.bind(o,r,t);n(e)}else{o.debug("Unhandled received MESSAGE: "+e)}break;case"RECEIPT":if(o.onreceipt)o.onreceipt(e);break;case"ERROR":if(a)a(e);break;default:o.debug("Unhandled frame: "+e)}})};this.ws.onclose=function(e){o.debug("Whoops! Lost connection to "+o.ws.url+":",{event:e});o._cleanUp();if(a)a(e)};this.ws.onopen=function(){o.debug("Web Socket Opened...");r["accept-version"]=s(o.ws.protocol||o.protocols[0],o.debug.bind(o));if(!r["heart-beat"]){r["heart-beat"]=[o.heartbeat.outgoing,o.heartbeat.incoming].join(",")}o._transmit("CONNECT",r)};if(this.ws.readyState===this.ws.OPEN){this.ws.onopen()}}},{key:"disconnect",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this._transmit("DISCONNECT",n);this.ws.onclose=null;this.ws.close();this._cleanUp();if(t)t()}},{key:"send",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var o=Object.assign({},r);o.destination=t;this._transmit("SEND",o,n)}},{key:"begin",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"tx-"+a();this._transmit("BEGIN",{transaction:t});return{id:t,commit:this.commit.bind(this,t),abort:this.abort.bind(this,t)}}},{key:"commit",value:function e(t){this._transmit("COMMIT",{transaction:t})}},{key:"abort",value:function e(t){this._transmit("ABORT",{transaction:t})}},{key:"ack",value:function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var o=Object.assign({},r);var i=this.version===p.V1_2?"id":"message-id";o[i]=t;o.subscription=n;this._transmit("ACK",o)}},{key:"nack",value:function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var o=Object.assign({},r);var i=this.version===p.V1_2?"id":"message-id";o[i]=t;o.subscription=n;this._transmit("NACK",o)}},{key:"subscribe",value:function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var o=Object.assign({},r);if(!o.id)o.id="sub-"+a();o.destination=t;this.subscriptions[o.id]=n;this._transmit("SUBSCRIBE",o);return{id:o.id,unsubscribe:this.unsubscribe.bind(this,o.id)}}},{key:"unsubscribe",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=Object.assign({},n);delete this.subscriptions[t];r.id=t;this._transmit("UNSUBSCRIBE",r)}},{key:"_cleanUp",value:function e(){this.connected=false;clearInterval(this.pinger);clearInterval(this.ponger)}},{key:"_transmit",value:function e(t,n,r){var o=d.marshall(t,n,r);this.debug(">>> "+o,{frame:{command:t,headers:n,body:r}});this._wsSend(o)}},{key:"_wsSend",value:function e(t){if(this.isBinary)t=n(t);this.debug(">>> length "+t.length);while(true){if(t.length>this.maxWebSocketFrameSize){this.ws.send(t.slice(0,this.maxWebSocketFrameSize));t=t.slice(this.maxWebSocketFrameSize);this.debug("remaining = "+t.length)}else{return this.ws.send(t)}}}},{key:"_setupHeartbeat",value:function e(t){var n=this;if(this.version!==p.V1_1&&this.version!==p.V1_2)return;var r=(t["heart-beat"]||"0,0").split(",").map(function(e){return parseInt(e,10)}),o=u(r,2),i=o[0],a=o[1];if(!(this.heartbeat.outgoing===0||a===0)){var s=Math.max(this.heartbeat.outgoing,a);this.debug("send PING every "+s+"ms");this.pinger=setInterval(function(){n._wsSend(_.LF);n.debug(">>> PING")},s)}if(!(this.heartbeat.incoming===0||i===0)){var c=Math.max(this.heartbeat.incoming,i);this.debug("check PONG every "+c+"ms");this.ponger=setInterval(function(){var e=Date.now()-n.serverActivity;if(e>c*2){n.debug("did not receive server activity for the last "+e+"ms");n.ws.close()}},c)}}},{key:"_parseConnect",value:function e(){var t={},n=void 0,r=void 0;for(var o=arguments.length,i=Array(o),a=0;a<o;a++){i[a]=arguments[a]}switch(i.length){case 2:t=i[0];n=i[1];break;case 3:if(i[1]instanceof Function){t=i[0];n=i[1];r=i[2]}else{t.login=i[0];t.passcode=i[1];n=i[2]}break;case 4:t.login=i[0];t.passcode=i[1];n=i[2];r=i[3];break;default:t.login=i[0];t.passcode=i[1];n=i[2];r=i[3];t.host=i[4]}return[t,n,r]}}]);return l}(),t;return{Frame:d,VERSIONS:p,client:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=new WebSocket(t,n.protocols||p.supportedProtocols());return new l(r,n)},over:function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}return new(Function.prototype.bind.apply(l,[null].concat(n)))}}}()},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=this&&this.__assign||function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(55),s=n(80),l=n(32),f=n(24),p=n(31),d=n(13).videoPlayer,h=window.hls,v=(i=s.default,o(y,i),y.events={PLAY:"play",PAUSE:"pause",COMPLETE:"ended",ERROR:"error",SEEK:"seeked",TIME:"timeupdate",VOLUME:"volumechange",MUTE:"muted",CONTROLS:"controlsset"},y.STREAM_TYPE=d.streamType,y.BANDWIDTH_SAMPLES=d.bandwidthSamples,y.TEST_IMAGE=d.testImage,y.bandwidthRatings={LOW:d.bandwidth.low,MID:d.bandwidth.mid},y.compressionLevels={STREAM:d.compression.stream,LOW:d.compression.low,MID:d.compression.mid,HIGH:d.compression.high},y.hlsSupportLevels={NATIVE:d.hlsSupportLevels.native,HLSJS:d.hlsSupportLevels.hlsjs},y);function y(e,t,n){void 0===n&&(n=d.defaultConfig);var s=i.call(this,e)||this;s.eventDelegateRefs={play:{callback:null,native:!0},pause:{callback:null,native:!0},ended:{callback:null,native:!0},error:{callback:null,native:!0},seeked:{callback:null,native:!0},timeupdate:{callback:null,native:!0},volumechanged:{callback:null,native:!0},muted:{callback:null,native:!1},controlsset:{callback:null,native:!1}},s.hlsSupport="",s.hlsPlayer=null,s.experienceCache=[],s.clientRef=null,s.imposiumPlayerConfig=null,s.init=function(e){var t=d.defaultConfig;for(var n in p.prepConfig(e,t),s.imposiumPlayerConfig=c(c({},t),e),s.imposiumPlayerConfig)s.imposiumPlayerConfig[n]&&(s.node[n]=s.imposiumPlayerConfig[n])},s.experienceGenerated=function(e){s.experienceCache;var t=s.imposiumPlayerConfig.qualityOverride,n=e.id,r=e.output,o=r.videos,i=r.images,a="";s.setExperienceId(n),i&&i.hasOwnProperty("poster")&&(a=i.poster),t?s.doQualityOverride(o,a):s.doQualityAssessment(o,a)},s.on=function(e,t){var n=s.storyId,r=s.eventDelegateRefs;try{if(!p.isFunc(t))throw new f.PlayerConfigurationError("invalidCallbackType",e);if(!p.keyExists(y.events,e))throw new f.PlayerConfigurationError("invalidEventName",e);var o=r[e];o.callback=t,o.native&&s.node.addEventListener(e,o.callback)}catch(e){l.default.trapError(e,n)}},s.off=function(e){var t=s.storyId,n=s.eventDelegateRefs;try{if(!p.keyExists(y.events,e))throw new f.PlayerConfigurationError("invalidEventName",e);var r=n[e];r.native&&s.node.removeEventListener(e,r.callback),r.callback=null}catch(e){l.default.trapError(e,t)}},s.play=function(){s.node.play()},s.pause=function(){s.node.pause()},s.getPlaybackState=function(){return s.node.paused?"paused":"playing"},s.getPosition=function(){return s.node.currentTime},s.getDuration=function(){return s.node.duration},s.seek=function(e){var t=s.node.duration;isNaN(t)?l.default.logWarning("playerFailure","seekNotReady"):(e=Math.floor(e),p.inRangeNumeric(e,0,t)?s.node.currentTime=e:l.default.logWarning("playerFailure","invalidSeekTime"))},s.getMute=function(){return s.node.muted},s.setMute=function(e){var t=s.eventDelegateRefs.muted.callback;s.node.muted=e,t&&t()},s.getVolume=function(){return s.node.volume},s.setVolume=function(e){var t=d.volumeMin,n=d.volumeMax;e=Math.round(10*e)/10,p.inRangeNumeric(e,t,n)?s.node.volume=e:l.default.logWarning("playerFailure","invalidVolume")},s.getControls=function(){return s.node.controls},s.setControls=function(e){var t=s.eventDelegateRefs.controlsset;s.node.controls=e,t&&t.callback()},s.replay=function(){s.pauseIfPlaying(),s.node.currentTime=0,s.node.play()},s.remove=function(){var t,e,n=s.eventDelegateRefs,r=d.defaultConfig;s.pauseIfPlaying();try{for(var o=u(Object.keys(n)),i=o.next();!i.done;i=o.next()){var a=i.value;s.off(n[a])}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}s.imposiumPlayerConfig=c({},r),s.node=null},s.setupHls=function(){var e=y.hlsSupportLevels,t=e.NATIVE,n=e.HLSJS;s.node.canPlayType(y.STREAM_TYPE)?s.hlsSupport=t:void 0!==h&&h.isSupported()&&(s.hlsSupport=n)},s.doQualityOverride=function(e,t){var n=s.storyId,r=s.imposiumPlayerConfig.qualityOverride;try{if(!e.hasOwnProperty(r))throw new f.PlayerConfigurationError("badQualityOverride",null);s.setPlayerData(e[r].url,!0,t)}catch(e){l.default.trapError(e,n)}},s.doQualityAssessment=function(t,n){var e=s.hlsSupport,r=y.compressionLevels.STREAM;if(t.hasOwnProperty(r)&&e)s.setPlayerData(t[r].url,!0,n);else{var o=Object.keys(t);1===o.length?s.setPlayerData(t[o[0]].url,!1,n):s.checkBandwidth(t).then(function(e){s.setPlayerData(t[e].url,!1,n)}).catch(function(e){s.setPlayerData(t[e].url,!1,n)})}},s.sampleBandwidth=function(){var e=y.TEST_IMAGE+"?bust="+Math.random(),o={responseType:"blob",timeout:1500};return new Promise(function(n,t){var r=(new Date).getTime();a.default.get(e,o).then(function(e){var t=e.data.size;n(p.calculateMbps(r,t))}).catch(function(e){t(e)})})},s.checkBandwidth=function(i){for(var e=y.BANDWIDTH_SAMPLES,n=[],a=Object.keys(i).filter(function(e){return"m3u8"!==e}),t=0;t<e;t++)n.push(s.sampleBandwidth());return new Promise(function(r,t){Promise.all(n).then(function(e){var n=p.calculateAverageMbps(e),o={};a.forEach(function(e){var t=i[e],n=t.width,r=t.height;o[n*r/1e5]=e});var t=Object.keys(o).map(function(e){return parseFloat(e)}).reduce(function(e,t){return Math.abs(e-n)<Math.abs(t-n)?e:t});r(o[t])}).catch(function(e){t(a.slice(-1).pop())})})},s.setPlayerData=function(e,t,n){void 0===n&&(n=null);var r=s.hlsSupport,o=y.hlsSupportLevels.HLSJS;t&&r===o?(s.hlsPlayer&&s.hlsPlayer.destroy(),s.hlsPlayer=new h,s.hlsPlayer.attachMedia(s.node),s.hlsPlayer.loadSource(e)):s.node.src=e,n&&(s.node.poster=n)},s.pauseIfPlaying=function(){s.node.paused||s.node.pause()};var r=!(!t||!t.clientConfig);try{if(!r)throw new f.PlayerConfigurationError("badClient",null);e instanceof HTMLVideoElement&&(t.bindPlayer(s),s.init(n),s.setupHls())}catch(e){var o=r?t.clientConfig.storyId:"";l.default.trapError(e,o)}return s}t.default=v},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"FunctionToString",function(){return De}),n.d(r,"InboundFilters",function(){return Ue});var o={};n.r(o),n.d(o,"GlobalHandlers",function(){return st}),n.d(o,"TryCatch",function(){return qe}),n.d(o,"Breadcrumbs",function(){return ot}),n.d(o,"LinkedErrors",function(){return ut}),n.d(o,"UserAgent",function(){return pt});var i={};n.r(i),n.d(i,"BaseTransport",function(){return ge}),n.d(i,"FetchTransport",function(){return Ee}),n.d(i,"XHRTransport",function(){return we});var c,a,s,u,l,f,d=n(0);(a=c=c||{}).Fatal="fatal",a.Error="error",a.Warning="warning",a.Log="log",a.Info="info",a.Debug="debug",a.Critical="critical",(s=c=c||{}).fromString=function(e){switch(e){case"debug":return s.Debug;case"info":return s.Info;case"warn":case"warning":return s.Warning;case"error":return s.Error;case"fatal":return s.Fatal;case"critical":return s.Critical;case"log":default:return s.Log}},(l=u=u||{}).Unknown="unknown",l.Skipped="skipped",l.Success="success",l.RateLimit="rate_limit",l.Invalid="invalid",l.Failed="failed",(f=u=u||{}).fromHttpCode=function(e){return 200<=e&&e<300?f.Success:429===e?f.RateLimit:400<=e&&e<500?f.Invalid:500<=e?f.Failed:f.Unknown};var p=n(39),h=n(160);function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Object(h.b)();if(r&&r[e])return r[e].apply(r,d.d(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function y(e){var t;try{throw new Error("Sentry syntheticException")}catch(e){t=e}return v("captureException",e,{originalException:e,syntheticException:t})}function g(e,t){var n;try{throw new Error(e)}catch(e){n=e}return v("captureMessage",e,t,{originalException:e,syntheticException:n})}function m(e){return v("captureEvent",e)}function _(e){v("configureScope",e)}function b(e){v("addBreadcrumb",e)}function E(e,t){v("setContext",e,t)}function O(e){v("setExtras",e)}function x(e){v("setTags",e)}function w(e,t){v("setExtra",e,t)}function S(e,t){v("setTag",e,t)}function j(e){v("setUser",e)}function T(e){v("withScope",e)}var k=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e});var P,R=(P=Error,d.b(C,P),C);function C(e){var t=this.constructor,n=P.call(this,e)||this;return n.message=e,n.name=t.prototype.constructor.name,k(n,t.prototype),n}var I=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,A="Invalid Dsn",N=(D.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,r=t.path,o=t.pass,i=t.port,a=t.projectId;return t.protocol+"://"+t.user+(e&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+a},D.prototype._fromString=function(e){var t=I.exec(e);if(!t)throw new R(A);var n=d.c(t.slice(1),6),r=n[0],o=n[1],i=n[2],a=void 0===i?"":i,s=n[3],c=n[4],u=void 0===c?"":c,l="",f=n[5],p=f.split("/");1<p.length&&(l=p.slice(0,-1).join("/"),f=p.pop()),this._fromComponents({host:s,pass:a,path:l,projectId:f,port:u,protocol:r,user:o})},D.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},D.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach(function(e){if(!t[e])throw new R(A)}),"http"!==this.protocol&&"https"!==this.protocol)throw new R(A);if(this.port&&isNaN(parseInt(this.port,10)))throw new R(A)},D);function D(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}var L=n(3),M=n(1),U=(F.prototype.getDsn=function(){return this._dsnObject},F.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},F.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+Object(L.e)(e)},F.prototype._getBaseUrl=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n},F.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},F.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_timestamp="+Object(M.m)()),r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},F.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this._getBaseUrl()+(t.path?"/"+t.path:"")+"/api/embed/error-page/",r=[];for(var o in r.push("dsn="+t.toString()),e)if("user"===o){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return r.length?n+"?"+r.join("&"):n},F);function F(e){this.dsn=e,this._dsnObject=new N(e)}var H=n(18),B=n(4),G=n(33),q=n(17),V=[];function W(e){var n={};return function(e){var t=e.defaultIntegrations&&d.d(e.defaultIntegrations)||[],n=e.integrations,r=[];if(Array.isArray(n)){var o=n.map(function(e){return e.name}),i=[];t.forEach(function(e){-1===o.indexOf(e.name)&&-1===i.indexOf(e.name)&&(r.push(e),i.push(e.name))}),n.forEach(function(e){-1===i.indexOf(e.name)&&(r.push(e),i.push(e.name))})}else r="function"==typeof n?(r=n(t),Array.isArray(r)?r:[r]):d.d(t);var a=r.map(function(e){return e.name});return-1!==a.indexOf("Debug")&&r.push.apply(r,d.d(r.splice(a.indexOf("Debug"),1))),r}(e).forEach(function(e){var t;n[e.name]=e,t=e,-1===V.indexOf(t.name)&&(t.setupOnce(p.b,h.b),V.push(t.name),H.a.log("Integration installed: "+t.name))}),n}var Y=(X.prototype.captureException=function(e,t,n){var r=this,o=t&&t.event_id;return this._processing=!0,this._getBackend().eventFromException(e,t).then(function(e){return r._processEvent(e,t,n)}).then(function(e){o=e&&e.event_id,r._processing=!1}).then(null,function(e){H.a.error(e),r._processing=!1}),o},X.prototype.captureMessage=function(e,t,n,r){var o=this,i=n&&n.event_id;return this._processing=!0,(Object(B.i)(e)?this._getBackend().eventFromMessage(""+e,t,n):this._getBackend().eventFromException(e,n)).then(function(e){return o._processEvent(e,n,r)}).then(function(e){i=e&&e.event_id,o._processing=!1}).then(null,function(e){H.a.error(e),o._processing=!1}),i},X.prototype.captureEvent=function(e,t,n){var r=this,o=t&&t.event_id;return this._processing=!0,this._processEvent(e,t,n).then(function(e){o=e&&e.event_id,r._processing=!1}).then(null,function(e){H.a.error(e),r._processing=!1}),o},X.prototype.getDsn=function(){return this._dsn},X.prototype.getOptions=function(){return this._options},X.prototype.flush=function(e){var n=this;return this._isClientProcessing(e).then(function(t){return clearInterval(t.interval),n._getBackend().getTransport().close(e).then(function(e){return t.ready&&e})})},X.prototype.close=function(e){var t=this;return this.flush(e).then(function(e){return t.getOptions().enabled=!1,e})},X.prototype.getIntegrations=function(){return this._integrations||{}},X.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return H.a.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},X.prototype._isClientProcessing=function(r){var o=this;return new G.a(function(e){var t=0,n=0;clearInterval(n),n=setInterval(function(){o._processing?(t+=1,r&&r<=t&&e({interval:n,ready:!1})):e({interval:n,ready:!0})},1)})},X.prototype._getBackend=function(){return this._backend},X.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},X.prototype._prepareEvent=function(e,t,n){var r=this.getOptions(),o=r.environment,i=r.release,a=r.dist,s=r.maxValueLength,c=void 0===s?250:s,u=d.a({},e);void 0===u.environment&&void 0!==o&&(u.environment=o),void 0===u.release&&void 0!==i&&(u.release=i),void 0===u.dist&&void 0!==a&&(u.dist=a),u.message&&(u.message=Object(q.d)(u.message,c));var l=u.exception&&u.exception.values&&u.exception.values[0];l&&l.value&&(l.value=Object(q.d)(l.value,c));var f=u.request;f&&f.url&&(f.url=Object(q.d)(f.url,c)),void 0===u.event_id&&(u.event_id=Object(M.n)()),this._addIntegrations(u.sdk);var p=G.a.resolve(u);return t&&(p=t.applyToEvent(u,n)),p},X.prototype._addIntegrations=function(e){var t=Object.keys(this._integrations);e&&0<t.length&&(e.integrations=t)},X.prototype._processEvent=function(e,i,t){var a=this,n=this.getOptions(),s=n.beforeSend,r=n.sampleRate;return this._isEnabled()?"number"==typeof r&&Math.random()>r?G.a.reject("This event has been sampled, will not send event."):new G.a(function(r,o){a._prepareEvent(e,t,i).then(function(e){if(null!==e){var t=e;try{if(i&&i.data&&!0===i.data.__sentry__||!s)return a._getBackend().sendEvent(t),void r(t);var n=s(e,i);if(void 0===n)H.a.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(B.m)(n))a._handleAsyncBeforeSend(n,r,o);else{if(null===(t=n))return H.a.log("`beforeSend` returned `null`, will not send event."),void r(null);a._getBackend().sendEvent(t),r(t)}}catch(e){a.captureException(e,{data:{__sentry__:!0},originalException:e}),o("`beforeSend` threw an error, will not send event.")}}else o("An event processor returned null, will not send event.")}).then(null,function(){o("`beforeSend` threw an error, will not send event.")})}):G.a.reject("SDK not enabled, will not send event.")},X.prototype._handleAsyncBeforeSend=function(e,t,n){var r=this;e.then(function(e){null!==e?(r._getBackend().sendEvent(e),t(e)):n("`beforeSend` returned `null`, will not send event.")}).then(null,function(e){n("beforeSend rejected with "+e)})},X);function X(e,t){this._integrations={},this._processing=!1,this._backend=new e(t),(this._options=t).dsn&&(this._dsn=new N(t.dsn)),this._isEnabled()&&(this._integrations=W(this._options))}var z=(J.prototype.sendEvent=function(e){return G.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:u.Skipped})},J.prototype.close=function(e){return G.a.resolve(!0)},J);function J(){}var K=($.prototype._setupTransport=function(){return new z},$.prototype.eventFromException=function(e,t){throw new R("Backend has to implement `eventFromException` method")},$.prototype.eventFromMessage=function(e,t,n){throw new R("Backend has to implement `eventFromMessage` method")},$.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,function(e){H.a.error("Error while sending event: "+e)})},$.prototype.getTransport=function(){return this._transport},$);function $(e){this._options=e,this._options.dsn||H.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}function Q(){if("fetch"in Object(M.g)())try{return new Headers,new Request(""),new Response,1}catch(e){return}}function Z(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}var ee="?",te=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[-a-z]+:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ne=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,re=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,oe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ie=/\((\S*)(?::(\d+))(?::(\d+))\)/;function ae(e){var t=null,n=e&&e.framesToPop;try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,i=n.split("\n"),a=[],s=0;s<i.length;s+=2){var c=null;(t=r.exec(i[s]))?c={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=o.exec(i[s]))&&(c={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),c&&(!c.func&&c.line&&(c.func=ee),a.push(c))}return a.length?{message:ce(e),name:e.name,stack:a}:null}(e))return se(t,n)}catch(e){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,o=[],i=e.stack.split("\n"),a=0;a<i.length;++a){if(n=te.exec(i[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=ie.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2],func:n[1]||ee,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=re.exec(i[a]))r={url:n[2],func:n[1]||ee,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=ne.exec(i[a])))continue;n[3]&&-1<n[3].indexOf(" > eval")&&(t=oe.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==a||n[5]||void 0===e.columnNumber||(o[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||ee,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=ee),o.push(r)}return o.length?{message:ce(e),name:e.name,stack:o}:null}(e))return se(t,n)}catch(e){}return{message:ce(e),name:e&&e.name,stack:[],failed:!0}}function se(t,e){try{return d.a({},t,{stack:t.stack.slice(e)})}catch(e){return t}}function ce(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}var ue=50;function le(e){var t=pe(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function fe(e){return{exception:{values:[le(e)]}}}function pe(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.map(function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}}).slice(0,ue).reverse()}function de(e,t,n){var r;if(void 0===n&&(n={}),Object(B.e)(e)&&e.error)return r=fe(ae(e=e.error));if(Object(B.a)(e)||Object(B.b)(e)){var o=e,i=o.name||(Object(B.a)(o)?"DOMError":"DOMException"),a=o.message?i+": "+o.message:i;return r=he(a,t,n),Object(M.b)(r,a),r}return Object(B.d)(e)?r=fe(ae(e)):(Object(B.h)(e)||Object(B.f)(e)?r=function(e,t,n){var r={exception:{values:[{type:Object(B.f)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(L.a)(e)}]},extra:{__serialized__:Object(L.d)(e)}};if(t){var o=pe(ae(t).stack);r.stacktrace={frames:o}}return r}(e,t,n.rejection):(r=he(e,t,n),Object(M.b)(r,""+e,void 0)),Object(M.a)(r,{synthetic:!0}),r)}function he(e,t,n){void 0===n&&(n={});var r={message:e};if(n.attachStacktrace&&t){var o=pe(ae(t).stack);r.stacktrace={frames:o}}return r}var ve=(ye.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},ye.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then(function(){return t.remove(e)}).then(null,function(){return t.remove(e).then(null,function(){})}),e):G.a.reject(new R("Not adding Promise due to buffer limit reached."))},ye.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},ye.prototype.length=function(){return this._buffer.length},ye.prototype.drain=function(n){var r=this;return new G.a(function(e){var t=setTimeout(function(){n&&0<n&&e(!1)},n);G.a.all(r._buffer).then(function(){clearTimeout(t),e(!0)}).then(null,function(){e(!0)})})},ye);function ye(e){this._limit=e,this._buffer=[]}var ge=(me.prototype.sendEvent=function(e){throw new R("Transport Class has to implement `sendEvent` method")},me.prototype.close=function(e){return this._buffer.drain(e)},me);function me(e){this.options=e,this._buffer=new ve(30),this.url=new U(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}var _e,be=Object(M.g)(),Ee=(_e=ge,d.b(Oe,_e),Oe.prototype.sendEvent=function(e){var i=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:e,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var t={body:JSON.stringify(e),method:"POST",referrerPolicy:function(){if(Q())try{return new Request("_",{referrerPolicy:"origin"}),1}catch(e){return}}()?"origin":""};return void 0!==this.options.headers&&(t.headers=this.options.headers),this._buffer.add(new G.a(function(r,o){be.fetch(i.url,t).then(function(e){var t=u.fromHttpCode(e.status);if(t!==u.Success){if(t===u.RateLimit){var n=Date.now();i._disabledUntil=new Date(n+Object(M.k)(n,e.headers.get("Retry-After"))),H.a.warn("Too many requests, backing off till: "+i._disabledUntil)}o(e)}else r({status:t})}).catch(o)}))},Oe);function Oe(){var e=null!==_e&&_e.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}var xe,we=(xe=ge,d.b(Se,xe),Se.prototype.sendEvent=function(t){var i=this;return new Date(Date.now())<this._disabledUntil?Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429}):this._buffer.add(new G.a(function(n,r){var o=new XMLHttpRequest;for(var e in o.onreadystatechange=function(){if(4===o.readyState){var e=u.fromHttpCode(o.status);if(e!==u.Success){if(e===u.RateLimit){var t=Date.now();i._disabledUntil=new Date(t+Object(M.k)(t,o.getResponseHeader("Retry-After"))),H.a.warn("Too many requests, backing off till: "+i._disabledUntil)}r(o)}else n({status:e})}},o.open("POST",i.url),i.options.headers)i.options.headers.hasOwnProperty(e)&&o.setRequestHeader(e,i.options.headers[e]);o.send(JSON.stringify(t))}))},Se);function Se(){var e=null!==xe&&xe.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}var je,Te=(je=K,d.b(ke,je),ke.prototype._setupTransport=function(){if(!this._options.dsn)return je.prototype._setupTransport.call(this);var e=d.a({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(e):new(Q()?Ee:we)(e)},ke.prototype.eventFromException=function(e,t){var n=de(e,t&&t.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return Object(M.a)(n,{handled:!0,type:"generic"}),n.level=c.Error,t&&t.event_id&&(n.event_id=t.event_id),G.a.resolve(n)},ke.prototype.eventFromMessage=function(e,t,n){void 0===t&&(t=c.Info);var r=he(e,n&&n.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return r.level=t,n&&n.event_id&&(r.event_id=n.event_id),G.a.resolve(r)},ke);function ke(){return null!==je&&je.apply(this,arguments)||this}var Pe,Re,Ce="sentry.javascript.browser",Ie="5.11.1",Ae=(Pe=Y,d.b(Ne,Pe),Ne.prototype._prepareEvent=function(e,t,n){return e.platform=e.platform||"javascript",e.sdk=d.a({},e.sdk,{name:Ce,packages:d.d(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:Ie}]),version:Ie}),Pe.prototype._prepareEvent.call(this,e,t,n)},Ne.prototype.showReportDialog=function(e){void 0===e&&(e={});var t=Object(M.g)().document;if(t)if(this._isEnabled()){var n=e.dsn||this.getDsn();if(e.eventId)if(n){var r=t.createElement("script");r.async=!0,r.src=new U(n).getReportDialogEndpoint(e),e.onLoad&&(r.onload=e.onLoad),(t.head||t.body).appendChild(r)}else H.a.error("Missing `Dsn` option in showReportDialog call");else H.a.error("Missing `eventId` option in showReportDialog call")}else H.a.error("Trying to call showReportDialog with Sentry Client is disabled")},Ne);function Ne(e){return void 0===e&&(e={}),Pe.call(this,Te,e)||this}var De=(Le.prototype.setupOnce=function(){Re=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return Re.apply(n,e)}},Le.id="FunctionToString",Le);function Le(){this.name=Le.id}var Me=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Ue=(Fe.prototype.setupOnce=function(){Object(p.b)(function(e){var t=Object(h.b)();if(!t)return e;var n=t.getIntegration(Fe);if(n){var r=t.getClient(),o=r?r.getOptions():{},i=n._mergeOptions(o);if(n._shouldDropEvent(e,i))return null}return e})},Fe.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(H.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(M.e)(e)),!0):this._isIgnoredError(e,t)?(H.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(M.e)(e)),!0):this._isBlacklistedUrl(e,t)?(H.a.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+Object(M.e)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isWhitelistedUrl(e,t)&&(H.a.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+Object(M.e)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},Fe.prototype._isSentryError=function(e,t){if(void 0===t&&(t={}),!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(e){return!1}},Fe.prototype._isIgnoredError=function(e,n){return void 0===n&&(n={}),!(!n.ignoreErrors||!n.ignoreErrors.length)&&this._getPossibleEventMessages(e).some(function(t){return n.ignoreErrors.some(function(e){return Object(q.a)(t,e)})})},Fe.prototype._isBlacklistedUrl=function(e,t){if(void 0===t&&(t={}),!t.blacklistUrls||!t.blacklistUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.blacklistUrls.some(function(e){return Object(q.a)(n,e)})},Fe.prototype._isWhitelistedUrl=function(e,t){if(void 0===t&&(t={}),!t.whitelistUrls||!t.whitelistUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.whitelistUrls.some(function(e){return Object(q.a)(n,e)})},Fe.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{blacklistUrls:d.d(this._options.blacklistUrls||[],e.blacklistUrls||[]),ignoreErrors:d.d(this._options.ignoreErrors||[],e.ignoreErrors||[],Me),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:d.d(this._options.whitelistUrls||[],e.whitelistUrls||[])}},Fe.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=e.value,o=void 0===r?"":r;return[""+o,(void 0===n?"":n)+": "+o]}catch(e){return H.a.error("Cannot extract message for event "+Object(M.e)(t)),[]}return[]},Fe.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return H.a.error("Cannot extract url for event "+Object(M.e)(t)),null}},Fe.id="InboundFilters",Fe);function Fe(e){void 0===e&&(e={}),this._options=e,this.name=Fe.id}var He=0;function Be(){return 0<He}function Ge(t,r,o){if(void 0===r&&(r={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}function e(){var n=Array.prototype.slice.call(arguments);try{o&&"function"==typeof o&&o.apply(this,arguments);var e=n.map(function(e){return Ge(e,r)});return t.handleEvent?t.handleEvent.apply(this,e):t.apply(this,e)}catch(t){throw He+=1,setTimeout(function(){--He}),T(function(e){e.addEventProcessor(function(e){var t=d.a({},e);return r.mechanism&&(Object(M.b)(t,void 0,void 0),Object(M.a)(t,r.mechanism)),t.extra=d.a({},t.extra,{arguments:Object(L.c)(n,3)}),t}),y(t)}),t}}try{for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}catch(e){}t.prototype=t.prototype||{},e.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:e}),Object.defineProperties(e,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(e,"name").configurable&&Object.defineProperty(e,"name",{get:function(){return t.name}})}catch(e){}return e}var qe=(Ve.prototype._wrapTimeFunction=function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0];return e[0]=Ge(n,{mechanism:{data:{function:Object(M.f)(r)},handled:!0,type:"instrument"}}),r.apply(this,e)}},Ve.prototype._wrapRAF=function(t){return function(e){return t(Ge(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(M.f)(t)},handled:!0,type:"instrument"}}))}},Ve.prototype._wrapEventTarget=function(o){var e=Object(M.g)(),t=e[o]&&e[o].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(Object(L.b)(t,"addEventListener",function(r){return function(e,t,n){try{"function"==typeof t.handleEvent&&(t.handleEvent=Ge(t.handleEvent.bind(t),{mechanism:{data:{function:"handleEvent",handler:Object(M.f)(t),target:o},handled:!0,type:"instrument"}}))}catch(e){}return r.call(this,e,Ge(t,{mechanism:{data:{function:"addEventListener",handler:Object(M.f)(t),target:o},handled:!0,type:"instrument"}}),n)}}),Object(L.b)(t,"removeEventListener",function(o){return function(e,t,n){var r=t;try{r=r&&(r.__sentry_wrapped__||r)}catch(e){}return o.call(this,e,r,n)}}))},Ve.prototype._wrapXHR=function(r){return function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return["onload","onerror","onprogress"].forEach(function(t){t in e&&"function"==typeof e[t]&&Object(L.b)(e,t,function(e){return Ge(e,{mechanism:{data:{function:t,handler:Object(M.f)(e)},handled:!0,type:"instrument"}})})}),"onreadystatechange"in this&&"function"==typeof this.onreadystatechange&&Object(L.b)(this,"onreadystatechange",function(e){var t={mechanism:{data:{function:"onreadystatechange",handler:Object(M.f)(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(t.mechanism.data.handler=Object(M.f)(e.__sentry_original__)),Ge(e,t)}),r.apply(this,t)}},Ve.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var e=Object(M.g)();Object(L.b)(e,"setTimeout",this._wrapTimeFunction.bind(this)),Object(L.b)(e,"setInterval",this._wrapTimeFunction.bind(this)),Object(L.b)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),"XMLHttpRequest"in e&&Object(L.b)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},Ve.id="TryCatch",Ve);function Ve(){this._ignoreOnError=0,this.name=Ve.id}var We,Ye=Object(M.g)(),Xe={},ze={};function Je(e){if(!ze[e])switch(ze[e]=!0,e){case"console":!function(){if(!("console"in Ye))return;["debug","info","warn","error","log","assert"].forEach(function(r){r in Ye.console&&Object(L.b)(Ye.console,r,function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];$e("console",{args:e,level:r}),n&&Function.prototype.apply.call(n,Ye.console,e)}})})}();break;case"dom":!function(){if(!("document"in Ye))return;Ye.document.addEventListener("click",nt("click",$e.bind(null,"dom")),!1),Ye.document.addEventListener("keypress",rt($e.bind(null,"dom")),!1),["EventTarget","Node"].forEach(function(e){var t=Ye[e]&&Ye[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(Object(L.b)(t,"addEventListener",function(r){return function(e,t,n){return t&&t.handleEvent?("click"===e&&Object(L.b)(t,"handleEvent",function(t){return function(e){return nt("click",$e.bind(null,"dom"))(e),t.call(this,e)}}),"keypress"===e&&Object(L.b)(t,"handleEvent",function(t){return function(e){return rt($e.bind(null,"dom"))(e),t.call(this,e)}})):("click"===e&&nt("click",$e.bind(null,"dom"),!0)(this),"keypress"===e&&rt($e.bind(null,"dom"))(this)),r.call(this,e,t,n)}}),Object(L.b)(t,"removeEventListener",function(o){return function(e,t,n){var r=t;try{r=r&&(r.__sentry_wrapped__||r)}catch(e){}return o.call(this,e,r,n)}}))})}();break;case"xhr":!function(){if(!("XMLHttpRequest"in Ye))return;var e=XMLHttpRequest.prototype;Object(L.b)(e,"open",function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[1];return this.__sentry_xhr__={method:Object(B.k)(e[0])?e[0].toUpperCase():e[0],url:e[1]},Object(B.k)(n)&&"POST"===this.__sentry_xhr__.method&&n.match(/sentry_key/)&&(this.__sentry_own_request__=!0),r.apply(this,e)}}),Object(L.b)(e,"send",function(i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this,n={args:e,startTimestamp:Date.now(),xhr:r};function o(){if(4===r.readyState){try{r.__sentry_xhr__&&(r.__sentry_xhr__.status_code=r.status)}catch(e){}$e("xhr",d.a({},n,{endTimestamp:Date.now()}))}}return $e("xhr",d.a({},n)),"onreadystatechange"in r&&"function"==typeof r.onreadystatechange?Object(L.b)(r,"onreadystatechange",function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(),n.apply(r,e)}}):r.onreadystatechange=o,i.apply(this,e)}})}();break;case"fetch":!function(){if(!function(){if(Q()){var e=Object(M.g)();if(Z(e.fetch))return 1;var t=!1,n=e.document;if(n){var r=n.createElement("iframe");r.hidden=!0;try{n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=Z(r.contentWindow.fetch)),n.head.removeChild(r)}catch(e){H.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}}return t}}())return;Object(L.b)(Ye,"fetch",function(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={args:e,fetchData:{method:function(e){void 0===e&&(e=[]);if("Request"in Ye&&Object(B.g)(e[0],Request)&&e[0].method)return String(e[0].method).toUpperCase();if(e[1]&&e[1].method)return String(e[1].method).toUpperCase();return"GET"}(e),url:function(e){void 0===e&&(e=[]);if("string"==typeof e[0])return e[0];if("Request"in Ye&&Object(B.g)(e[0],Request))return e[0].url;return String(e[0])}(e)},startTimestamp:Date.now()};return $e("fetch",d.a({},n)),r.apply(Ye,e).then(function(e){return $e("fetch",d.a({},n,{endTimestamp:Date.now(),response:e})),e},function(e){throw $e("fetch",d.a({},n,{endTimestamp:Date.now(),error:e})),e})}})}();break;case"history":!function(){if(!function(){var e=Object(M.g)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}())return;var r=Ye.onpopstate;function e(i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=2<e.length?e[2]:void 0;if(n){var r=We,o=String(n);$e("history",{from:r,to:We=o})}return i.apply(this,e)}}Ye.onpopstate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ye.location.href;if($e("history",{from:We,to:We=n}),r)return r.apply(this,e)},Object(L.b)(Ye.history,"pushState",e),Object(L.b)(Ye.history,"replaceState",e)}();break;default:H.a.warn("unknown instrumentation type:",e)}}function Ke(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(Xe[e.type]=Xe[e.type]||[],Xe[e.type].push(e.callback),Je(e.type))}function $e(t,e){var n,r;if(t&&Xe[t])try{for(var o=d.e(Xe[t]||[]),i=o.next();!i.done;i=o.next()){var a=i.value;try{a(e)}catch(e){H.a.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Object(M.f)(a)+"\nError: "+e)}}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Qe,Ze,et=1e3,tt=0;function nt(t,n,r){return void 0===r&&(r=!1),function(e){Qe=void 0,e&&Ze!==e&&(Ze=e,tt&&clearTimeout(tt),r?tt=setTimeout(function(){n({event:e,name:t})}):n({event:e,name:t}))}}function rt(r){return function(e){var t;try{t=e.target}catch(e){return}var n=t&&t.tagName;n&&("INPUT"===n||"TEXTAREA"===n||t.isContentEditable)&&(Qe||nt("input",r)(e),clearTimeout(Qe),Qe=setTimeout(function(){Qe=void 0},et))}}var ot=(it.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{extra:{arguments:Object(L.c)(e.args,3)},logger:"console"},level:c.fromString(e.level),message:Object(q.b)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(Object(q.b)(e.args.slice(1)," ")||"console.assert"),t.data.extra.arguments=Object(L.c)(e.args.slice(1),3)}Object(h.b)().addBreadcrumb(t,{input:e.args,level:e.level})},it.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?Object(M.i)(e.event.target):Object(M.i)(e.event)}catch(e){t="<unknown>"}0!==t.length&&Object(h.b)().addBreadcrumb({category:"ui."+e.name,message:t},{event:event,name:e.name})},it.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;Object(h.b)().addBreadcrumb({category:"xhr",data:e.xhr.__sentry_xhr__,type:"http"},{xhr:e.xhr})}else e.xhr.__sentry_own_request__&&at(e.args[0])},it.prototype._fetchBreadcrumb=function(e){if(e.endTimestamp){var t=Object(h.b)().getClient(),n=t&&t.getDsn();if(n){var r=new U(n).getStoreEndpoint();if(r&&-1!==e.fetchData.url.indexOf(r)&&"POST"===e.fetchData.method&&e.args[1]&&e.args[1].body)return void at(e.args[1].body)}e.error?Object(h.b)().addBreadcrumb({category:"fetch",data:d.a({},e.fetchData,{status_code:e.response.status}),level:c.Error,type:"http"},{data:e.error,input:e.args}):Object(h.b)().addBreadcrumb({category:"fetch",data:d.a({},e.fetchData,{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})}},it.prototype._historyBreadcrumb=function(e){var t=Object(M.g)(),n=e.from,r=e.to,o=Object(M.l)(t.location.href),i=Object(M.l)(n),a=Object(M.l)(r);i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),Object(h.b)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},it.prototype.setupOnce=function(){var n=this;this._options.console&&Ke({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._consoleBreadcrumb.apply(n,d.d(e))},type:"console"}),this._options.dom&&Ke({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._domBreadcrumb.apply(n,d.d(e))},type:"dom"}),this._options.xhr&&Ke({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._xhrBreadcrumb.apply(n,d.d(e))},type:"xhr"}),this._options.fetch&&Ke({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._fetchBreadcrumb.apply(n,d.d(e))},type:"fetch"}),this._options.history&&Ke({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._historyBreadcrumb.apply(n,d.d(e))},type:"history"})},it.id="Breadcrumbs",it);function it(e){this.name=it.id,this._options=d.a({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}function at(e){try{var t=JSON.parse(e);Object(h.b)().addBreadcrumb({category:"sentry",event_id:t.event_id,level:t.level||c.fromString("error"),message:Object(M.e)(t)},{event:t})}catch(e){H.a.error("Error while adding sentry type breadcrumb")}}var st=(ct.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(H.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(H.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},ct.prototype._installGlobalOnErrorHandler=function(){if(!this._onErrorHandlerInstalled){var l=this;this._oldOnErrorHandler=this._global.onerror,this._global.onerror=function(e,t,n,r,o){var i=Object(h.b)(),a=i.getIntegration(ct),s=o&&!0===o.__sentry_own_request__;if(!a||Be()||s)return!!l._oldOnErrorHandler&&l._oldOnErrorHandler.apply(this,arguments);var c=i.getClient(),u=Object(B.i)(o)?l._eventFromIncompleteOnError(e,t,n,r):l._enhanceEventWithInitialFrame(de(o,void 0,{attachStacktrace:c&&c.getOptions().attachStacktrace,rejection:!1}),t,n,r);return Object(M.a)(u,{handled:!1,type:"onerror"}),i.captureEvent(u,{originalException:o}),!!l._oldOnErrorHandler&&l._oldOnErrorHandler.apply(this,arguments)},this._onErrorHandlerInstalled=!0}},ct.prototype._installGlobalOnUnhandledRejectionHandler=function(){if(!this._onUnhandledRejectionHandlerInstalled){var s=this;this._oldOnUnhandledRejectionHandler=this._global.onunhandledrejection,this._global.onunhandledrejection=function(e){var t=e;try{t=e&&"reason"in e?e.reason:e}catch(e){}var n=Object(h.b)(),r=n.getIntegration(ct),o=t&&!0===t.__sentry_own_request__;if(!r||Be()||o)return!s._oldOnUnhandledRejectionHandler||s._oldOnUnhandledRejectionHandler.apply(this,arguments);var i=n.getClient(),a=Object(B.i)(t)?s._eventFromIncompleteRejection(t):de(t,void 0,{attachStacktrace:i&&i.getOptions().attachStacktrace,rejection:!0});return a.level=c.Error,Object(M.a)(a,{handled:!1,type:"onunhandledrejection"}),n.captureEvent(a,{originalException:t}),!s._oldOnUnhandledRejectionHandler||s._oldOnUnhandledRejectionHandler.apply(this,arguments)},this._onUnhandledRejectionHandlerInstalled=!0}},ct.prototype._eventFromIncompleteOnError=function(e,t,n,r){var o,i=Object(B.e)(e)?e.message:e;if(Object(B.k)(i)){var a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(o=a[1],i=a[2])}var s={exception:{values:[{type:o||"Error",value:i}]}};return this._enhanceEventWithInitialFrame(s,t,n,r)},ct.prototype._eventFromIncompleteRejection=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+e}]}}},ct.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(r,10))?void 0:r,i=isNaN(parseInt(n,10))?void 0:n,a=Object(B.k)(t)&&0<t.length?t:Object(M.h)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:o,filename:a,function:"?",in_app:!0,lineno:i}),e},ct.id="GlobalHandlers",ct);function ct(e){this.name=ct.id,this._global=Object(M.g)(),this._oldOnErrorHandler=null,this._oldOnUnhandledRejectionHandler=null,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=d.a({onerror:!0,onunhandledrejection:!0},e)}var ut=(lt.prototype.setupOnce=function(){Object(p.b)(function(e,t){var n=Object(h.b)().getIntegration(lt);return n?n._handler(e,t):e})},lt.prototype._handler=function(e,t){if(!(e.exception&&e.exception.values&&t&&Object(B.g)(t.originalException,Error)))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=d.d(n,e.exception.values),e},lt.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!Object(B.g)(e[t],Error)||n.length+1>=this._limit)return n;var r=le(ae(e[t]));return this._walkErrorTree(e[t],t,d.d([r],n))},lt.id="LinkedErrors",lt);function lt(e){void 0===e&&(e={}),this.name=lt.id,this._key=e.key||"cause",this._limit=e.limit||5}var ft=Object(M.g)(),pt=(dt.prototype.setupOnce=function(){Object(p.b)(function(e){if(Object(h.b)().getIntegration(dt)){if(!ft.navigator||!ft.location)return e;var t=e.request||{};return t.url=t.url||ft.location.href,t.headers=t.headers||{},t.headers["User-Agent"]=ft.navigator.userAgent,d.a({},e,{request:t})}return e})},dt.id="UserAgent",dt);function dt(){this.name=dt.id}var ht=[new r.InboundFilters,new r.FunctionToString,new qe,new ot,new st,new ut,new pt];function vt(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=ht),void 0===e.release){var t=Object(M.g)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}var n,r;n=Ae,!0===(r=e).debug&&H.a.enable(),Object(h.b)().bindClient(new n(r))}function yt(e){void 0===e&&(e={}),e.eventId||(e.eventId=Object(h.b)().lastEventId());var t=Object(h.b)().getClient();t&&t.showReportDialog(e)}function gt(){return Object(h.b)().lastEventId()}function mt(){}function _t(e){e()}function bt(e){var t=Object(h.b)().getClient();return t?t.flush(e):G.a.reject(!1)}function Et(e){var t=Object(h.b)().getClient();return t?t.close(e):G.a.reject(!1)}function Ot(e){return Ge(e)()}n.d(t,"Integrations",function(){return St}),n.d(t,"Severity",function(){return c}),n.d(t,"Status",function(){return u}),n.d(t,"addGlobalEventProcessor",function(){return p.b}),n.d(t,"addBreadcrumb",function(){return b}),n.d(t,"captureException",function(){return y}),n.d(t,"captureEvent",function(){return m}),n.d(t,"captureMessage",function(){return g}),n.d(t,"configureScope",function(){return _}),n.d(t,"getHubFromCarrier",function(){return h.c}),n.d(t,"getCurrentHub",function(){return h.b}),n.d(t,"Hub",function(){return h.a}),n.d(t,"Scope",function(){return p.a}),n.d(t,"setContext",function(){return E}),n.d(t,"setExtra",function(){return w}),n.d(t,"setExtras",function(){return O}),n.d(t,"setTag",function(){return S}),n.d(t,"setTags",function(){return x}),n.d(t,"setUser",function(){return j}),n.d(t,"withScope",function(){return T}),n.d(t,"BrowserClient",function(){return Ae}),n.d(t,"defaultIntegrations",function(){return ht}),n.d(t,"forceLoad",function(){return mt}),n.d(t,"init",function(){return vt}),n.d(t,"lastEventId",function(){return gt}),n.d(t,"onLoad",function(){return _t}),n.d(t,"showReportDialog",function(){return yt}),n.d(t,"flush",function(){return bt}),n.d(t,"close",function(){return Et}),n.d(t,"wrap",function(){return Ot}),n.d(t,"SDK_NAME",function(){return Ce}),n.d(t,"SDK_VERSION",function(){return Ie}),n.d(t,"Transports",function(){return i});var xt={},wt=Object(M.g)();wt.Sentry&&wt.Sentry.Integrations&&(xt=wt.Sentry.Integrations);var St=d.a({},xt,r,o)},function(e,h,v){"use strict";(function(r){v.d(h,"a",function(){return s}),v.d(h,"b",function(){return t}),v.d(h,"c",function(){return l});var f=v(0),p=v(1),o=v(18),i=v(39),a=3,s=(e.prototype._invokeClient=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop();o&&o.client&&o.client[e]&&(t=o.client)[e].apply(t,f.d(n,[o.scope]))},e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e},e.prototype.pushScope=function(){var e=this.getStack(),t=0<e.length?e[e.length-1].scope:void 0,n=i.a.clone(t);return this.getStack().push({client:this.getClient(),scope:n}),n},e.prototype.popScope=function(){return void 0!==this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=Object(p.n)(),r=t;if(!t){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(e){o=e}r={originalException:e,syntheticException:o}}return this._invokeClient("captureException",e,f.a({},r,{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var r=this._lastEventId=Object(p.n)(),o=n;if(!n){var i=void 0;try{throw new Error(e)}catch(e){i=e}o={originalException:e,syntheticException:i}}return this._invokeClient("captureMessage",e,t,f.a({},o,{event_id:r})),r},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=Object(p.n)();return this._invokeClient("captureEvent",e,f.a({},t,{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop();if(n.scope&&n.client){var r=n.client.getOptions&&n.client.getOptions()||{},o=r.beforeBreadcrumb,i=void 0===o?null:o,a=r.maxBreadcrumbs,s=void 0===a?100:a;if(!(s<=0)){var c=Object(p.m)(),u=f.a({timestamp:c},e),l=i?Object(p.c)(function(){return i(u,t)}):u;null!==l&&n.scope.addBreadcrumb(l,Math.min(s,100))}}},e.prototype.setUser=function(e){var t=this.getStackTop();t.scope&&t.scope.setUser(e)},e.prototype.setTags=function(e){var t=this.getStackTop();t.scope&&t.scope.setTags(e)},e.prototype.setExtras=function(e){var t=this.getStackTop();t.scope&&t.scope.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop();t.scope&&t.client&&e(t.scope)},e.prototype.run=function(e){var t=n(this);try{e(this)}finally{n(t)}},e.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return o.a.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},e.prototype.startSpan=function(e,t){return void 0===t&&(t=!1),this._callExtensionMethod("startSpan",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=c().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[e])return r.extensions[e].apply(this,t);o.a.warn("Extension method "+e+" couldn't be found, doing nothing.")},e);function e(e,t,n){void 0===t&&(t=new i.a),void 0===n&&(n=a),this._version=n,this._stack=[],this._stack.push({client:e,scope:t})}function c(){var e=Object(p.g)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function n(e){var t=c(),n=l(t);return d(t,e),n}function t(){var e=c();return u(e)&&!l(e).isOlderThan(a)||d(e,new s),(Object(p.j)()?function(t){try{var e=Object(p.d)(r,"domain").active;if(!e)return l(t);if(!u(e)||l(e).isOlderThan(a)){var n=l(t).getStackTop();d(e,new s(n.client,i.a.clone(n.scope)))}return l(e)}catch(e){return l(t)}}:l)(e)}function u(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function l(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new s),e.__SENTRY__.hub}function d(e,t){return e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,1)}}).call(this,v(151)(e))}],o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=84);function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r});
//# sourceMappingURL=imposium.min.js.map 