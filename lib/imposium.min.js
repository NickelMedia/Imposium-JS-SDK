// [IMPOSIUM-JS-SDK]  Version: 2.1.0  
 var Imposium=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=67)}([function(e,t,n){var r=n(32)("wks"),o=n(19),i=n(1).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(60),o=n(120),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){var n=e.exports={version:"2.6.2"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(1),o=n(4),i=n(11),a=n(14),s=n(20),c=function(e,t,n){var u,f,l,p,d=e&c.F,h=e&c.G,v=e&c.S,y=e&c.P,g=e&c.B,m=h?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,E=h?o:o[t]||(o[t]={}),b=E.prototype||(E.prototype={});for(u in h&&(n=t),n)l=((f=!d&&m&&void 0!==m[u])?m:n)[u],p=g&&f?s(l,r):y&&"function"==typeof l?s(Function.call,l):l,m&&a(m,u,l,e&c.U),E[u]!=l&&i(E,u,p),y&&b[u]!=l&&(b[u]=l)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(5),o=n(4),i=n(15);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(2);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(7),o=n(46),i=n(34),a=Object.defineProperty;t.f=n(8)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e){e.exports={client:{defaultConfig:{accessToken:"",storyId:"",actId:"",sceneId:"",environment:"production"}},api:{production:"https://api.imposium.com",staging:"https://api.staging.imposium.com",local:"https://api",currentVersion:"2.0.0",version:"X-Imposium-Api-Version",hmac:"X-Imposium-Access-Key",jwt:"Authorization",img:"https://cdn.imposium.com/SampleJPGImage_1mb.jpg"},messageConsumer:{maxReconnects:5,minReconnects:0,errorOverTcp:"Server failure.",videoSceneKey:"VideoScene01"},stomp:{production:"wss://stomp.prod.k8s.nickel.media/ws",staging:"wss://stomp.staging.k8s.nickel.media/ws",local:"ws://127.0.0.1:15674/ws",exchange:"/exchange/imposium/",username:"imposium_stomp",password:"Teehe1ceeMe7Pe1d"},analytics:{exceptionProp:"UA-123315989-1",baseUrl:"https://ssl.google-analytics.com/collect",lsLookup:"imposium_js_ga_cid",gaPropPlaceholder:"[id_placeholder]",cidPlaceholder:"[cid_placeholder]"},videoPlayer:{defaultConfig:{volume:1,preload:"auto",loop:!1,muted:!1,autoLoad:!0,autoPlay:!0,controls:!0,crossOrigin:"anonymous",qualityOverride:null},playbackEvents:[0,.25,.5,.75],checkPlaybackRateMs:100,volumeMin:0,volumeMax:1,bandwidth:{low:2.4,mid:8},compression:{stream:"m3u8",low:"mp4_480",mid:"mp4_720",high:"mp4_1080"},bandwidthSamples:5,hlsSupportLevels:{native:"native",hlsjs:"hls-js"},streamType:"application/vnd.apple.mpegurl"}}},function(e,t,n){var r=n(9),o=n(23);e.exports=n(8)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(50),o=n(36);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(1),o=n(11),i=n(12),a=n(19)("src"),s=Function.toString,c=(""+s).split("toString");n(4).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(i(n,a)||o(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(49),o=n(39);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(24);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(147),i={ENV:"environment",MODERATION:"moderation",CLIENT_CONFIG:"clientConfiguration",PLAYER_CONFIG:"playerConfiguration",NETWORK:"network",UNCAUGHT:"uncaught"},a=function(e){function t(n,r){var o=e.call(this,n)||this;return o.prefix="[IMPOSIUM ERROR]",o.type="",Error.captureStackTrace&&Error.captureStackTrace(o,t),o.type=r,o}return r(t,e),t}(Error);t.ImposiumError=a;var s=function(e){function t(n,r,a){void 0===a&&(a=i.MODERATION);var s=e.call(this,o[a][n],a)||this;return s.experienceId=null,s.log=function(){console.error(s.prefix+"\n            \nReason: Moderation Issue\n            \nExperience ID: "+s.experienceId+"\n            \nMessage: "+s.message)},Error.captureStackTrace&&Error.captureStackTrace(s,t),s}return r(t,e),t}(a);t.ModerationError=s;var c=function(e){function t(n,r,a){void 0===a&&(a=i.CLIENT_CONFIG);var s=e.call(this,o[a][n],a)||this;return s.eventName="",s.log=function(){console.error(s.prefix+"\n            \nReason: Invalid client configuration\n            \nMessage: "+s.message+"\n            \nEvent name: "+s.eventName)},Error.captureStackTrace&&Error.captureStackTrace(s,t),s.eventName=r||"<not_set>",s}return r(t,e),t}(a);t.ClientConfigurationError=c;var u=function(e){function t(n,r,a){void 0===a&&(a=i.PLAYER_CONFIG);var s=e.call(this,o[a][n],a)||this;return s.eventName="",s.log=function(){console.error(s.prefix+"\n            \nReason: Invalid player configuration\n            \nMessage: "+s.message+"\n            \nEvent name: "+s.eventName)},Error.captureStackTrace&&Error.captureStackTrace(s,t),s.eventName=r||"<not_set>",s}return r(t,e),t}(a);t.PlayerConfigurationError=u;var f=function(e){function t(n,r,a,s){void 0===s&&(s=i.NETWORK);var c=e.call(this,o[s][n],s)||this;return c.experienceId=null,c.networkError=null,c.log=function(){console.error(c.prefix+"\n            \nReason: Network related error\n            \nMessage: "+c.message+"\n            \nExperience ID: "+c.experienceId+"\n            \nNetwork Error: ",c.networkError)},Error.captureStackTrace&&Error.captureStackTrace(c,t),c.experienceId=r||"<not_set>",c.networkError=a,c}return r(t,e),t}(a);t.NetworkError=f;var l=function(e){function t(t,n,r){void 0===r&&(r=i.UNCAUGHT);var a=e.call(this,o[r][t],r)||this;return a.uncaughtError=null,a.log=function(){console.error(a.prefix+"\n            \nReason: Unknown\n            \nMessage: "+a.message+"\n            \nError: ",a.uncaughtError)},Error.captureStackTrace&&Error.captureStackTrace(a,f),a.uncaughtError=n,a}return r(t,e),t}(a);t.UncaughtError=l},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(9).f,o=n(12),i=n(0)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(36);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(19)("meta"),o=n(2),i=n(12),a=n(9).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(15)(function(){return c(Object.preventExtensions({}))}),f=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},l=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";f(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;f(e)}return e[r].w},onFreeze:function(e){return u&&l.NEED&&c(e)&&!i(e,r)&&f(e),e}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(45),o=n(22),i=n(65),a=n(10).analytics,s=n(148),c=function(){function e(){}return e.logWarning=function(e,t){console.warn("IMPOSIUM\n"+s[e][t])},e.trapError=function(t,n,r){if(void 0===r&&(r=null),r&&r(t),t.log)if(t.networkError)if(t.networkError.hasOwnProperty("config"))e.logError(t,n);else if(t.networkError.hasOwnProperty("isTrusted"))e.logError(t,n);else{var i=new o.UncaughtError("generic",t.networkError);e.logError(i,n)}else e.logError(t,n);else i=new o.UncaughtError("generic",t),e.logError(i,n)},e.errorsProperty=a.exceptionProp,e.logError=function(t,n){t.log(),e.traceError(t,n)},e.traceError=function(t,n){var o=e.errorsProperty,a="Version: "+i.version+"*";t.eventName&&(a+="Event name: "+t.eventName+"*"),t.experienceId&&(a+="Experience ID: "+t.experienceId+"*"),t.networkError?a+="Url: "+(t.networkError.config?t.networkError.config.url:"stomp connection")+"*Stack: "+t.networkError:t.uncaughtError?a+="Stack: "+t.uncaughtError:a+="Stack: "+t.stack,r.default.send({prp:o,t:"event",ec:t.type,ea:a,el:n,ev:0})},e}();t.default=c},function(e,t,n){"use strict";var r=n(31),o={};o[n(0)("toStringTag")]="z",o+""!="[object z]"&&n(14)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(17),o=n(0)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(4),o=n(1),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(18)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(2),o=n(1).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(2);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(7),o=n(48),i=n(39),a=n(38)("IE_PROTO"),s=function(){},c=function(){var e,t=n(33)("iframe"),r=i.length;for(t.style.display="none",n(52).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(32)("keys"),o=n(19);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(28),o=n(23),i=n(13),a=n(34),s=n(12),c=n(46),u=Object.getOwnPropertyDescriptor;t.f=n(8)?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(118),i=n(138),a=n(141),s=n(44),c=n(10).api,u=function(){function e(t,n){var a=this;this.http=null,this.configureClient=function(t,n){var i,s=c.version,u=c.currentVersion;a.http=o.default.create({baseURL:c[n],headers:r({},a.getAuthHeader(t),(i={},i[s]=u,i))}),e.retry(a.http,{retryDelay:e.retry.exponentialDelay})},this.getStory=function(e){var t=a.http.get;return new Promise(function(n,r){t("/story/"+e).then(function(e){var t=e.data;n(t)}).catch(function(e){r(e)})})},this.getExperience=function(e){var t=a.http.get;return new Promise(function(n,r){t("/experience/"+e).then(function(e){var t=e.data;n(t)}).catch(function(e){r(e)})})},this.postExperience=function(e,t,n,r){void 0===r&&(r=null);var o=a,i=o.doPostExperience,c=o.uploadProgress;return i(n,s.inventoryToFormData(e,t),{headers:{},onUploadProgress:function(e){return c(e,r)}})},this.invokeStream=function(e){var t=a.http.post;return new Promise(function(n,r){t("/experience/"+e+"/trigger-event").then(function(e){var t=e.data.job_id;n(t)}).catch(function(e){r(e)})})},this.getAuthHeader=function(e){var t,n,r=c.jwt,o=c.hmac;try{return i(e),(t={})[r]=e,t}catch(t){return(n={})[o]=e,n}},this.doPostExperience=function(e,t,n){var r=a.http.post,o=e?"/experience/render":"/experience";return new Promise(function(e,i){r(o,t,n).then(function(t){var n=t.data;e(n)}).catch(function(e){i(e)})})},this.uploadProgress=function(e,t){if(void 0===t&&(t=null),t){var n=e.loaded,r=e.total;t(Math.round(n/r*100))}},this.configureClient(t,n)}return e.getGATrackingPixel=function(e){var t=o.default.get;return new Promise(function(n,r){t(e).then(function(e){n()}).catch(function(e){r(e)})})},e.checkBandwidth=function(){var t=o.default.get,n=e.testImage+"?bust="+Math.random(),r={responseType:"blob",timeout:1500};return new Promise(function(e,o){var i=(new Date).getTime();t(n,r).then(function(t){var n=t.data.size;e(s.calculateMbps(i,n))}).catch(function(e){o(e)})})},e.testImage=c.img,e.retry=a,e}();t.default=u},function(e,t,n){"use strict";(function(t){var r=n(3),o=n(123),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(61):void 0!==t&&(e=n(61)),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){s.headers[e]={}}),r.forEach(["post","put","patch"],function(e){s.headers[e]=r.merge(i)}),e.exports=s}).call(this,n(122))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prepConfig=function(e,t){var n=Object.keys(t);for(var r in e)-1===n.indexOf(r)&&delete e[r]},t.inRangeNumeric=function(e,t,n){return(e-t)*(e-n)<=0},t.isFunc=function(e){return"[object Function]"===Object.prototype.toString.call(e)},t.keyExists=function(e,t){return~Object.keys(e).map(function(t){return e[t]}).indexOf(t)},t.cloneWithKeys=function(e){return Object.keys(e).reduce(function(e,t){return e[t]=null,e},{})},t.calculateMbps=function(e,t){return 8*t/(((new Date).getTime()-e)/1e3)/Math.pow(1024,2)},t.calculateAverageMbps=function(e){var t=e.reduce(function(e,t){return e+t});return parseFloat((t/e.length).toFixed(2))},t.inventoryToFormData=function(e,t){var n=new FormData;for(var r in n.append("story_id",e),t)if(t[r]){var o=t[r];if(o&&"file"===o.type){var i=o.files;i.length>0?(t[r]="",n.append(r,i[0])):t[r]=""}else(o&&o instanceof Blob||o instanceof File)&&(t[r]="",n.append(r,o,"inventory.png"));n.append("inventory["+r+"]",t[r])}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),o=n(29),i=n(10).analytics,a=function(){function e(){}return e.setup=function(){e.request.clientId=e.checkCache()},e.send=function(t){(0,e.makeRequest)((0,e.concatParams)(t))},e.emitter=null,e.retryTimeout=null,e.request={baseUrl:i.baseUrl,cacheKey:i.lsLookup,clientId:i.cidPlaceholder},e.checkCache=function(){var t=e.setCache,n=e.generateGuid,r=e.request.cacheKey;try{var o=JSON.parse(localStorage.getItem(r));if(o){var i=o.expiry,a=o.guid;if(i>new Date)return a;localStorage.removeItem(r)}return t(n())}catch(e){return n()}},e.setCache=function(t){try{var n=e.request.cacheKey,r=new Date,o={guid:t,expiry:r.setFullYear(r.getFullYear()+2)};localStorage.setItem(n,JSON.stringify(o))}catch(e){return t}return t},e.s4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},e.generateGuid=function(){var t=e.s4;return""+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},e.getRandom=function(){return""+Math.round((new Date).getTime()/1e3)},e.concatParams=function(t){var n=e.getRandom,r=e.request,o=r.baseUrl,i=r.clientId,a=t.prp;delete t.prp;for(var s=o+"?v=1&tid="+a+"&z="+n()+"&cid="+i,c=0,u=Object.keys(t);c<u.length;c++){var f=u[c];s+="&"+encodeURIComponent(f)+"="+encodeURIComponent(t[f])}return s},e.makeRequest=function(e){r.default.getGATrackingPixel(e).catch(function(e){o.default.logWarning("analytics","requestFailed")})},e}();t.default=a},function(e,t,n){e.exports=!n(8)&&!n(15)(function(){return 7!=Object.defineProperty(n(33)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(18),o=n(5),i=n(14),a=n(11),s=n(21),c=n(71),u=n(25),f=n(53),l=n(0)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,h,v,y,g){c(n,t,h);var m,E,b,w=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},_=t+" Iterator",x="values"==v,O=!1,S=e.prototype,P=S[l]||S["@@iterator"]||v&&S[v],T=P||w(v),k=v?x?w("entries"):T:void 0,C="Array"==t&&S.entries||P;if(C&&(b=f(C.call(new e)))!==Object.prototype&&b.next&&(u(b,_,!0),r||"function"==typeof b[l]||a(b,l,d)),x&&P&&"values"!==P.name&&(O=!0,T=function(){return P.call(this)}),r&&!g||!p&&!O&&S[l]||a(S,l,T),s[t]=T,s[_]=d,v)if(m={values:x?T:w("values"),keys:y?T:w("keys"),entries:k},g)for(E in m)E in S||i(S,E,m[E]);else o(o.P+o.F*(p||O),t,m);return m}},function(e,t,n){var r=n(9),o=n(7),i=n(16);e.exports=n(8)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(12),o=n(13),i=n(72)(!1),a=n(38)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(17);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(35),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(1).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(12),o=n(26),i=n(38)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r,o,i,a=n(20),s=n(85),c=n(52),u=n(33),f=n(1),l=f.process,p=f.setImmediate,d=f.clearImmediate,h=f.MessageChannel,v=f.Dispatch,y=0,g={},m=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},E=function(e){m.call(e.data)};p&&d||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++y]=function(){s("function"==typeof e?e:Function(e),t)},r(y),y},d=function(e){delete g[e]},"process"==n(17)(l)?r=function(e){l.nextTick(a(m,e,1))}:v&&v.now?r=function(e){v.now(a(m,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=E,r=a(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",E,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),e.exports={set:p,clear:d}},function(e,t,n){"use strict";var r=n(24);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){"use strict";var r=n(1),o=n(12),i=n(8),a=n(5),s=n(14),c=n(27).KEY,u=n(15),f=n(32),l=n(25),p=n(19),d=n(0),h=n(57),v=n(94),y=n(95),g=n(96),m=n(7),E=n(2),b=n(13),w=n(34),_=n(23),x=n(37),O=n(58),S=n(41),P=n(9),T=n(16),k=S.f,C=P.f,R=O.f,I=r.Symbol,A=r.JSON,N=A&&A.stringify,j=d("_hidden"),D=d("toPrimitive"),M={}.propertyIsEnumerable,L=f("symbol-registry"),U=f("symbols"),F=f("op-symbols"),G=Object.prototype,q="function"==typeof I,B=r.QObject,V=!B||!B.prototype||!B.prototype.findChild,H=i&&u(function(){return 7!=x(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=k(G,t);r&&delete G[t],C(e,t,n),r&&e!==G&&C(G,t,r)}:C,W=function(e){var t=U[e]=x(I.prototype);return t._k=e,t},X=q&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},z=function(e,t,n){return e===G&&z(F,t,n),m(e),t=w(t,!0),m(n),o(U,t)?(n.enumerable?(o(e,j)&&e[j][t]&&(e[j][t]=!1),n=x(n,{enumerable:_(0,!1)})):(o(e,j)||C(e,j,_(1,{})),e[j][t]=!0),H(e,t,n)):C(e,t,n)},K=function(e,t){m(e);for(var n,r=y(t=b(t)),o=0,i=r.length;i>o;)z(e,n=r[o++],t[n]);return e},Y=function(e){var t=M.call(this,e=w(e,!0));return!(this===G&&o(U,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(U,e)||o(this,j)&&this[j][e])||t)},J=function(e,t){if(e=b(e),t=w(t,!0),e!==G||!o(U,t)||o(F,t)){var n=k(e,t);return!n||!o(U,t)||o(e,j)&&e[j][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=R(b(e)),r=[],i=0;n.length>i;)o(U,t=n[i++])||t==j||t==c||r.push(t);return r},$=function(e){for(var t,n=e===G,r=R(n?F:b(e)),i=[],a=0;r.length>a;)!o(U,t=r[a++])||n&&!o(G,t)||i.push(U[t]);return i};q||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===G&&t.call(F,n),o(this,j)&&o(this[j],e)&&(this[j][e]=!1),H(this,e,_(1,n))};return i&&V&&H(G,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",function(){return this._k}),S.f=J,P.f=z,n(59).f=O.f=Q,n(28).f=Y,n(40).f=$,i&&!n(18)&&s(G,"propertyIsEnumerable",Y,!0),h.f=function(e){return W(d(e))}),a(a.G+a.W+a.F*!q,{Symbol:I});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)d(Z[ee++]);for(var te=T(d.store),ne=0;te.length>ne;)v(te[ne++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return o(L,e+="")?L[e]:L[e]=I(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!q,"Object",{create:function(e,t){return void 0===t?x(e):K(x(e),t)},defineProperty:z,defineProperties:K,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:$}),A&&a(a.S+a.F*(!q||u(function(){var e=I();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(E(t)||void 0!==e)&&!X(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!X(t))return t}),r[1]=t,N.apply(A,r)}}),I.prototype[D]||n(11)(I.prototype,D,I.prototype.valueOf),l(I,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(e,t,n){t.f=n(0)},function(e,t,n){var r=n(13),o=n(59).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(49),o=n(39).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(3),o=n(124),i=n(126),a=n(127),s=n(128),c=n(62),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(129);e.exports=function(e){return new Promise(function(t,f){var l=e.data,p=e.headers;r.isFormData(l)&&delete p["Content-Type"];var d=new XMLHttpRequest,h="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(e.url)||(d=new window.XDomainRequest,h="onload",v=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var y=e.auth.username||"",g=e.auth.password||"";p.Authorization="Basic "+u(y+":"+g)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[h]=function(){if(d&&(4===d.readyState||v)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:e,request:d};o(t,f,r),d=null}},d.onerror=function(){f(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){f(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var m=n(130),E=(e.withCredentials||s(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;E&&(p[e.xsrfHeaderName]=E)}if("setRequestHeader"in d&&r.forEach(p,function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),f(e),d=null)}),void 0===l&&(l=null),d.send(l)})}},function(e,t,n){"use strict";var r=n(125);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="2.1.0",t.printVersion=function(){console.log("%cPowered By%c Imposium%c v"+t.version+"%c https://imposium.com","text-transform: uppercase; padding: 5px 0px 5px 5px; background-color: black; color: white;","text-transform: uppercase; padding: 5px 0px 5px 0px; background-color: black; color: #a1b83a;","padding: 5px 5px 5px 0px; background-color: black; color: white;","padding: 5px 5px 5px 0px;")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(150),o=n(45),i=n(22),a=n(10).videoPlayer,s=function(){function e(t){var n=this;this.node=null,this.storyId="",this.mediaEvents={loadstart:function(){return n.onLoad()},play:function(){return n.onPlay()},pause:function(){return n.onPause()},ended:function(){return n.onEnd()}},this.experienceId="",this.gaProperty="",this.prevPlaybackEvent=0,this.deferredGaCalls=new r.default,this.remove=function(){for(var e=n,t=e.mediaEvents,r=e.node,o=0,i=Object.keys(t);o<i.length;o++){var a=i[o];r.removeEventListener(a,t[a])}},this.setGaProperty=function(e){var t=n.deferredGaCalls;for(n.gaProperty&&n.gaProperty!==e&&!t.isEmpty()&&t.reset(),n.gaProperty=e;t.peek();)o.default.send(t.peek()),t.pop()},this.setStoryId=function(e){n.storyId=e},this.setExperienceId=function(e){n.experienceId=e},this.onLoad=function(){var e=n,t=e.gaProperty,r=e.experienceId,i=e.deferredGaCalls,a={prp:t,t:"event",ec:"video_player",ea:"view",el:r};t?o.default.send(a):i.enqueue(a)},this.onPlay=function(){var t=n,r=t.gaProperty,i=t.experienceId,a=t.deferredGaCalls,s={prp:r,t:"event",ec:"video_player",ea:"play",el:i};clearInterval(n.playbackInterval),n.playbackInterval=setInterval(function(){return n.checkPlayback()},e.intervalRate),r?o.default.send(s):a.enqueue(s)},this.onPause=function(){var e=n,t=e.gaProperty,r=e.experienceId,i=e.deferredGaCalls,a=e.playbackInterval,s=e.node,c={prp:t,t:"event",ec:"video_player",ea:"pause",el:r};clearInterval(a),s.duration!==s.currentTime&&(t?o.default.send(c):i.enqueue(c))},this.checkPlayback=function(){var t=n,r=t.node,i=t.prevPlaybackEvent,a=t.gaProperty,s=t.experienceId,c=t.deferredGaCalls,u=t.playbackInterval;if(r){var f=r.currentTime/r.duration,l=e.playbackEvents[i];if(f>l){var p={prp:a,t:"event",ec:"video_player",ea:"playback_"+l,el:s};a?o.default.send(p):c.enqueue(p),n.prevPlaybackEvent++}}else clearInterval(u)},this.onEnd=function(){var e=n,t=e.gaProperty,r=e.experienceId,i=e.deferredGaCalls,a=e.playbackInterval;clearInterval(a);var s={prp:t,t:"event",ec:"video_player",ea:"playback_1",el:r};t?o.default.send(s):i.enqueue(s),n.prevPlaybackEvent=0};var a=this.mediaEvents;this.storyId,this.node=t;for(var s=0,c=Object.keys(a);s<c.length;s++){var u=c[s];try{this.node.addEventListener(u,this.mediaEvents[u])}catch(e){throw new i.PlayerConfigurationError("invalidPlayerRef",null)}}}return e.intervalRate=a.checkPlaybackRateMs,e.playbackEvents=a.playbackEvents,e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(68),n(93),n(97);var r=n(117);t.Client=r.default;var o=n(151);t.Player=o.default;var i=[r.default.events,o.default.events],a=i[0],s=i[1];t.Events=a,t.PlayerEvents=s},function(e,t,n){n(30),n(69),n(74),n(78),e.exports=n(4).Promise},function(e,t,n){"use strict";var r=n(70)(!0);n(47)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(35),o=n(36);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(37),o=n(23),i=n(25),a={};n(11)(a,n(0)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(13),o=n(51),i=n(73);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=o(c.length),f=i(a,u);if(e&&n!=n){for(;u>f;)if((s=c[f++])!=s)return!0}else for(;u>f;f++)if((e||f in c)&&c[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(35),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){for(var r=n(75),o=n(16),i=n(14),a=n(1),s=n(11),c=n(21),u=n(0),f=u("iterator"),l=u("toStringTag"),p=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(d),v=0;v<h.length;v++){var y,g=h[v],m=d[g],E=a[g],b=E&&E.prototype;if(b&&(b[f]||s(b,f,p),b[l]||s(b,l,g),c[g]=p,m))for(y in r)b[y]||i(b,y,r[y],!0)}},function(e,t,n){"use strict";var r=n(76),o=n(77),i=n(21),a=n(13);e.exports=n(47)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(0)("unscopables"),o=Array.prototype;void 0==o[r]&&n(11)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,o,i,a,s=n(18),c=n(1),u=n(20),f=n(31),l=n(5),p=n(2),d=n(24),h=n(79),v=n(80),y=n(84),g=n(54).set,m=n(86)(),E=n(55),b=n(87),w=n(88),_=n(89),x=c.TypeError,O=c.process,S=O&&O.versions,P=S&&S.v8||"",T=c.Promise,k="process"==f(O),C=function(){},R=o=E.f,I=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(0)("species")]=function(e){e(C,C)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t&&0!==P.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),A=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,s=o?t.ok:t.fail,c=t.resolve,u=t.reject,f=t.domain;try{s?(o||(2==e._h&&M(e),e._h=1),!0===s?n=r:(f&&f.enter(),n=s(r),f&&(f.exit(),a=!0)),n===t.promise?u(x("Promise-chain cycle")):(i=A(n))?i.call(n,c,u):c(n)):u(r)}catch(e){f&&!a&&f.exit(),u(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&j(e)})}},j=function(e){g.call(c,function(){var t,n,r,o=e._v,i=D(e);if(i&&(t=b(function(){k?O.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=k||D(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},M=function(e){g.call(c,function(){var t;k?O.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=A(e))?m(function(){var r={_w:n,_d:!1};try{t.call(e,u(U,r,1),u(L,r,1))}catch(e){L.call(r,e)}}):(n._v=e,n._s=1,N(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};I||(T=function(e){h(this,T,"Promise","_h"),d(e),r.call(this);try{e(u(U,this,1),u(L,this,1))}catch(e){L.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(90)(T.prototype,{then:function(e,t){var n=R(y(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=u(U,e,1),this.reject=u(L,e,1)},E.f=R=function(e){return e===T||e===a?new i(e):o(e)}),l(l.G+l.W+l.F*!I,{Promise:T}),n(25)(T,"Promise"),n(91)("Promise"),a=n(4).Promise,l(l.S+l.F*!I,"Promise",{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(s||!I),"Promise",{resolve:function(e){return _(s&&this===a?T:this,e)}}),l(l.S+l.F*!(I&&n(92)(function(e){T.all(e).catch(C)})),"Promise",{all:function(e){var t=this,n=R(t),r=n.resolve,o=n.reject,i=b(function(){var n=[],i=0,a=1;v(e,!1,function(e){var s=i++,c=!1;n.push(void 0),a++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=R(t),r=n.reject,o=b(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(20),o=n(81),i=n(82),a=n(7),s=n(51),c=n(83),u={},f={};(t=e.exports=function(e,t,n,l,p){var d,h,v,y,g=p?function(){return e}:c(e),m=r(n,l,t?2:1),E=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(d=s(e.length);d>E;E++)if((y=t?m(a(h=e[E])[0],h[1]):m(e[E]))===u||y===f)return y}else for(v=g.call(e);!(h=v.next()).done;)if((y=o(v,m,h.value,t))===u||y===f)return y}).BREAK=u,t.RETURN=f},function(e,t,n){var r=n(7);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(21),o=n(0)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(31),o=n(0)("iterator"),i=n(21);e.exports=n(4).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(7),o=n(24),i=n(0)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(1),o=n(54).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(17)(a);e.exports=function(){var e,t,n,u=function(){var r,o;for(c&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var f=s.resolve(void 0);n=function(){f.then(u)}}else n=function(){o.call(r,u)};else{var l=!0,p=document.createTextNode("");new i(u).observe(p,{characterData:!0}),n=function(){p.data=l=!l}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(1).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(7),o=n(2),i=n(55);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(14);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){"use strict";var r=n(1),o=n(9),i=n(8),a=n(0)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(0)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){n(56),n(30),e.exports=n(4).Symbol},function(e,t,n){var r=n(1),o=n(4),i=n(18),a=n(57),s=n(9).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(16),o=n(40),i=n(28);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),c=i.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(17);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){n(56),n(98),n(99),n(100),n(101),n(102),n(103),n(104),n(105),n(106),n(107),n(108),n(109),n(110),n(111),n(113),n(115),n(30),e.exports=n(4).Object},function(e,t,n){var r=n(5);r(r.S,"Object",{create:n(37)})},function(e,t,n){var r=n(5);r(r.S+r.F*!n(8),"Object",{defineProperty:n(9).f})},function(e,t,n){var r=n(5);r(r.S+r.F*!n(8),"Object",{defineProperties:n(48)})},function(e,t,n){var r=n(13),o=n(41).f;n(6)("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},function(e,t,n){var r=n(26),o=n(53);n(6)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){var r=n(26),o=n(16);n(6)("keys",function(){return function(e){return o(r(e))}})},function(e,t,n){n(6)("getOwnPropertyNames",function(){return n(58).f})},function(e,t,n){var r=n(2),o=n(27).onFreeze;n(6)("freeze",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(2),o=n(27).onFreeze;n(6)("seal",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(2),o=n(27).onFreeze;n(6)("preventExtensions",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(2);n(6)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(2);n(6)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(2);n(6)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(5);r(r.S+r.F,"Object",{assign:n(112)})},function(e,t,n){"use strict";var r=n(16),o=n(40),i=n(28),a=n(26),s=n(50),c=Object.assign;e.exports=!c||n(15)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=a(e),c=arguments.length,u=1,f=o.f,l=i.f;c>u;)for(var p,d=s(arguments[u++]),h=f?r(d).concat(f(d)):r(d),v=h.length,y=0;v>y;)l.call(d,p=h[y++])&&(n[p]=d[p]);return n}:c},function(e,t,n){var r=n(5);r(r.S,"Object",{is:n(114)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(5);r(r.S,"Object",{setPrototypeOf:n(116).set})},function(e,t,n){var r=n(2),o=n(7),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(20)(Function.call,n(41).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(42),i=n(144),a=n(45),s=n(149),c=n(29),u=n(65),f=n(22),l=n(44),p=n(10).client,d=function(){function e(t){var n=this;if(this.clientConfig=null,this.eventDelegateRefs=l.cloneWithKeys(e.events),this.api=null,this.player=null,this.consumer=null,this.gaProperty="",this.playerIsFallback=!1,this.setup=function(e){n.assignConfigOpts(e)},this.setPlayer=function(e,t){void 0===t&&(t=!1);var r=n.clientConfig.storyId;n.playerIsFallback=t,n.player=e,e.setStoryId(r)},this.on=function(t,r){var o=n,i=o.clientConfig.storyId,a=o.eventDelegateRefs,s=o.eventDelegateRefs.ERROR;try{if(!l.isFunc(r))throw new f.ClientConfigurationError("invalidCallbackType",t);if(!l.keyExists(e.events,t))throw new f.ClientConfigurationError("invalidEventName",t);a[t]=r}catch(e){c.default.trapError(e,i,s)}},this.off=function(t){void 0===t&&(t="");var r=n,o=r.clientConfig.storyId,i=r.eventDelegateRefs,a=r.eventDelegateRefs.ERROR;try{if(t){if(!l.keyExists(e.events,t))throw new f.ClientConfigurationError("invalidEventName",t);i[t]=null}else Object.keys(e.events).forEach(function(e){i[e]=null})}catch(e){c.default.trapError(e,o,a)}},this.getExperience=function(t){var r=n,o=r.api,i=r.player,a=(r.gaProperty,r.clientConfig.storyId),s=r.eventDelegateRefs,u=s.GOT_EXPERIENCE,l=s.ERROR;try{if(!u&&!i)throw new f.ClientConfigurationError("eventNotConfigured",e.events.GOT_EXPERIENCE);o.getExperience(t).then(function(e){var t=e.id,r=e.output,o=e.rendering,s=e.moderation_status;if(Object.keys(r).length>0)i&&i.experienceGenerated(e),u&&u(e);else if("rejected"===s){var p=new f.ModerationError("rejection",t);c.default.trapError(p,a,l)}else n.renderExperience(t,o)}).catch(function(e){var n=new f.NetworkError("httpFailure",t,e);c.default.trapError(n,a,l)})}catch(e){c.default.trapError(e,a,l)}},this.createExperience=function(t,r){void 0===r&&(r=!0);var o=n,i=o.player,a=o.playerIsFallback,s=o.clientConfig.storyId,u=o.eventDelegateRefs,p=u.GOT_EXPERIENCE,d=u.EXPERIENCE_CREATED,h=u.STATUS_UPDATE,v=u.UPLOAD_PROGRESS,y=u.ERROR,g=r&&null!==i&&!a||l.isFunc(p),m=l.isFunc(d);try{if(!g&&!m){var E=null;throw d||(E=e.events.EXPERIENCE_CREATED),r&&!p&&(E=e.events.GOT_EXPERIENCE),new f.ClientConfigurationError("eventNotConfigured",E)}var b=n.api;h&&r&&h({status:"Adding job to queue..."}),b.postExperience(s,t,r,v).then(function(e){var t=n.clientConfig,o=(t.sceneId,t.actId,e.id),i=e.rendering;d&&d(e),r&&(h&&r&&h({status:"Added job to queue..."}),n.renderExperience(o,i))}).catch(function(e){var t=new f.NetworkError("httpFailure",null,e);c.default.trapError(t,s,y)})}catch(e){c.default.trapError(e,s,y)}},this.renderExperience=function(e,t){var r=n.consumer;r?r.kill().then(function(){n.makeConsumer(e,t)}):n.makeConsumer(e,t)},this.captureAnalytics=function(e){void 0===e&&(e=null);var t=n,r=t.clientConfig.storyId,o=t.eventDelegateRefs.ERROR;try{if(!(e instanceof HTMLVideoElement))throw new f.PlayerConfigurationError("invalidPlayerRef",null);n.setPlayer(new s.default(e),!0)}catch(e){c.default.trapError(e,r,o)}},this.assignConfigOpts=function(e){var t=p.defaultConfig,i=n.clientConfig||t;l.prepConfig(e,t),n.clientConfig=r({},i,e),n.api?n.api.configureClient(n.clientConfig.accessToken,n.clientConfig.environment):n.api=new o.default(n.clientConfig.accessToken,n.clientConfig.environment),n.getAnalyticsProperty()},this.getAnalyticsProperty=function(){var e=n,t=e.api,r=e.clientConfig.storyId,o=e.eventDelegateRefs.ERROR;t.getStory(r).then(function(e){var t=e.gaTrackingId;t&&(n.gaProperty=t,n.player&&n.player.setGaProperty(t),a.default.setup(),n.doPageView(),window.addEventListener("popstate",function(){return n.doPageView()}))}).catch(function(e){var t=new f.NetworkError("httpFailure",null,e);c.default.trapError(t,r,o)})},this.doPageView=function(){var e=n.gaProperty;a.default.send({prp:e,t:"pageview",dp:window.location.pathname})},this.startMessaging=function(e){var t=n,r=t.api,o=t.clientConfig.storyId,i=t.eventDelegateRefs,a=i.ERROR,s=i.STATUS_UPDATE;r.invokeStream(e).then(function(e){e&&s({status:"Added job to queue..."})}).catch(function(t){var n=new f.NetworkError("httpFailure",e,t);c.default.trapError(n,o,a)})},this.makeConsumer=function(e,t){var o=n,a=o.clientConfig,s=a.storyId,c=a.environment,u=o.eventDelegateRefs,f=o.player,l=r({start:t?null:function(e){return n.startMessaging(e)}},u);n.consumer=new i.default(c,s,e,l,f)},u.printVersion(),t.storyId&&t.accessToken)this.assignConfigOpts(t);else{if(!t.storyId)throw new f.ClientConfigurationError("storyId",null);if(!t.accessToken)throw new f.ClientConfigurationError("accessToken",null)}}return e.events={EXPERIENCE_CREATED:"EXPERIENCE_CREATED",UPLOAD_PROGRESS:"UPLOAD_PROGRESS",GOT_EXPERIENCE:"GOT_EXPERIENCE",STATUS_UPDATE:"STATUS_UPDATE",ERROR:"ERROR"},e}();t.default=d},function(e,t,n){e.exports=n(119)},function(e,t,n){"use strict";var r=n(3),o=n(60),i=n(121),a=n(43);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var c=s(a);c.Axios=i,c.create=function(e){return s(r.merge(a,e))},c.Cancel=n(64),c.CancelToken=n(136),c.isCancel=n(63),c.all=function(e){return Promise.all(e)},c.spread=n(137),e.exports=c,e.exports.default=c},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(43),o=n(3),i=n(131),a=n(132);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=s},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],f=!1,l=-1;function p(){f&&c&&(f=!1,c.length?u=c.concat(u):l=-1,u.length&&d())}function d(){if(!f){var e=s(p);f=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||f||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(62);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(3);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";var r=n(3),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(3);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,o=String(e),i="",a=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.charAt(0|a)||(s="=",a%1);i+=s.charAt(63&t>>8-a%1*8)){if((n=o.charCodeAt(a+=.75))>255)throw new r;t=t<<8|n}return i}},function(e,t,n){"use strict";var r=n(3);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(3);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(3),o=n(133),i=n(63),a=n(43),s=n(134),c=n(135);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return u(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(u(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(64);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=n(139);function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[n]))}catch(e){throw new o("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=o},function(e,t,n){var r=n(140);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(r(t).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}catch(e){return r(t)}}},function(e,t){function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,i=0,a=0,s="";o=t.charAt(a++);~o&&(r=i%4?64*r+o:o,i++%4)?s+=String.fromCharCode(255&r>>(-2*i&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return s}},function(e,t,n){e.exports=n(142).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNetworkError=i,t.isRetryableError=c,t.isSafeRequestError=u,t.isIdempotentRequestError=f,t.isNetworkOrIdempotentRequestError=l,t.exponentialDelay=d,t.default=v;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(143)),o="axios-retry";function i(e){return!e.response&&Boolean(e.code)&&"ECONNABORTED"!==e.code&&(0,r.default)(e)}var a=["get","head","options"],s=a.concat(["put","delete"]);function c(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}function u(e){return!!e.config&&c(e)&&-1!==a.indexOf(e.config.method)}function f(e){return!!e.config&&c(e)&&-1!==s.indexOf(e.config.method)}function l(e){return i(e)||f(e)}function p(){return 0}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=100*Math.pow(2,e);return t+.2*t*Math.random()}function h(e){var t=e[o]||{};return t.retryCount=t.retryCount||0,e[o]=t,t}function v(e,t){e.interceptors.request.use(function(e){return h(e).lastRequestTime=Date.now(),e}),e.interceptors.response.use(null,function(n){var r=n.config;if(!r)return Promise.reject(n);var i=function(e,t){return Object.assign({},t,e[o])}(r,t),a=i.retries,s=void 0===a?3:a,c=i.retryCondition,u=void 0===c?l:c,f=i.retryDelay,d=void 0===f?p:f,v=i.shouldResetTimeout,y=void 0!==v&&v,g=h(r);if(u(n)&&g.retryCount<s){g.retryCount+=1;var m=d(g.retryCount,n);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(e,r),!y&&r.timeout&&g.lastRequestTime){var E=Date.now()-g.lastRequestTime;r.timeout=Math.max(r.timeout-E-m,1)}return r.transformRequest=[function(e){return e}],new Promise(function(t){return setTimeout(function(){return t(e(r))},m)})}return Promise.reject(n)})}v.isNetworkError=i,v.isSafeRequestError=u,v.isIdempotentRequestError=f,v.isNetworkOrIdempotentRequestError=l,v.exponentialDelay=d,v.isRetryableError=c},function(e,t,n){"use strict";var r=["ETIMEDOUT","ECONNRESET","EADDRINUSE","ESOCKETTIMEDOUT","ECONNREFUSED","EPIPE"],o=["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED"];e.exports=function(e){return!e||!e.code||-1!==r.indexOf(e.code)||-1===o.indexOf(e.code)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(145),o=n(29),i=n(22),a=n(10).messageConsumer,s=function(){function e(t,n,s,c,u){var f=this;this.stompDelegates={start:function(){return f.startConsuming()},route:function(e){return f.routeMessageData(e)},error:function(e){return f.stompError(e)}},this.env="",this.storyId="",this.experienceId=null,this.clientDelegates=null,this.stomp=null,this.retried=a.minReconnects,this.kill=function(){var e=f.stomp;return new Promise(function(t){e.disconnectAsync().then(function(){t()})})},this.establishConnection=function(){var e=f,t=e.experienceId,n=e.env,o=e.stompDelegates;f.stomp=new r.default(t,o,n)},this.startConsuming=function(){var e=f,t=e.experienceId,n=e.clientDelegates.start;n&&n(t)},this.routeMessageData=function(t){var n=e.EVENT_NAMES,r=n.scene,a=n.message,s=n.complete,c=f,u=c.stomp,l=c.storyId,p=c.experienceId,d=c.clientDelegates.ERROR;try{var h=JSON.parse(t.body);switch(h.event){case s:u.disconnectAsync().then(function(){});break;case a:f.emitMessageData(h);break;case r:f.emitSceneData(h)}}catch(e){var v=new i.NetworkError("messageParseFailed",p,e);o.default.trapError(v,l,d)}},this.emitMessageData=function(e){var t=f,n=t.storyId,r=t.clientDelegates,s=r.STATUS_UPDATE,c=r.ERROR,u=e.status,l=e.id;try{if(u===a.errorOverTcp)throw new i.NetworkError("errorOverTcp",l,null);s&&s(e)}catch(e){o.default.trapError(e,n,c)}},this.emitSceneData=function(e){var t=f,n=t.player,r=t.storyId,a=t.clientDelegates,s=a.GOT_EXPERIENCE,c=a.ERROR,u=e.id;if("rejected"===e.moderation_status){var l=new i.ModerationError("rejection",u);o.default.trapError(l,r,c)}else n&&n.experienceGenerated(e),s&&s(e)},this.stompError=function(t){var n=f,r=n.retried,a=n.storyId,s=n.experienceId,c=n.stomp,u=n.clientDelegates.ERROR;if(!t.wasClean)if(++f.retried,r<e.MAX_RETRIES)o.default.logWarning("network","tcpFailure"),c.disconnectAsync().then(function(){f.establishConnection()});else{var l=new i.NetworkError("tcpFailure",s,t);o.default.trapError(l,a,u)}},this.env=t,this.storyId=n,this.experienceId=s,this.clientDelegates=c,u&&(this.player=u),this.establishConnection()}return e.MAX_RETRIES=a.maxReconnects,e.EVENT_NAMES={scene:"gotScene",message:"gotMessage",complete:"actComplete"},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(146),o=n(10).stomp,i=function(){function e(t,n,i){var a=this;this.endpoint="",this.socket=null,this.client=null,this.subscription=null,this.disconnectAsync=function(){var e=a,t=e.client,n=e.client.connected,r=e.subscription;return new Promise(function(e){n?(r.unsubscribe(),t.disconnect(function(){e()})):e()})},this.init=function(){var t=e.username,n=e.password,o=a,i=o.endpoint,s=o.delegates.error;a.socket=new WebSocket(i),a.client=r.over(a.socket),a.client.debug=function(){},a.client.connect(t,n,function(){return a.establishSubscription()},s)},this.establishSubscription=function(){var t=e.exchange,n=a,r=n.experienceId,o=n.client,i=n.delegates,s=i.start,c=i.route;a.subscription=o.subscribe(""+t+r,c),s()},this.experienceId=t,this.delegates=n,this.endpoint=o[i],this.init()}return e.exchange=o.exchange,e.username=o.username,e.password=o.password,e}();t.default=i},function(e,t,n){e.exports=function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r={V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.2,1.1,1.0"},supportedProtocols:function(){return["v10.stomp","v11.stomp","v12.stomp"]}},o={"v10.stomp":r.V1_0,"v11.stomp":r.V1_1,"v12.stomp":r.V1_2},i="\n",a="\0",s=function(e){return e.replace(/^\s+|\s+$/g,"")};function c(){return(new Date).getTime()+"-"+Math.floor(1e3*Math.random())}var u=function(){function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e(this,n),this.command=t,this.headers=r,this.body=o}return t(n,[{key:"toString",value:function(){var e=this,t=[this.command],n=!1===this.headers["content-length"];return n&&delete this.headers["content-length"],Object.keys(this.headers).forEach(function(n){var r=e.headers[n];t.push(n+":"+r)}),this.body&&!n&&t.push("content-length:"+function(e){return e?encodeURIComponent(e).match(/%..|./g).length:0}(this.body)),t.push(i+this.body),t.join(i)}}],[{key:"unmarshallSingle",value:function(e){var t=e.search(new RegExp(i+i)),r=e.substring(0,t).split(i),o=r.shift(),c={},u="",f=t+2,l=!0,p=!1,d=void 0;try{for(var h,v=r.reverse()[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){var y=h.value,g=y.indexOf(":");c[s(y.substring(0,g))]=s(y.substring(g+1))}}catch(e){p=!0,d=e}finally{try{!l&&v.return&&v.return()}finally{if(p)throw d}}if(c["content-length"]){var m=parseInt(c["content-length"],10);u=(""+e).substring(f,f+m)}else for(var E=null,b=f;b<e.length&&(E=e.charAt(b))!==a;b++)u+=E;return new n(o,c,u)}},{key:"unmarshall",value:function(e){var t=e.split(new RegExp(a+i+"*")),r=t.slice(0,-1),o=t.slice(-1)[0],s={frames:r.map(function(e){return n.unmarshallSingle(e)}),partial:""};return o===i||-1!==o.search(RegExp(a+i+"*$"))?s.frames.push(n.unmarshallSingle(o)):s.partial=o,s}},{key:"marshall",value:function(e,t,r){return new n(e,t,r).toString()+a}}]),n}(),f=function(){function a(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,a);var r=n.binary,o=void 0!==r&&r,i=n.heartbeat,s=void 0===i?{outgoing:1e4,incoming:1e4}:i,c=n.debug,u=void 0===c||c,f=n.protocols,l=void 0===f?[]:f;this.ws=t,this.ws.binaryType="arraybuffer",this.isBinary=!!o,this.hasDebug=!!u,this.connected=!1,this.heartbeat=s||{outgoing:0,incoming:0},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData="",this.protocols=l}return t(a,[{key:"debug",value:function(){var e;this.hasDebug&&(e=console).log.apply(e,arguments)}},{key:"connect",value:function(){var e=this,t=this._parseConnect.apply(this,arguments),a=n(t,3),s=a[0],c=a[1],f=a[2];this.connectCallback=c,this.debug("Opening Web Socket..."),this.ws.onmessage=function(t){var n=t.data;if(t.data instanceof ArrayBuffer&&(n=function(e){var t=String.fromCharCode.apply(String,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e)).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n});return decodeURIComponent(t)}(new Uint8Array(t.data))),e.serverActivity=Date.now(),n!==i){e.debug("<<< "+n);var o=u.unmarshall(e.partialData+n);e.partialData=o.partial,o.frames.forEach(function(t){switch(t.command){case"CONNECTED":e.debug("connected to server "+t.headers.server),e.connected=!0,e.version=t.headers.version,e._setupHeartbeat(t.headers),c&&c(t);break;case"MESSAGE":var n=t.headers.subscription,o=e.subscriptions[n]||e.onreceive;if(o){var i=e.version===r.V1_2&&t.headers.ack||t.headers["message-id"];t.ack=e.ack.bind(e,i,n),t.nack=e.nack.bind(e,i,n),o(t)}else e.debug("Unhandled received MESSAGE: "+t);break;case"RECEIPT":e.onreceipt&&e.onreceipt(t);break;case"ERROR":f&&f(t);break;default:e.debug("Unhandled frame: "+t)}})}else e.debug("<<< PONG")},this.ws.onclose=function(t){e.debug("Whoops! Lost connection to "+e.ws.url+":",{event:t}),e._cleanUp(),f&&f(t)},this.ws.onopen=function(){e.debug("Web Socket Opened..."),s["accept-version"]=function(e,t){var n=o[e];return!n&&t&&t("DEPRECATED: "+e+" is not a recognized STOMP version. In next major client version, this will close the connection."),n||r.V1_2}(e.ws.protocol||e.protocols[0],e.debug.bind(e)),s["heart-beat"]||(s["heart-beat"]=[e.heartbeat.outgoing,e.heartbeat.incoming].join(",")),e._transmit("CONNECT",s)},this.ws.readyState===this.ws.OPEN&&this.ws.onopen()}},{key:"disconnect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._transmit("DISCONNECT",t),this.ws.onclose=null,this.ws.close(),this._cleanUp(),e&&e()}},{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n);r.destination=e,this._transmit("SEND",r,t)}},{key:"begin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tx-"+c();return this._transmit("BEGIN",{transaction:e}),{id:e,commit:this.commit.bind(this,e),abort:this.abort.bind(this,e)}}},{key:"commit",value:function(e){this._transmit("COMMIT",{transaction:e})}},{key:"abort",value:function(e){this._transmit("ABORT",{transaction:e})}},{key:"ack",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.assign({},n);o[this.version===r.V1_2?"id":"message-id"]=e,o.subscription=t,this._transmit("ACK",o)}},{key:"nack",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.assign({},n);o[this.version===r.V1_2?"id":"message-id"]=e,o.subscription=t,this._transmit("NACK",o)}},{key:"subscribe",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n);return r.id||(r.id="sub-"+c()),r.destination=e,this.subscriptions[r.id]=t,this._transmit("SUBSCRIBE",r),{id:r.id,unsubscribe:this.unsubscribe.bind(this,r.id)}}},{key:"unsubscribe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t);delete this.subscriptions[e],n.id=e,this._transmit("UNSUBSCRIBE",n)}},{key:"_cleanUp",value:function(){this.connected=!1,clearInterval(this.pinger),clearInterval(this.ponger)}},{key:"_transmit",value:function(e,t,n){var r=u.marshall(e,t,n);this.debug(">>> "+r,{frame:{command:e,headers:t,body:n}}),this._wsSend(r)}},{key:"_wsSend",value:function(e){for(this.isBinary&&(e=function(e){var t=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}),n=Array.prototype.map.call(t,function(e){return e.charCodeAt(0)});return new Uint8Array(n)}(e)),this.debug(">>> length "+e.length);;){if(!(e.length>this.maxWebSocketFrameSize))return this.ws.send(e);this.ws.send(e.slice(0,this.maxWebSocketFrameSize)),e=e.slice(this.maxWebSocketFrameSize),this.debug("remaining = "+e.length)}}},{key:"_setupHeartbeat",value:function(e){var t=this;if(this.version===r.V1_1||this.version===r.V1_2){var o=(e["heart-beat"]||"0,0").split(",").map(function(e){return parseInt(e,10)}),a=n(o,2),s=a[0],c=a[1];if(0!==this.heartbeat.outgoing&&0!==c){var u=Math.max(this.heartbeat.outgoing,c);this.debug("send PING every "+u+"ms"),this.pinger=setInterval(function(){t._wsSend(i),t.debug(">>> PING")},u)}if(0!==this.heartbeat.incoming&&0!==s){var f=Math.max(this.heartbeat.incoming,s);this.debug("check PONG every "+f+"ms"),this.ponger=setInterval(function(){var e=Date.now()-t.serverActivity;e>2*f&&(t.debug("did not receive server activity for the last "+e+"ms"),t.ws.close())},f)}}}},{key:"_parseConnect",value:function(){for(var e={},t=void 0,n=void 0,r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];switch(o.length){case 2:e=o[0],t=o[1];break;case 3:o[1]instanceof Function?(e=o[0],t=o[1],n=o[2]):(e.login=o[0],e.passcode=o[1],t=o[2]);break;case 4:e.login=o[0],e.passcode=o[1],t=o[2],n=o[3];break;default:e.login=o[0],e.passcode=o[1],t=o[2],n=o[3],e.host=o[4]}return[e,t,n]}}]),a}();return{Frame:u,VERSIONS:r,client:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new WebSocket(e,t.protocols||r.supportedProtocols());return new f(n,t)},over:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new(Function.prototype.bind.apply(f,[null].concat(t)))}}}()},function(e){e.exports={environment:{node:"Sorry, this feature is incompatible with NodeJS"},moderation:{rejection:"This experience was rejected."},clientConfiguration:{storyId:"No storyId was set in your Imposium configuration.",accessToken:"No accessToken was set in your Imposium configuration.",invalidEventName:"Invalid client event name.",invalidCallbackType:"The callback reference set for this client event is not of type function.",eventNotConfigured:"You cannot invoke this client event without a callback set."},playerConfiguration:{noClient:"You must provide an Imposium client reference to the player.",invalidPlayerRef:"No reference to an HTML5 video element was detected.",invalidEventName:"Invalid player event name.",invalidCallbackType:"The callback reference set for this player event is not of type function.",eventNotConfigured:"You cannot invoke this player event without a callback set.",badQualityOverride:"The quality specified does not exist for this experience."},network:{httpFailure:"Unable to process request to the Imposium API.",tcpFailure:"Unable to reach Imposium while processing this experience.",errorOverTcp:"Something went wrong while processing this experience.",messageParseFailure:"Message data from Imposium was malformed."},uncaught:{generic:"Something unexpected went wrong."}}},function(e){e.exports={client:{nodeAnalytics:"Sorry, analytics are not currently available in NodeJS."},network:{tcpFailure:"Unable to reach Imposium while processing this experience, retrying..."},playerFailure:{seekNotReady:"Seek can't be called until the video metadata has loaded, please try again shortly.",invalidSeekTime:"Could not seek to time outside of current video duration.",invalidVolume:"Could not set volume outside of range (double) 0.0 - 1.0."},analytics:{requestFailed:"Failed to record Imposium metric."}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this,t)||this;return n.experienceGenerated=function(e){var t=e.id;n.setExperienceId(t)},n}return r(t,e),t}(n(66).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this;this.enqueue=function(t){e.q.push(t)},this.pop=function(){e.q.splice(0,1)},this.reset=function(){e.q=[]},this.peek=function(){return e.q[0]},this.isEmpty=function(){return 0===e.q.length},this.getLength=function(){return e.q.length},this.q=[]};t.default=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),a=n(66),s=n(29),c=n(22),u=n(44),f=n(10).videoPlayer,l=window.hls,p=function(e){function t(n,r,a){void 0===a&&(a=f.defaultConfig);var p=e.call(this,n)||this;p.eventDelegateRefs={play:{callback:null,native:!0},pause:{callback:null,native:!0},ended:{callback:null,native:!0},error:{callback:null,native:!0},seeked:{callback:null,native:!0},timeupdate:{callback:null,native:!0},volumechanged:{callback:null,native:!0},muted:{callback:null,native:!1},controlsset:{callback:null,native:!1}},p.hlsSupport="",p.hlsPlayer=null,p.experienceCache=[],p.clientRef=null,p.imposiumPlayerConfig=null,p.init=function(e){var t=f.defaultConfig;for(var n in u.prepConfig(e,t),p.imposiumPlayerConfig=o({},t,e),p.imposiumPlayerConfig)p.imposiumPlayerConfig[n]&&(p.node[n]=p.imposiumPlayerConfig[n])},p.experienceGenerated=function(e){p.experienceCache;var t=p.imposiumPlayerConfig.qualityOverride,n=e.id,r=e.output,o=r.videos,i=r.images,a="";p.setExperienceId(n),i&&i.hasOwnProperty("poster")&&(a=i.poster),t?p.doQualityOverride(o,a):p.doQualityAssessment(o,a)},p.on=function(e,n){var r=p,o=r.storyId,i=r.eventDelegateRefs;try{if(!u.isFunc(n))throw new c.PlayerConfigurationError("invalidCallbackType",e);if(!u.keyExists(t.events,e))throw new c.PlayerConfigurationError("invalidEventName",e);var a=i[e];a.callback=n,a.native&&p.node.addEventListener(e,a.callback)}catch(e){s.default.trapError(e,o)}},p.off=function(e){var n=p,r=n.storyId,o=n.eventDelegateRefs;try{if(!u.keyExists(t.events,e))throw new c.PlayerConfigurationError("invalidEventName",e);var i=o[e];i.native&&p.node.removeEventListener(e,i.callback),i.callback=null}catch(e){s.default.trapError(e,r)}},p.play=function(){p.node.play()},p.pause=function(){p.node.pause()},p.getPlaybackState=function(){return p.node.paused?"paused":"playing"},p.getPosition=function(){return p.node.currentTime},p.getDuration=function(){return p.node.duration},p.seek=function(e){var t=p.node.duration;isNaN(t)?s.default.logWarning("playerFailure","seekNotReady"):(e=Math.floor(e),u.inRangeNumeric(e,0,t)?p.node.currentTime=e:s.default.logWarning("playerFailure","invalidSeekTime"))},p.getMute=function(){return p.node.muted},p.setMute=function(e){var t=p.eventDelegateRefs.muted.callback;p.node.muted=e,t&&t()},p.getVolume=function(){return p.node.volume},p.setVolume=function(e){var t=f.volumeMin,n=f.volumeMax;e=Math.round(10*e)/10,u.inRangeNumeric(e,t,n)?p.node.volume=e:s.default.logWarning("playerFailure","invalidVolume")},p.getControls=function(){return p.node.controls},p.setControls=function(e){var t=p.eventDelegateRefs.controlsset;p.node.controls=e,t&&t.callback()},p.replay=function(){p.pauseIfPlaying(),p.node.currentTime=0,p.node.play()},p.remove=function(){var e=p.eventDelegateRefs,t=f.defaultConfig;p.pauseIfPlaying();for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];p.off(e[i])}p.imposiumPlayerConfig=o({},t),p.node=null},p.setupHls=function(){var e=t.hlsSupportLevels,n=e.NATIVE,r=e.HLSJS;p.node.canPlayType(t.STREAM_TYPE)?p.hlsSupport=n:void 0!==l&&l.isSupported()&&(p.hlsSupport=r)},p.doQualityOverride=function(e,t){var n=p.storyId,r=p.imposiumPlayerConfig.qualityOverride;try{if(!e.hasOwnProperty(r))throw new c.PlayerConfigurationError("badQualityOverride",null);p.setPlayerData(e[r].url,!0,t)}catch(e){s.default.trapError(e,n)}},p.doQualityAssessment=function(e,n){var r=p.hlsSupport,o=t.compressionLevels.STREAM;if(e.hasOwnProperty(o)&&r)p.setPlayerData(e[o].url,!0,n);else{var i=Object.keys(e);1===i.length?p.setPlayerData(e[i[0]].url,!1,n):p.checkBandwidth(e).then(function(t){p.setPlayerData(e[t].url,!1,n)}).catch(function(t){p.setPlayerData(e[t].url,!1,n)})}},p.checkBandwidth=function(e){t.bandwidthRatings,t.compressionLevels;for(var n=t.BANDWIDTH_SAMPLES,r=[],o=0;o<n;o++)r.push(i.default.checkBandwidth());return new Promise(function(t,n){Promise.all(r).then(function(n){var r=u.calculateAverageMbps(n),o={};Object.keys(e).forEach(function(t){if("m3u8"!==t){var n=e[t],r=n.width,i=n.height;o[r*i/1e5]=t}});var i=Object.keys(o).map(function(e){return parseFloat(e)}).reduce(function(e,t){return Math.abs(e-r)<Math.abs(t-r)?e:t});t(o[i])}).catch(function(t){n(Object.keys(e).slice(-1).pop())})})},p.setPlayerData=function(e,n,r){void 0===r&&(r=null);var o=p.hlsSupport,i=t.hlsSupportLevels.HLSJS;n&&o===i?(p.hlsPlayer&&p.hlsPlayer.destroy(),p.hlsPlayer=new l,p.hlsPlayer.attachMedia(p.node),p.hlsPlayer.loadSource(e)):p.node.src=e,r&&(p.node.poster=r)},p.pauseIfPlaying=function(){p.node.paused||p.node.pause()};try{if(!(n instanceof HTMLVideoElement))throw new c.PlayerConfigurationError("invalidPlayerRef",null);if(!r)throw new c.PlayerConfigurationError("noClient",null);r.setPlayer(p),p.init(a),p.setupHls()}catch(e){s.default.trapError(e,r.clientConfig.storyId)}return p}return r(t,e),t.events={PLAY:"play",PAUSE:"pause",COMPLETE:"ended",ERROR:"error",SEEK:"seeked",TIME:"timeupdate",VOLUME:"volumechange",MUTE:"muted",CONTROLS:"controlsset"},t.STREAM_TYPE=f.streamType,t.BANDWIDTH_SAMPLES=f.bandwidthSamples,t.bandwidthRatings={LOW:f.bandwidth.low,MID:f.bandwidth.mid},t.compressionLevels={STREAM:f.compression.stream,LOW:f.compression.low,MID:f.compression.mid,HIGH:f.compression.high},t.hlsSupportLevels={NATIVE:f.hlsSupportLevels.native,HLSJS:f.hlsSupportLevels.hlsjs},t}(a.default);t.default=p}]); 