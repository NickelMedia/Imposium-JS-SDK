!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Imposium",[],e):"object"==typeof exports?exports.Imposium=e():t.Imposium=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=16)}([function(t,e,n){var r=n(1),o=n(7);t.exports=function(t){return function e(n,i){switch(arguments.length){case 0:return e;case 1:return o(n)?e:r(function(e){return t(n,e)});default:return o(n)&&o(i)?e:o(n)?r(function(e){return t(e,i)}):o(i)?r(function(e){return t(n,e)}):t(n,i)}}}},function(t,e,n){var r=n(7);t.exports=function(t){return function e(n){return 0===arguments.length||r(n)?e:t.apply(this,arguments)}}},function(t,e,n){"use strict";function r(t){return"[object Array]"===O.call(t)}function o(t){return"[object ArrayBuffer]"===O.call(t)}function i(t){return"undefined"!=typeof FormData&&t instanceof FormData}function u(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function s(t){return"string"==typeof t}function a(t){return"number"==typeof t}function c(t){return void 0===t}function f(t){return null!==t&&"object"==typeof t}function l(t){return"[object Date]"===O.call(t)}function p(t){return"[object File]"===O.call(t)}function h(t){return"[object Blob]"===O.call(t)}function d(t){return"[object Function]"===O.call(t)}function y(t){return f(t)&&d(t.pipe)}function v(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function g(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function m(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function b(t,e){if(null!==t&&void 0!==t)if("object"==typeof t||r(t)||(t=[t]),r(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function x(){function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=x(e[n],t):e[n]=t}for(var e={},n=0,r=arguments.length;n<r;n++)b(arguments[n],t);return e}function E(t,e,n){return b(e,function(e,r){t[r]=n&&"function"==typeof e?w(e,n):e}),t}var w=n(25),R=n(82),O=Object.prototype.toString;t.exports={isArray:r,isArrayBuffer:o,isBuffer:R,isFormData:i,isArrayBufferView:u,isString:s,isNumber:a,isObject:f,isUndefined:c,isDate:l,isFile:p,isBlob:h,isFunction:d,isStream:y,isURLSearchParams:v,isStandardBrowserEnv:m,forEach:b,merge:x,extend:E,trim:g}},function(t,e){t.exports=function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,o){return e.apply(this,arguments)};case 5:return function(t,n,r,o,i){return e.apply(this,arguments)};case 6:return function(t,n,r,o,i,u){return e.apply(this,arguments)};case 7:return function(t,n,r,o,i,u,s){return e.apply(this,arguments)};case 8:return function(t,n,r,o,i,u,s,a){return e.apply(this,arguments)};case 9:return function(t,n,r,o,i,u,s,a,c){return e.apply(this,arguments)};case 10:return function(t,n,r,o,i,u,s,a,c,f){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,e,n){var r=n(1),o=n(0),i=n(7);t.exports=function(t){return function e(n,u,s){switch(arguments.length){case 0:return e;case 1:return i(n)?e:o(function(e,r){return t(n,e,r)});case 2:return i(n)&&i(u)?e:i(n)?o(function(e,n){return t(e,u,n)}):i(u)?o(function(e,r){return t(n,e,r)}):r(function(e){return t(n,u,e)});default:return i(n)&&i(u)&&i(s)?e:i(n)&&i(u)?o(function(e,n){return t(e,n,s)}):i(n)&&i(s)?o(function(e,n){return t(e,u,n)}):i(u)&&i(s)?o(function(e,r){return t(n,e,r)}):i(n)?r(function(e){return t(e,u,s)}):i(u)?r(function(e){return t(n,e,s)}):i(s)?r(function(e){return t(n,u,e)}):t(n,u,s)}}}},function(t,e){t.exports=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)}},function(t,e,n){var r=n(3),o=n(1),i=n(0),u=n(46);t.exports=i(function(t,e){return 1===t?o(e):r(t,u(t,[],e))})},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}},function(t,e,n){var r=n(35),o=n(36),i=n(37);t.exports=function(){function t(t,e,n){for(var r=0,o=n.length;r<o;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}function e(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function n(t,e,n,r){return t["@@transducer/result"](n[r](i(t["@@transducer/step"],t),e))}var u="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";return function(i,s,a){if("function"==typeof i&&(i=o(i)),r(a))return t(i,s,a);if("function"==typeof a["fantasy-land/reduce"])return n(i,s,a,"fantasy-land/reduce");if(null!=a[u])return e(i,s,a[u]());if("function"==typeof a.next)return e(i,s,a);if("function"==typeof a.reduce)return n(i,s,a,"reduce");throw new TypeError("reduce: list must be array or iterable")}}()},function(t,e){t.exports=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(0),o=n(54),i=n(56),u=n(8),s=n(57),a=n(6),c=n(13);t.exports=r(o(["fantasy-land/map","map"],s,function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return a(e.length,function(){return t.call(this,e.apply(this,arguments))});case"[object Object]":return u(function(n,r){return n[r]=t(e[r]),n},{},c(e));default:return i(t,e)}}))},function(t,e,n){var r=n(4),o=n(8);t.exports=r(o)},function(t,e,n){var r=n(9);t.exports=function(t,e){return function(){var n=arguments.length;if(0===n)return e();var o=arguments[n-1];return r(o)||"function"!=typeof o[t]?e.apply(this,arguments):o[t].apply(o,Array.prototype.slice.call(arguments,0,n-1))}}},function(t,e,n){var r=n(1),o=n(5),i=n(19);t.exports=function(){var t=!{toString:null}.propertyIsEnumerable("toString"),e=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],n=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),u=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1};return r("function"!=typeof Object.keys||n?function(r){if(Object(r)!==r)return[];var s,a,c=[],f=n&&i(r);for(s in r)!o(s,r)||f&&"length"===s||(c[c.length]=s);if(t)for(a=e.length-1;a>=0;)s=e[a],o(s,r)&&!u(c,s)&&(c[c.length]=s),a-=1;return c}:function(t){return Object(t)!==t?[]:Object.keys(t)})}()},function(t,e,n){"use strict";(function(e){function r(t,e){!o.isUndefined(t)&&o.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var o=n(2),i=n(85),u={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(26):void 0!==e&&(t=n(26)),t}(),transformRequest:[function(t,e){return i(e,"Content-Type"),o.isFormData(t)||o.isArrayBuffer(t)||o.isBuffer(t)||o.isStream(t)||o.isFile(t)||o.isBlob(t)?t:o.isArrayBufferView(t)?t.buffer:o.isURLSearchParams(t)?(r(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):o.isObject(t)?(r(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(t){s.headers[t]={}}),o.forEach(["post","put","patch"],function(t){s.headers[t]=o.merge(u)}),t.exports=s}).call(e,n(84))},function(t,e,n){"use strict";var r=n(108)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(30),o=n(100),i=n(116),u=function(){function t(){}return t.STATUS="imposium_status_update",t}();e.events=u;var s=function(){function t(e,n){void 0===n&&(n=null),o(this),this.token=e,n&&this.copy(t.config,n),this.api=r.create({baseURL:t.config.url,headers:this.getHeaders()})}return t.prototype.copy=function(t,e){for(var n in e)e.hasOwnProperty(n)&&("object"==typeof e[n]?(this.copy(t[n],e[n]),t[n]=e[n]):t[n]=e[n])},t.prototype.getHeaders=function(){return"jwt"===t.config.auth.toLowerCase()?{Authorization:"Bearer "+this.token}:{"X-Imposium-Access-Key":this.token}},t.prototype.getStory=function(t,e,n){this.api.get("/story/"+t).then(function(t){t.ok?e(t.data):n(t)}).catch(function(t){n(t)})},t.prototype.getExperience=function(t,e,n){this.api.get("/experience/"+t).then(function(t){t.ok?e(t.data):n(t)}).catch(function(t){n(t)})},t.prototype.createExperience=function(t,e,n,r,o,i){void 0===i&&(i=null);var u=this.formatData(t,e,o),s=i?{onUploadProgress:function(t){return i(t)}}:{};this.api.post("/experience",u,s).then(function(t){t.ok?r(t.data):o(t)}).catch(function(t){o(t)})},t.prototype.formatData=function(t,e,n){var r=new FormData;r.append("story_id",t);for(var o in e){var i=e[o];i&&"file"===i.type?i.files.length>0&&(e[o]="",r.append(o,i.files[0])):(i&&i instanceof Blob||i instanceof File)&&(e[o]="",r.append(o,i,"inventory.png"))}for(var u in e)r.append("inventory["+u+"]",e[u]);return r},t.prototype.getVideo=function(e,n,r){var o={expId:e.expId,actId:e.actId,onSuccess:n,onError:r},u=t.config.stompConfig;this.messageConsumer?(this.messageConsumer.setJob(o),this.messageConsumer.setContext(this),this.messageConsumer.reconnect(u)):this.messageConsumer=new i.MessageConsumer(o,u,this,this.api)},t.config={url:"https://api.imposium.com",auth:"basic",stompConfig:{stompEndpoint:"wss://stomp.prod.k8s.nickel.media/ws",user:"imposium_stomp",password:"Teehe1ceeMe7Pe1d",exchangeRoute:"/exchange/imposium/",onMessage:void 0,onError:void 0}},t}();e.ImposiumClient=s},function(t,e){t.exports=function(t,e){t=t||[],e=e||[];var n,r=t.length,o=e.length,i=[];for(n=0;n<r;)i[i.length]=t[n],n+=1;for(n=0;n<o;)i[i.length]=e[n],n+=1;return i}},function(t,e){t.exports=function(t){return"[object String]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(5);t.exports=function(){var t=Object.prototype.toString;return"[object Arguments]"===t.call(arguments)?function(e){return"[object Arguments]"===t.call(e)}:function(t){return r("callee",t)}}()},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return e[t]})},function(t,e,n){var r=n(1);t.exports=r(function(t){return function(){return t}})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return null!=e&&e.constructor===t||e instanceof t})},function(t,e,n){var r=n(0),o=n(63);t.exports=r(function(t,e){return o(t,e,[],[])})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return e>t?e:t})},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(2),o=n(86),i=n(88),u=n(89),s=n(90),a=n(27),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(91);t.exports=function(t){return new Promise(function(e,f){var l=t.data,p=t.headers;r.isFormData(l)&&delete p["Content-Type"];var h=new XMLHttpRequest,d="onreadystatechange",y=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in h||s(t.url)||(h=new window.XDomainRequest,d="onload",y=!0,h.onprogress=function(){},h.ontimeout=function(){}),t.auth){var v=t.auth.username||"",g=t.auth.password||"";p.Authorization="Basic "+c(v+":"+g)}if(h.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h[d]=function(){if(h&&(4===h.readyState||y)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?u(h.getAllResponseHeaders()):null,r=t.responseType&&"text"!==t.responseType?h.response:h.responseText,i={data:r,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:n,config:t,request:h};o(e,f,i),h=null}},h.onerror=function(){f(a("Network Error",t,null,h)),h=null},h.ontimeout=function(){f(a("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var m=n(92),b=(t.withCredentials||s(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;b&&(p[t.xsrfHeaderName]=b)}if("setRequestHeader"in h&&r.forEach(p,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete p[e]:h.setRequestHeader(e,t)}),t.withCredentials&&(h.withCredentials=!0),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){h&&(h.abort(),f(t),h=null)}),void 0===l&&(l=null),h.send(l)})}},function(t,e,n){"use strict";var r=n(87);t.exports=function(t,e,n,o,i){var u=new Error(t);return r(u,e,n,o,i)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(31)),i=r(n(33)),u=r(n(13)),s=r(n(40)),a=r(n(41)),c=r(n(42)),f=r(n(20)),l=r(n(21)),p=r(n(45)),h=r(n(47)),d=r(n(48)),y=r(n(49)),v=r(n(50)),g=r(n(60)),m=r(n(68)),b=r(n(70)),x=r(n(73)),E=r(n(74)),w=r(n(75)),R=r(n(22)),O=r(n(76)),S=r(n(78)),_=r(n(79)),j=r(n(80)),T=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},C=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,s)}a((r=r.apply(t,e||[])).next())})},N=function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(u=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(i,n[1])).done)return u;switch(i=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],i=0}finally{o=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},k=_([[S,O],[R(Number),O],[w,function(t){return Number(t)}]]),A=E(function(t,e,n){var r=R(Number);return r(t)&&r(e)&&r(n)&&x(n,t)&&x(e,n)}),U=function(t){return function(e){return b(e,t)}},I=m([S,g,v(y("baseURL")),v(d(String,"baseURL")),h(g,"baseURL")]),L=function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then},B={Accept:"application/json","Content-Type":"application/json"},P={timeout:0},F=["ECONNABORTED"],M=["ENOTFOUND","ECONNREFUSED","ECONNRESET"],D=A(200,299),q=A(400,499),V=A(500,599),W=p(S,l(void 0),f("status")),z=function(t){if(I(t))throw new Error("config must have a baseURL");var e=c(B,t.headers||{}),n=c(P,a("headers",t)),r=j.create(n),f=[],p=[],h=[],d=[],y=function(t,n){return e[t]=n,r},v=function(t,e,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),m(c({url:e,params:n,method:t},r))},g=function(t,e,n,r){return void 0===n&&(n=null),void 0===r&&(r={}),m(c({url:e,method:t,data:n},r))},m=function(t){return C(void 0,void 0,void 0,function(){var n,o,u;return N(this,function(a){switch(a.label){case 0:if(t.headers=T({},e,t.headers),p.length>0&&s(function(e){return e(t)},p),!(h.length>0))return[3,6];n=0,a.label=1;case 1:return n<h.length?(o=h[n](t),L(o)?[4,o]:[3,3]):[3,6];case 2:return a.sent(),[3,5];case 3:return[4,o(t)];case 4:a.sent(),a.label=5;case 5:return n++,[3,1];case 6:return u=i(x(k(new Date)),b),[2,r.request(t).then(u).catch(u)]}})})},b=function(t){return f.forEach(function(e){try{e(t)}catch(t){}}),t},x=E(function(t,e){var n=k(new Date)-t,r=e instanceof Error||j.isCancel(e),o=e,i=e,u=r?i.response:o,a=u&&u.status||null,c=r?R(e):O(a),f=D(a),l=e.config||null,p={duration:n,problem:c,ok:f,status:a,headers:u&&u.headers||null,config:l,data:u&&u.data||null};return d.length>0&&s(function(t){return t(p)},d),p}),R=function(t){return"Network Error"===t.message?"NETWORK_ERROR":j.isCancel(t)?"CANCEL_ERROR":_([[S,function(){return O(W(t.response))}],[U(F),l("TIMEOUT_ERROR")],[U(M),l("CONNECTION_ERROR")],[w,l("UNKNOWN_ERROR")]])(t.code)},O=function(t){return _([[S,l("UNKNOWN_ERROR")],[D,l(null)],[q,l("CLIENT_ERROR")],[V,l("SERVER_ERROR")],[w,l("UNKNOWN_ERROR")]])(t)};return{axiosInstance:r,monitors:f,addMonitor:function(t){f.push(t)},requestTransforms:p,asyncRequestTransforms:h,responseTransforms:d,addRequestTransform:function(t){return p.push(t)},addAsyncRequestTransform:function(t){return h.push(t)},addResponseTransform:function(t){return d.push(t)},setHeader:y,setHeaders:function(t){return s(function(e){return y(e,t[e])},u(t)),r},deleteHeader:function(t){return delete e[t],r},headers:e,setBaseURL:function(t){return r.defaults.baseURL=t,r},getBaseURL:function(){return r.defaults.baseURL},get:o(v,["get"]),delete:o(v,["delete"]),head:o(v,["head"]),post:o(g,["post"]),put:o(g,["put"]),patch:o(g,["patch"]),link:o(v,["link"]),unlink:o(v,["unlink"])}},H={DEFAULT_HEADERS:B,NONE:null,CLIENT_ERROR:"CLIENT_ERROR",SERVER_ERROR:"SERVER_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",CONNECTION_ERROR:"CONNECTION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",UNKNOWN_ERROR:"UNKNOWN_ERROR",create:z};e.DEFAULT_HEADERS=B,e.NONE=null,e.CLIENT_ERROR="CLIENT_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT_ERROR="TIMEOUT_ERROR",e.CONNECTION_ERROR="CONNECTION_ERROR",e.NETWORK_ERROR="NETWORK_ERROR",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.CANCEL_ERROR="CANCEL_ERROR",e.create=z,e.default=H},function(t,e,n){var r=n(17),o=n(32);t.exports=o(r)},function(t,e,n){var r=n(3),o=n(0);t.exports=function(t){return o(function(e,n){return r(Math.max(0,e.length-n.length),function(){return e.apply(this,t(n,arguments))})})}},function(t,e,n){var r=n(3),o=n(34),i=n(11),u=n(38);t.exports=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return r(arguments[0].length,i(o,arguments[0],u(arguments)))}},function(t,e){t.exports=function(t,e){return function(){return e.call(this,t.apply(this,arguments))}}},function(t,e,n){var r=n(1),o=n(9),i=n(18);t.exports=r(function(t){return!!o(t)||!!t&&("object"==typeof t&&(!i(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})},function(t,e){t.exports=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},function(e){return new t(e)}}()},function(t,e,n){var r=n(3),o=n(0);t.exports=o(function(t,e){return r(t.length,function(){return t.apply(e,arguments)})})},function(t,e,n){var r=n(12),o=n(1),i=n(39);t.exports=o(r("tail",i(1,1/0)))},function(t,e,n){var r=n(12),o=n(4);t.exports=o(r("slice",function(t,e,n){return Array.prototype.slice.call(n,t,e)}))},function(t,e,n){var r=n(12),o=n(0);t.exports=o(r("forEach",function(t,e){for(var n=e.length,r=0;r<n;)t(e[r]),r+=1;return e}))},function(t,e,n){var r=n(0);t.exports=r(function(t,e){var n={};for(var r in e)n[r]=e[r];return delete n[t],n})},function(t,e,n){var r=n(43),o=n(0);t.exports=o(function(t,e){return r({},t,e)})},function(t,e,n){var r=n(44);t.exports="function"==typeof Object.assign?Object.assign:r},function(t,e,n){var r=n(5);t.exports=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,o=arguments.length;n<o;){var i=arguments[n];if(null!=i)for(var u in i)r(u,i)&&(e[u]=i[u]);n+=1}return e}},function(t,e,n){var r=n(4),o=n(6);t.exports=r(function(t,e,n){return o(Math.max(t.length,e.length,n.length),function(){return t.apply(this,arguments)?e.apply(this,arguments):n.apply(this,arguments)})})},function(t,e,n){var r=n(3),o=n(7);t.exports=function t(e,n,i){return function(){for(var u=[],s=0,a=e,c=0;c<n.length||s<arguments.length;){var f;c<n.length&&(!o(n[c])||s>=arguments.length)?f=n[c]:(f=arguments[s],s+=1),u[c]=f,o(f)||(a-=1),c+=1}return a<=0?i.apply(this,u):r(a,t(e,u,i))}}},function(t,e,n){var r=n(4);t.exports=r(function(t,e,n){return t(n[e])})},function(t,e,n){var r=n(4),o=n(22);t.exports=r(function(t,e,n){return o(t,n[e])})},function(t,e,n){var r=n(0),o=n(5);t.exports=r(o)},function(t,e,n){var r=n(51),o=n(59);t.exports=r(o)},function(t,e,n){var r=n(1),o=n(52);t.exports=r(function(t){return o(t.length,t)})},function(t,e,n){var r=n(0),o=n(8),i=n(53),u=n(6),s=n(10);t.exports=r(function(t,e){var n=u(t,e);return u(t,function(){return o(i,s(n,arguments[0]),Array.prototype.slice.call(arguments,1))})})},function(t,e,n){var r=n(17),o=n(0),i=n(8),u=n(10);t.exports=o(function(t,e){return"function"==typeof e["fantasy-land/ap"]?e["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(e):"function"==typeof t?function(n){return t(n)(e(n))}:i(function(t,n){return r(t,u(n,e))},[],t)})},function(t,e,n){var r=n(9),o=n(55);t.exports=function(t,e,n){return function(){if(0===arguments.length)return n();var i=Array.prototype.slice.call(arguments,0),u=i.pop();if(!r(u)){for(var s=0;s<t.length;){if("function"==typeof u[t[s]])return u[t[s]].apply(u,i);s+=1}if(o(u)){return e.apply(null,i)(u)}}return n.apply(this,arguments)}}},function(t,e){t.exports=function(t){return"function"==typeof t["@@transducer/step"]}},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,o=Array(r);n<r;)o[n]=t(e[n]),n+=1;return o}},function(t,e,n){var r=n(0),o=n(58);t.exports=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},r(function(e,n){return new t(e,n)})}()},function(t,e){t.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}}},function(t,e,n){var r=n(1);t.exports=r(function(t){return!t})},function(t,e,n){var r=n(1),o=n(61),i=n(23);t.exports=r(function(t){return null!=t&&i(t,o(t))})},function(t,e,n){var r=n(1),o=n(19),i=n(9),u=n(62),s=n(18);t.exports=r(function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():i(t)?[]:s(t)?"":u(t)?{}:o(t)?function(){return arguments}():void 0})},function(t,e){t.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(64),o=n(65),i=n(5),u=n(66),s=n(13),a=n(67);t.exports=function t(e,n,c,f){if(u(e,n))return!0;if(a(e)!==a(n))return!1;if(null==e||null==n)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof n.equals)return"function"==typeof e.equals&&e.equals(n)&&"function"==typeof n.equals&&n.equals(e);switch(a(e)){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===o(e.constructor))return e===n;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof n||!u(e.valueOf(),n.valueOf()))return!1;break;case"Date":if(!u(e.valueOf(),n.valueOf()))return!1;break;case"Error":return e.name===n.name&&e.message===n.message;case"RegExp":if(e.source!==n.source||e.global!==n.global||e.ignoreCase!==n.ignoreCase||e.multiline!==n.multiline||e.sticky!==n.sticky||e.unicode!==n.unicode)return!1;break;case"Map":case"Set":if(!t(r(e.entries()),r(n.entries()),c,f))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=s(e);if(l.length!==s(n).length)return!1;for(var p=c.length-1;p>=0;){if(c[p]===e)return f[p]===n;p-=1}for(c.push(e),f.push(n),p=l.length-1;p>=0;){var h=l[p];if(!i(h,n)||!t(n[h],e[h],c,f))return!1;p-=1}return c.pop(),f.pop(),!0}},function(t,e){t.exports=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}},function(t,e){t.exports=function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t===e?0!==t||1/t==1/e:t!==t&&e!==e})},function(t,e,n){var r=n(1);t.exports=r(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)})},function(t,e,n){var r=n(1),o=n(6),i=n(24),u=n(69),s=n(11);t.exports=r(function(t){return o(s(i,0,u("length",t)),function(){for(var e=0,n=t.length;e<n;){if(t[e].apply(this,arguments))return!0;e+=1}return!1})})},function(t,e,n){var r=n(0),o=n(10),i=n(20);t.exports=r(function(t,e){return o(i(t),e)})},function(t,e,n){var r=n(71),o=n(0);t.exports=o(r)},function(t,e,n){var r=n(72);t.exports=function(t,e){return r(e,t,0)>=0}},function(t,e,n){var r=n(23);t.exports=function(t,e,n){var o,i;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(o=1/e;n<t.length;){if(0===(i=t[n])&&1/i===o)return n;n+=1}return-1}if(e!==e){for(;n<t.length;){if("number"==typeof(i=t[n])&&i!==i)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(r(t[n],e))return n;n+=1}return-1}},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t>=e})},function(t,e,n){var r=n(1),o=n(6);t.exports=r(function(t){return o(t.length,t)})},function(t,e,n){var r=n(21);t.exports=r(!0)},function(t,e,n){var r=n(1),o=n(77);t.exports=r(o)},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(1);t.exports=r(function(t){return null==t})},function(t,e,n){var r=n(3),o=n(1),i=n(10),u=n(24),s=n(11);t.exports=o(function(t){var e=s(u,0,i(function(t){return t[0].length},t));return r(e,function(){for(var e=0;e<t.length;){if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments);e+=1}})})},function(t,e,n){t.exports=n(81)},function(t,e,n){"use strict";function r(t){var e=new u(t),n=i(u.prototype.request,e);return o.extend(n,u.prototype,e),o.extend(n,e),n}var o=n(2),i=n(25),u=n(83),s=n(14),a=r(s);a.Axios=u,a.create=function(t){return r(o.merge(s,t))},a.Cancel=n(29),a.CancelToken=n(98),a.isCancel=n(28),a.all=function(t){return Promise.all(t)},a.spread=n(99),t.exports=a,t.exports.default=a},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},function(t,e,n){"use strict";function r(t){this.defaults=t,this.interceptors={request:new u,response:new u}}var o=n(14),i=n(2),u=n(93),s=n(94),a=n(96),c=n(97);r.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),t=i.merge(o,this.defaults,{method:"get"},t),t.method=t.method.toLowerCase(),t.baseURL&&!a(t.url)&&(t.url=c(t.baseURL,t.url));var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],function(t){r.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){r.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=r},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function u(){y&&h&&(y=!1,h.length?d=h.concat(d):v=-1,d.length&&s())}function s(){if(!y){var t=o(u);y=!0;for(var e=d.length;e;){for(h=d,d=[];++v<e;)h&&h[v].run();v=-1,e=d.length}h=null,y=!1,i(t)}}function a(t,e){this.fun=t,this.array=e}function c(){}var f,l,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var h,d=[],y=!1,v=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new a(t,e)),1!==d.length||y||o(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(27);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}},function(t,e,n){"use strict";function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=n(2);t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(o.isURLSearchParams(e))i=e.toString();else{var u=[];o.forEach(e,function(t,e){null!==t&&void 0!==t&&(o.isArray(t)&&(e+="[]"),o.isArray(t)||(t=[t]),o.forEach(t,function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=JSON.stringify(t)),u.push(r(e)+"="+r(t))}))}),i=u.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t){var e,n,o,i={};return t?(r.forEach(t.split("\n"),function(t){o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e&&(i[e]=i[e]?i[e]+", "+n:n)}),i):i}},function(t,e,n){"use strict";var r=n(2);t.exports=r.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return e=t(window.location.href),function(n){var o=r.isString(n)?t(n):n;return o.protocol===e.protocol&&o.host===e.host}}():function(){return function(){return!0}}()},function(t,e,n){"use strict";function r(){this.message="String contains an invalid character"}function o(t){for(var e,n,o=String(t),u="",s=0,a=i;o.charAt(0|s)||(a="=",s%1);u+=a.charAt(63&e>>8-s%1*8)){if((n=o.charCodeAt(s+=.75))>255)throw new r;e=e<<8|n}return u}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=o},function(t,e,n){"use strict";var r=n(2);t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,n,o,i,u){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===u&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e,n){"use strict";function r(){this.handlers=[]}var o=n(2);r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){o.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},function(t,e,n){"use strict";function r(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var o=n(2),i=n(95),u=n(28),s=n(14);t.exports=function(t){return r(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=o.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return r(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return u(e)||(r(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new o(t),e(n.reason))})}var o=n(29);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var r,o,i,u,s,a,c,f=n(101),l=n(115),p=Function.prototype.apply,h=Function.prototype.call,d=Object.create,y=Object.defineProperty,v=Object.defineProperties,g=Object.prototype.hasOwnProperty,m={configurable:!0,enumerable:!1,writable:!0};r=function(t,e){var n;return l(e),g.call(this,"__ee__")?n=this.__ee__:(n=m.value=d(null),y(this,"__ee__",m),m.value=null),n[t]?"object"==typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},o=function(t,e){var n,o;return l(e),o=this,r.call(this,t,n=function(){i.call(o,t,n),p.call(e,this,arguments)}),n.__eeOnceListener__=e,this},i=function(t,e){var n,r,o,i;if(l(e),!g.call(this,"__ee__"))return this;if(n=this.__ee__,!n[t])return this;if("object"==typeof(r=n[t]))for(i=0;o=r[i];++i)o!==e&&o.__eeOnceListener__!==e||(2===r.length?n[t]=r[i?0:1]:r.splice(i,1));else r!==e&&r.__eeOnceListener__!==e||delete n[t];return this},u=function(t){var e,n,r,o,i;if(g.call(this,"__ee__")&&(o=this.__ee__[t]))if("object"==typeof o){for(n=arguments.length,i=new Array(n-1),e=1;e<n;++e)i[e-1]=arguments[e];for(o=o.slice(),e=0;r=o[e];++e)p.call(r,this,i)}else switch(arguments.length){case 1:h.call(o,this);break;case 2:h.call(o,this,arguments[1]);break;case 3:h.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),e=1;e<n;++e)i[e-1]=arguments[e];p.call(o,this,i)}},s={on:r,once:o,off:i,emit:u},a={on:f(r),once:f(o),off:f(i),emit:f(u)},c=v({},a),t.exports=e=function(t){return null==t?d(c):v(Object(t),a)},e.methods=s},function(t,e,n){"use strict";var r,o=n(102),i=n(110),u=n(111),s=n(112);r=t.exports=function(t,e){var n,r,u,a,c;return arguments.length<2||"string"!=typeof t?(a=e,e=t,t=null):a=arguments[2],null==t?(n=u=!0,r=!1):(n=s.call(t,"c"),r=s.call(t,"e"),u=s.call(t,"w")),c={value:e,configurable:n,enumerable:r,writable:u},a?o(i(a),c):c},r.gs=function(t,e,n){var r,a,c,f;return"string"!=typeof t?(c=n,n=e,e=t,t=null):c=arguments[3],null==e?e=void 0:u(e)?null==n?n=void 0:u(n)||(c=n,n=void 0):(c=e,e=n=void 0),null==t?(r=!0,a=!1):(r=s.call(t,"c"),a=s.call(t,"e")),f={get:e,set:n,configurable:r,enumerable:a},c?o(i(c),f):f}},function(t,e,n){"use strict";t.exports=n(103)()?Object.assign:n(104)},function(t,e,n){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(105),o=n(109),i=Math.max;t.exports=function(t,e){var n,u,s,a=i(arguments.length,2);for(t=Object(o(t)),s=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},u=1;u<a;++u)e=arguments[u],r(e).forEach(s);if(void 0!==n)throw n;return t}},function(t,e,n){"use strict";t.exports=n(106)()?Object.keys:n(107)},function(t,e,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){"use strict";var r=n(15),o=Object.keys;t.exports=function(t){return o(r(t)?Object(t):t)}},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";var r=n(15);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";var r=n(15),o=Array.prototype.forEach,i=Object.create,u=function(t,e){var n;for(n in t)e[n]=t[n]};t.exports=function(t){var e=i(null);return o.call(arguments,function(t){r(t)&&u(Object(t),e)}),e}},function(t,e,n){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";t.exports=n(113)()?String.prototype.contains:n(114)},function(t,e,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(t,e,n){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(16),i=n(117),u=function(){function t(t,e,n,r){this.retried=0,this.maxRetries=3,this.job=t,this.delegate=n,this.api=r,this.init(e)}return t.prototype.setJob=function(t){this.job=r({},t)},t.prototype.setContext=function(t){this.delegate=t},t.prototype.init=function(t){var e=this;t.onError=this.onError=function(t){return e.streamError(t)},t.onMessage=this.onMessage=function(t){return e.router(t)},t.onConnect=function(){e.invokeStreaming()},this.stompClient=new i.StompClient(t,this.job.expId)},t.prototype.reconnect=function(t){var e=this;this.stompClient.kill().then(function(){e.init(t)}).catch(function(t){console.error("something went wrong killing webstomp.")})},t.prototype.invokeStreaming=function(){var t=this,e="/experience/"+this.job.expId+"/trigger-event",n={exp_id:this.job.expId,act_id:this.job.actId};this.api.post(e,n).then(function(e){e.ok||t.job.onError(e.data)}).catch(function(e){t.job.onError(e)})},t.prototype.router=function(t){var e=JSON.parse(t.body);switch(e.event){case"actComplete":this.stompClient.disconnect();break;case"gotMessage":this.gotMessage(e);break;case"gotScene":this.gotScene(e)}},t.prototype.gotMessage=function(t){t&&this.delegate.emit(o.events.STATUS,t)},t.prototype.gotScene=function(t){if(t.output)if(t.output[t.sceneData.id].mp4Url){var e=void 0;if(t.hasOwnProperty("output")&&void 0!==t.output)for(var n in t.output){e=t.output[n],e.experience_id=t.id;break}null!=e?this.job.onSuccess&&this.job.onSuccess(e):this.job.onError&&this.job.onError(e)}else this.job.onError&&this.job.onError(t);else this.job.onError&&this.job.onError(t)},t.prototype.streamError=function(t){t.wasClean||(++this.retried,this.retried<this.maxRetries?(console.error("WebStomp error: (retrying: "+this.retried+")",t),this.stompClient.reconnect()):this.job.onError(t))},t}();e.MessageConsumer=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(118),o=function(){function t(t,e){this.config=t,this.expId=e,this.init()}return t.prototype.reconnect=function(){this.socket=null,this.client=null,this.init()},t.prototype.disconnect=function(){this.subscription.unsubscribe(),this.client.disconnect()},t.prototype.kill=function(){var t=this;return new Promise(function(e,n){t.client.connected?(t.subscription.unsubscribe(),t.client.disconnect(function(){e()})):e()}).catch(function(t){})},t.prototype.init=function(){var t=this;this.socket=new WebSocket(this.config.stompEndpoint),this.client=r.over(this.socket),this.client.debug=function(){},this.client.connect(this.config.user,this.config.password,this.subscribe=function(){return t.establishSubscription()},this.config.onError)},t.prototype.establishSubscription=function(){this.subscription=this.client.subscribe(""+this.config.exchangeRoute+this.expId,this.config.onMessage),this.config.onConnect()},t}();e.StompClient=o},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){var e=encodeURIComponent(t),n=e.replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x"+e)}),r=Array.prototype.map.call(n,function(t){return t.charCodeAt(0)});return new Uint8Array(r)}function i(t){var e=String.fromCharCode.apply(String,r(t)),n=e.replace(/(.)/g,function(t,e){var n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n});return decodeURIComponent(n)}function u(t){return t?encodeURIComponent(t).match(/%..|./g).length:0}function s(){return(new Date).getTime()+"-"+Math.floor(1e3*Math.random())}Object.defineProperty(e,"__esModule",{value:!0}),e.unicodeStringToTypedArray=o,e.typedArrayToUnicodeString=i,e.sizeOfUTF8=u,e.createId=s;e.VERSIONS={V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.2,1.1,1.0"},supportedProtocols:function(){return["v10.stomp","v11.stomp","v12.stomp"]}},e.BYTES={LF:"\n",NULL:"\0"},e.trim=function(t){return t.replace(/^\s+|\s+$/g,"")}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,s=t[Symbol.iterator]();!(r=(u=s.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(2),s=function(t){return t&&t.__esModule?t:{default:t}}(u),a=n(0),c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=n.binary,i=void 0!==o&&o,u=n.heartbeat,s=void 0===u?{outgoing:1e4,incoming:1e4}:u,a=n.debug,c=void 0===a||a;this.ws=e,this.ws.binaryType="arraybuffer",this.isBinary=!!i,this.hasDebug=!!c,this.connected=!1,this.heartbeat=s||{outgoing:0,incoming:0},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData=""}return i(t,[{key:"debug",value:function(){var t;this.hasDebug&&(t=console).log.apply(t,arguments)}},{key:"connect",value:function(){var t=this,e=this._parseConnect.apply(this,arguments),n=o(e,3),r=n[0],i=n[1],u=n[2];this.connectCallback=i,this.debug("Opening Web Socket..."),this.ws.onmessage=function(e){var n=e.data;if(e.data instanceof ArrayBuffer&&(n=(0,a.typedArrayToUnicodeString)(new Uint8Array(e.data))),t.serverActivity=Date.now(),n===a.BYTES.LF)return void t.debug("<<< PONG");t.debug("<<< "+n);var r=s.default.unmarshall(t.partialData+n);t.partialData=r.partial,r.frames.forEach(function(e){switch(e.command){case"CONNECTED":t.debug("connected to server "+e.headers.server),t.connected=!0,t.version=e.headers.version,t._setupHeartbeat(e.headers),i&&i(e);break;case"MESSAGE":var n=e.headers.subscription,r=t.subscriptions[n]||t.onreceive;if(r){var o=t.version===a.VERSIONS.V1_2&&e.headers.ack||e.headers["message-id"];e.ack=t.ack.bind(t,o,n),e.nack=t.nack.bind(t,o,n),r(e)}else t.debug("Unhandled received MESSAGE: "+e);break;case"RECEIPT":t.onreceipt&&t.onreceipt(e);break;case"ERROR":u&&u(e);break;default:t.debug("Unhandled frame: "+e)}})},this.ws.onclose=function(e){t.debug("Whoops! Lost connection to "+t.ws.url+":",{event:e}),t._cleanUp(),u&&u(e)},this.ws.onopen=function(){t.debug("Web Socket Opened..."),r["accept-version"]=a.VERSIONS.supportedVersions(),r["heart-beat"]||(r["heart-beat"]=[t.heartbeat.outgoing,t.heartbeat.incoming].join(",")),t._transmit("CONNECT",r)}}},{key:"disconnect",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._transmit("DISCONNECT",e),this.ws.onclose=null,this.ws.close(),this._cleanUp(),t&&t()}},{key:"send",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n);r.destination=t,this._transmit("SEND",r,e)}},{key:"begin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tx-"+(0,a.createId)();return this._transmit("BEGIN",{transaction:t}),{id:t,commit:this.commit.bind(this,t),abort:this.abort.bind(this,t)}}},{key:"commit",value:function(t){this._transmit("COMMIT",{transaction:t})}},{key:"abort",value:function(t){this._transmit("ABORT",{transaction:t})}},{key:"ack",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n);r[this.version===a.VERSIONS.V1_2?"id":"message-id"]=t,r.subscription=e,this._transmit("ACK",r)}},{key:"nack",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n);r[this.version===a.VERSIONS.V1_2?"id":"message-id"]=t,r.subscription=e,this._transmit("NACK",r)}},{key:"subscribe",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n);return r.id||(r.id="sub-"+(0,a.createId)()),r.destination=t,this.subscriptions[r.id]=e,this._transmit("SUBSCRIBE",r),{id:r.id,unsubscribe:this.unsubscribe.bind(this,r.id)}}},{key:"unsubscribe",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},e);delete this.subscriptions[t],n.id=t,this._transmit("UNSUBSCRIBE",n)}},{key:"_cleanUp",value:function(){this.connected=!1,clearInterval(this.pinger),clearInterval(this.ponger)}},{key:"_transmit",value:function(t,e,n){var r=s.default.marshall(t,e,n);this.debug(">>> "+r,{frame:{command:t,headers:e,body:n}}),this._wsSend(r)}},{key:"_wsSend",value:function(t){for(this.isBinary&&(t=(0,a.unicodeStringToTypedArray)(t)),this.debug(">>> length "+t.length);;){if(!(t.length>this.maxWebSocketFrameSize))return this.ws.send(t);this.ws.send(t.slice(0,this.maxWebSocketFrameSize)),t=t.slice(this.maxWebSocketFrameSize),this.debug("remaining = "+t.length)}}},{key:"_setupHeartbeat",value:function(t){var e=this;if(this.version===a.VERSIONS.V1_1||this.version===a.VERSIONS.V1_2){var n=(t["heart-beat"]||"0,0").split(",").map(function(t){return parseInt(t,10)}),r=o(n,2),i=r[0],u=r[1];if(0!==this.heartbeat.outgoing&&0!==u){var s=Math.max(this.heartbeat.outgoing,u);this.debug("send PING every "+s+"ms"),this.pinger=setInterval(function(){e._wsSend(a.BYTES.LF),e.debug(">>> PING")},s)}if(0!==this.heartbeat.incoming&&0!==i){var c=Math.max(this.heartbeat.incoming,i);this.debug("check PONG every "+c+"ms"),this.ponger=setInterval(function(){var t=Date.now()-e.serverActivity;t>2*c&&(e.debug("did not receive server activity for the last "+t+"ms"),e.ws.close())},c)}}}},{key:"_parseConnect",value:function(){for(var t={},e=void 0,n=void 0,r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];switch(o.length){case 2:t=o[0],e=o[1];break;case 3:o[1]instanceof Function?(t=o[0],e=o[1],n=o[2]):(t.login=o[0],t.passcode=o[1],e=o[2]);break;case 4:t.login=o[0],t.passcode=o[1],e=o[2],n=o[3];break;default:t.login=o[0],t.passcode=o[1],e=o[2],n=o[3],t.host=o[4]}return[t,e,n]}}]),t}();e.default=c,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r(this,t),this.command=e,this.headers=n,this.body=o}return o(t,[{key:"toString",value:function(){var t=this,e=[this.command],n=!1===this.headers["content-length"];return n&&delete this.headers["content-length"],Object.keys(this.headers).forEach(function(n){var r=t.headers[n];e.push(n+":"+r)}),this.body&&!n&&e.push("content-length:"+(0,i.sizeOfUTF8)(this.body)),e.push(i.BYTES.LF+this.body),e.join(i.BYTES.LF)}}],[{key:"unmarshallSingle",value:function(e){var n=e.search(new RegExp(i.BYTES.LF+i.BYTES.LF)),r=e.substring(0,n).split(i.BYTES.LF),o=r.shift(),u={},s="",a=n+2,c=!0,f=!1,l=void 0;try{for(var p,h=r.reverse()[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var d=p.value,y=d.indexOf(":");u[(0,i.trim)(d.substring(0,y))]=(0,i.trim)(d.substring(y+1))}}catch(t){f=!0,l=t}finally{try{!c&&h.return&&h.return()}finally{if(f)throw l}}if(u["content-length"]){s=(""+e).substring(a,a+parseInt(u["content-length"],10))}else for(var v=null,g=a;g<e.length&&(v=e.charAt(g))!==i.BYTES.NULL;g++)s+=v;return new t(o,u,s)}},{key:"unmarshall",value:function(e){var n=e.split(new RegExp(i.BYTES.NULL+i.BYTES.LF+"*")),r=n.slice(0,-1),o=n.slice(-1)[0],u={frames:r.map(function(e){return t.unmarshallSingle(e)}),partial:""};return o===i.BYTES.LF||-1!==o.search(RegExp(i.BYTES.NULL+i.BYTES.LF+"*$"))?u.frames.push(t.unmarshallSingle(o)):u.partial=o,u}},{key:"marshall",value:function(e,n,r){return new t(e,n,r).toString()+i.BYTES.NULL}}]),t}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=n(0),u={VERSIONS:i.VERSIONS,client:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new WebSocket(t,e.protocols||i.VERSIONS.supportedProtocols());return new o.default(n,e)},over:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new(Function.prototype.bind.apply(o.default,[null].concat(e)))}};e.default=u,t.exports=e.default}])})}])});
//# sourceMappingURL=imposium.js.map