<!doctype html>

<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Imposium JS Barebones Example</title>
		<link rel="stylesheet" href="./css/styles.css">
		<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet">
	</head>

	<body>

		<header>
			<img class="logo" src="./img/imposium_logo@2x.png"/>
			<h1>Barebones Example</h1>
			<p>This example represents the absolute bare minimum of code required to create a dynamic video. Enter a caption, hit "Submit", and wait until the video is rendered and begins to play.</p>
		</header>
		
		<div id="inputs">
			<section>
				<label for="caption">
					Enter Caption:
				</label>
				<br/>
				<input 
					id="caption" 
					name="caption" 
					type="text" 
					placeholder="<Witty Caption>"/>				
			</section>

			<button 
				id="btn-submit" 
				class="btn submit">
				Submit
			</button>
		</div>

		<section id="player-wrapper">
			<p id = "status"></p>
			<video id="dynamic-video" />
		</section>

		<script type = "text/javascript" src = "../../lib/imposium.js"></script>
		<script type = "text/javascript">
			
			//Store all required HTML refs
			var btnSubmit = document.getElementById('btn-submit'),
				videoNode = document.getElementById('dynamic-video'),
				captionInput = document.getElementById('caption');

			//Create an instance of the Client and Player
			var client = new Imposium.Client({
				accessToken:'zooch5ja8fiejoojoo6AeQuahmex1wes',
				storyId:'295a80d0-871c-4def-a579-8a375d6942fc'
			});
			var player = new Imposium.Player(videoNode, client);

			//Listen for the client event on the submit button
			btnSubmit.addEventListener('click', submit);

			function submit(e){

				e.preventDefault();

				//Create the Imposium Experience
				client.createExperience({
					text:captionInput.value,
				});
			}

		</script>
	</body>
</html>